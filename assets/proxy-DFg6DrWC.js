import{e as a,ae as u,ah as o,ai as p,aj as l,ak as m}from"./tool-BLEDneDs.js";const x=()=>{const e=a(),s=u.create();return s.interceptors.request.use(r=>{if(o.runtime.webSecurity()&&r.url&&p.is(r.url)){if(!e.items.proxy_enable||!e.items.proxy_url)throw new Error($t("main_network_request_proxy_prompt"));r.headers=r.headers?r.headers:new l;const t=r.url.includes("?")?"&":"?";r.headers["Ctool-Proxy-Url"]=`${r.url}${r.params?`${t}${m.stringify(r.params)}`:""}`,r.params=void 0,r.url=e.items.proxy_url}return r}),s};export{x as a};
