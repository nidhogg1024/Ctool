import{u as h,i as w}from"./action-BZ3Nddn_.js";import{d as A,L as U,M as E,T as l,c as v,w as p,r as u,a as z,x as a,j as r,Q as B,O as C}from"./tool-BLEDneDs.js";import{p as c}from"./pako.esm-Bz_5VtQY.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-mathjs-__1x7LJv.js";import"./vendor-monaco-DSX5bDTJ.js";import"./vendor-lodash-rhkwYG98.js";const j=A({__name:"Encoder",async setup(O){let i,s;const t=h(([i,s]=U(()=>w({input:C("text"),deflate:!1,output:B("base64")})),i=await i,s(),i)),m=E(()=>{if(t.current.input.text.isEmpty())return l.empty();if(t.current.input.text.isError())return t.current.input.text;try{if(!t.current.input.text.isText())throw new Error("input content must text / text file");let n;return t.current.deflate?n=l.fromUint8Array(c.deflate(t.current.input.text.toUint8Array())):n=l.fromUint8Array(c.gzip(t.current.input.text.toUint8Array())),n.setExtension(".gz"),n}catch(n){return l.fromError($error(n))}});return(n,e)=>{const d=u("TextInput"),f=u("Bool"),x=u("Display"),_=u("TextOutput"),g=u("Align"),y=u("HeightResize");return z(),v(y,{reduce:5},{default:p(({small:V,large:T})=>[a(g,{direction:"vertical"},{default:p(()=>[a(x,null,{extra:p(()=>[a(f,{modelValue:r(t).current.deflate,"onUpdate:modelValue":e[1]||(e[1]=o=>r(t).current.deflate=o),label:"Deflate"},null,8,["modelValue"])]),default:p(()=>[a(d,{modelValue:r(t).current.input,"onUpdate:modelValue":e[0]||(e[0]=o=>r(t).current.input=o),height:V,upload:"file",encoding:""},null,8,["modelValue","height"])]),_:2},1024),a(_,{modelValue:r(t).current.output,"onUpdate:modelValue":e[2]||(e[2]=o=>r(t).current.output=o),allow:["base64","hex","down"],content:m.value,height:T,onSuccess:e[3]||(e[3]=o=>r(t).save())},null,8,["modelValue","content","height"])]),_:2},1024)]),_:1})}}});export{j as default};
