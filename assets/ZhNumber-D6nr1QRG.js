import{u as X,i as ee}from"./action-CSt0YebL.js";import{K as te,d as re,y as ne,z as E,c as q,w as C,r as x,f as F,v as z,k as ae,q as ce,j as U,F as ue}from"./tool-Ct-LHwIw.js";import"./modulepreload-polyfill-B5Qt9EMX.js";var A={},K=/^([+-])?0*(\d+)(\.(\d+))?$/,T=/^([+-])?0*(\d+)(\.(\d+))?e(([+-])?(\d+))$/i,ie=A.e2ten=function(r){var e=T.exec(r.toString());if(!e)return r;var n=e[2],t=e[4]||"",a=e[5]?+e[5]:0;if(a>0){var c=t.substr(0,a);c=c.length<a?c+new Array(a-c.length+1).join("0"):c,t=t.substr(a),n+=c}else{a=-a;var i=n.length-a;i=i<0?0:i;var p=n.substr(i,a);p=p.length<a?new Array(a-p.length+1).join("0")+p:p,n=n.substring(0,i),t=p+t}return n=n==""?"0":n,(e[1]=="-"?"-":"")+n+(t?"."+t:"")};A.getNumbResult=function(r){var e=K.exec(r.toString());if(!e&&T.test(r.toString())&&(e=K.exec(ie(r.toString()))),e)return{int:e[2],decimal:e[4],minus:e[1]=="-",num:e.slice(1,3).join("")}};A.centerArray=function r(e,n){if(e.splice.apply(e,[0,n.length].concat(n.splice(0,n.length))),arguments.length>2){var t=[].slice.call(arguments,2);t.unshift(e),r.apply(null,t)}return e};var le=A.hasAttr=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)};A.extend=function(r){for(var e,n=arguments[0]||{},t=Array.prototype.slice.call(arguments,1),a=0;a<t.length;a++){var c=t[a];for(e in c)le(c,e)&&(n[e]=c[e])}return n};A.getDigit=function(r){return r>=5?(r-4)*4+4:r};A.unshiftZero=function(r,e){if(e==null&&(e=1),!(e<=0))for(;e--;)r.unshift(0)};A.clearZero=function(r,e,n){if(r==null)return"";var t=~"*.?+$^[](){}|\\/".indexOf(e)?"\\"+e:e,a=new RegExp("^"+t+"+"),c=new RegExp(t+"+$"),i=new RegExp(t+"{2}","g");return r=r.toString(),n=="^"&&(r=r.replace(a,"")),(!n||n=="$")&&(r=r.replace(c,"")),(!n||n=="nto1")&&(r=r.replace(i,e)),r};var d=A;function N(r,e){var n=d.getNumbResult(r);if(!n)return r;e=e||{};var t=this.ch,a=this.ch_u,c=this.ch_f||"",i=this.ch_d||".",p=t.charAt(0),v=n.int,h=n.decimal,o=n.minus,l="",f="",u=o?c:"",s=function b(m,S,Ae){m=d.getNumbResult(m).int;var $="",Z=arguments.length>1?arguments[1]:e.tenMin,L=m.length;if(L==1)return t.charAt(+m);if(L<=4)for(var j=0,D=L;D--;){var M=+m.charAt(j);$+=Z&&L==2&&j==0&&M==1?"":t.charAt(M),$+=M&&D?a.charAt(D):"",j++}else{for(var V=m.length/4>>0,k=m.length%4;k==0||!a.charAt(3+V);)k+=4,V--;var W=m.substr(0,k),I=m.substr(k);$=b(W,Z)+a.charAt(3+V)+(I.charAt(0)=="0"?p:"")+b(I,I.length>4?Z:!1)}return $=d.clearZero($,p),$};if(h){h=d.clearZero(h,"0","$");for(var y=0;y<h.length;y++)f+=t.charAt(+h.charAt(y));f=f?i+f:""}if(l=s(v),e.ww&&a.length>5){var w=a.charAt(4),g=a.charAt(5),_=l.lastIndexOf(g);~_&&(l=l.substring(0,_).replace(new RegExp(g,"g"),w+w)+l.substring(_))}return u+l+f}function he(r){r=r.toString();var e=r.split(this.ch_d),n=e[0].replace(this.ch_f,""),t=e[1],a=!!~e[0].indexOf(this.ch_f),c=this.ch_u.charAt(1),i=this.ch_u.charAt(4),p=this.ch_u.charAt(5);n=n.replace(new RegExp(i+"{2}","g"),p);for(var v=n.split(""),h=0,o=0,l=[],f=[],u=[],s=0;s<v.length;s++){var y=v[s],w=0,g=0;if(~(w=this.ch.indexOf(y)))w>0&&u.unshift(w);else if(~(g=this.ch_u.indexOf(y))){var _=d.getDigit(g);h>g?(d.unshiftZero(u,_),d.centerArray(f,u)):g>=o?(s==0&&(u=[1]),d.centerArray(l,f,u),l.length>0&&d.unshiftZero(l,_),o=g):(u.length==0&&c==y&&(u=[1]),d.centerArray(f,u),d.unshiftZero(f,d.getDigit(g)),h=g)}}d.centerArray(l,f,u).reverse(),l.length==0&&l.push(0);var b=0;if(t){l.push("."),b="0.";for(var s=0;s<t.length;s++)b+=this.ch.indexOf(t.charAt(s)),l.push(this.ch.indexOf(t.charAt(s)));b=+b}return a&&l.unshift("-"),parseFloat(l.join(""))}function oe(r,e){var n={ww:!0,complete:!1,outSymbol:!0,unOmitYuan:!1,forceZheng:!1},t=d.getNumbResult(r),a=this.ch.charAt(0);if(e=typeof e=="object"?e:{},!t)return r;e=d.extend(n,e);var c=t.int,i=t.decimal||"",p=e.outSymbol?this.m_t:"",v=t.minus?this.ch_f:"",h="";if(e.complete){for(var o=1;o<this.m_u.length;o++)h+=N.call(this,i.charAt(o-1)||"0")+this.m_u.charAt(o);v+=N.call(this,c,e)+this.m_u.charAt(0)}else{var l=e.unOmitYuan||c!=="0";if(i=i.substr(0,this.m_u.length-1),i=d.clearZero(i,"0","$"),i)for(var f,o=0;o<this.m_u.length-1;o++)i.charAt(o)&&i.charAt(o)!="0"&&(h+=N.call(this,i.charAt(o))+this.m_u.charAt(o+1),f=!1),i.charAt(o)==="0"&&!f&&((o!=0||c!=="0")&&(h+=a),f=!0);(l||!h)&&(v+=N.call(this,c,e)+this.m_u.charAt(0)),e.forceZheng?(h==""||h.charAt(h.length-1)!==this.m_u[2])&&(h+=this.m_z):v+=t.decimal?"":this.m_z,e.forceZheng}return p+v+h}var J={CL:N,unCL:he,toMoney:oe},B=J,G=A;function se(r,e){return{encodeS:function(n,t){return t=G.extend({ww:!0,tenMin:!0},t),B.CL.call(r,n,t)},encodeB:function(n,t){return t=G.extend({ww:!0},t),B.CL.call(e,n,t)},decodeS:function(){return B.unCL.apply(r,arguments)},decodeB:function(){return B.unCL.apply(e,arguments)},toMoney:function(n,t){return t=G.extend({ww:!0},t),B.toMoney.call(e,n,t)}}}var fe=se,me={ch:"零一二三四五六七八九",ch_u:"个十百千万亿",ch_f:"负",ch_d:"点"},de={ch:"零壹贰叁肆伍陆柒捌玖",ch_u:"个拾佰仟万亿",ch_f:"负",ch_d:"点",m_t:"人民币",m_z:"整",m_u:"元角分"},pe={ch:"零一二三四五六七八九",ch_u:"個十百千萬億",ch_f:"負",ch_d:"點"},ge={ch:"零壹貳參肆伍陸柒捌玖",ch_u:"個拾佰仟萬億",ch_f:"負",ch_d:"點",m_t:"$",m_z:"整",m_u:"圓角分"},H=J,Q=fe,O={s:me,b:de,hk_s:pe,hk_b:ge},R=function(r){this.lang=r,this.encode=function(){return H.CL.apply(r,arguments)},this.decode=function(){return H.unCL.apply(r,arguments)},this.toMoney=function(){return H.toMoney.apply(r,arguments)}};R.langs=O;R.cn=Q(O.s,O.b);R.hk=Q(O.hk_s,O.hk_b);var ve=R;const P=te(ve),_e=["number","lower","upper","money"],Y=(r,e,n,t=!1)=>{if(r===""||e===n)return r;const a=t?P.hk:P.cn;if(e==="money")throw new Error("money convert is not support");return e==="number"&&(r=r.replaceAll(",","").replaceAll(" ","")),e==="number"&&n==="lower"?a.encodeS(r):e==="number"&&n==="upper"?a.encodeB(r):e==="number"&&n==="money"?a.toMoney(r):e==="lower"&&n==="number"?a.decodeS(r):e==="upper"&&n==="number"?a.decodeB(r):Y(Y(r,e,"number",t),"number",n,t)},$e=re({__name:"ZhNumber",async setup(r){let e,n;const t=X(([e,n]=ne(()=>ee({type:"",input:"",traditional:!1,map:_e},{paste:!1})),e=await e,n(),e)),a=u=>{if(t.current.type===""||t.current.input==="")return"";if(t.current.type===u)return t.current.input;try{return`${Y(t.current.input,t.current.type,u,t.current.traditional)}`}catch(s){return $error(s)}},c=u=>({get:()=>a(u),set:s=>i(u,s)}),i=(u,s)=>{t.current.input=`${s}`,t.current.type=u,t.current.input!==""&&t.save()},p=E(c("number")),v=E(c("lower")),h=E(c("upper")),o=E(c("money")),l={number:p,lower:v,upper:h,money:o},f=u=>{$copy(l[u].value)};return(u,s)=>{const y=x("Input"),w=x("Button"),g=x("Display"),_=x("Align"),b=x("Bool");return F(),q(_,{direction:"vertical"},{default:C(()=>[z(_,{direction:"vertical"},{default:C(()=>[(F(!0),ae(ue,null,ce(U(t).current.map,m=>(F(),q(g,{position:"right-center"},{extra:C(()=>[z(w,{text:u.$t(`zhNumber_${m}`),onClick:S=>f(`${m}`),size:"small",type:"primary"},null,8,["text","onClick"])]),default:C(()=>[z(y,{modelValue:l[`${m}`].value,"onUpdate:modelValue":S=>l[`${m}`].value=S,placeholder:u.$t("zhNumber_input_placeholder",[u.$t(`zhNumber_${m}`)]),size:"large"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024))),256))]),_:1}),z(_,{horizontal:"center"},{default:C(()=>[z(b,{border:"",label:u.$t("zhNumber_traditional"),modelValue:U(t).current.traditional,"onUpdate:modelValue":s[0]||(s[0]=m=>U(t).current.traditional=m)},null,8,["label","modelValue"])]),_:1})]),_:1})}}});export{$e as default};
