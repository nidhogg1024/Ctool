var Rh=Object.defineProperty;var Bh=(Te,Xt,kt)=>Xt in Te?Rh(Te,Xt,{enumerable:!0,configurable:!0,writable:!0,value:kt}):Te[Xt]=kt;var To=(Te,Xt,kt)=>Bh(Te,typeof Xt!="symbol"?Xt+"":Xt,kt);import{f as Ph}from"./standalone-BXZwVK2D.js";import{N as Uh,K as Mh}from"./tool-cO2MwZWv.js";import{B as Hh}from"./base-C4lZah3o.js";import"./modulepreload-polyfill-B5Qt9EMX.js";var Zu={exports:{}},Xu={exports:{}},Xa;function Gh(){return Xa||(Xa=1,function(Te,Xt){(function(kt){function _t(){var qe=kt();return qe.default||qe}Te.exports=_t()})(function(){var kt=Object.create,_t=Object.defineProperty,qe=Object.getOwnPropertyDescriptor,mo=Object.getOwnPropertyNames,xo=Object.getPrototypeOf,Ht=Object.prototype.hasOwnProperty,Hi=n=>{throw TypeError(n)},yo=(n,s)=>()=>(n&&(s=n(n=0)),s),Sn=(n,s)=>()=>(s||n((s={exports:{}}).exports,s),s.exports),Je=(n,s)=>{for(var o in s)_t(n,o,{get:s[o],enumerable:!0})},Gt=(n,s,o,u)=>{if(s&&typeof s=="object"||typeof s=="function")for(let h of mo(s))!Ht.call(n,h)&&h!==o&&_t(n,h,{get:()=>s[h],enumerable:!(u=qe(s,h))||u.enumerable});return n},Ne=(n,s,o)=>(o=n!=null?kt(xo(n)):{},Gt(_t(o,"default",{value:n,enumerable:!0}),n)),Gi=n=>Gt(_t({},"__esModule",{value:!0}),n),go=(n,s,o)=>s.has(n)||Hi("Cannot "+o),Co=(n,s,o)=>s.has(n)?Hi("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(n):s.set(n,o),st=(n,s,o)=>(go(n,s,"access private method"),o),Ln=Sn((n,s)=>{var o=new Proxy(String,{get:()=>o});s.exports=o}),In={};Je(In,{default:()=>Vi,shouldHighlight:()=>ji});var ji,Vi,Wi=yo(()=>{ji=()=>!1,Vi=String}),Fo=Sn((n,s)=>{var o=String,u=function(){return{isColorSupported:!1,reset:o,bold:o,dim:o,italic:o,underline:o,inverse:o,hidden:o,strikethrough:o,black:o,red:o,green:o,yellow:o,blue:o,magenta:o,cyan:o,white:o,gray:o,bgBlack:o,bgRed:o,bgGreen:o,bgYellow:o,bgBlue:o,bgMagenta:o,bgCyan:o,bgWhite:o}};s.exports=u(),s.exports.createColors=u}),Ao=Sn(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.codeFrameColumns=S,n.default=b;var s=(Wi(),Gi(In)),o=h(Fo(),!0);function u(v){if(typeof WeakMap!="function")return null;var O=new WeakMap,B=new WeakMap;return(u=function(Q){return Q?B:O})(v)}function h(v,O){if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var B=u(O);if(B&&B.has(v))return B.get(v);var Q={__proto__:null},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in v)if(G!=="default"&&{}.hasOwnProperty.call(v,G)){var z=j?Object.getOwnPropertyDescriptor(v,G):null;z&&(z.get||z.set)?Object.defineProperty(Q,G,z):Q[G]=v[G]}return Q.default=v,B&&B.set(v,Q),Q}var l=o.default,f=(v,O)=>B=>v(O(B)),D;function E(v){return v?(D!=null||(D=(0,o.createColors)(!0)),D):l}var g=!1;function C(v){return{gutter:v.gray,marker:f(v.red,v.bold),message:f(v.red,v.bold)}}var N=/\r\n|[\n\r\u2028\u2029]/;function F(v,O,B){let Q=Object.assign({column:0,line:-1},v.start),j=Object.assign({},Q,v.end),{linesAbove:G=2,linesBelow:z=3}=B||{},it=Q.line,X=Q.column,ht=j.line,mt=j.column,We=Math.max(it-(G+1),0),$e=Math.min(O.length,ht+z);it===-1&&(We=0),ht===-1&&($e=O.length);let zt=ht-it,lt={};if(zt)for(let At=0;At<=zt;At++){let bt=At+it;if(!X)lt[bt]=!0;else if(At===0){let re=O[bt-1].length;lt[bt]=[X,re-X+1]}else if(At===zt)lt[bt]=[0,mt];else{let re=O[bt-At].length;lt[bt]=[0,re]}}else X===mt?X?lt[it]=[X,0]:lt[it]=!0:lt[it]=[X,mt-X];return{start:We,end:$e,markerLines:lt}}function S(v,O,B={}){let Q=(B.highlightCode||B.forceColor)&&(0,s.shouldHighlight)(B),j=E(B.forceColor),G=C(j),z=(lt,At)=>Q?lt(At):At,it=v.split(N),{start:X,end:ht,markerLines:mt}=F(O,it,B),We=O.start&&typeof O.start.column=="number",$e=String(ht).length,zt=(Q?(0,s.default)(v,B):v).split(N,ht).slice(X,ht).map((lt,At)=>{let bt=X+1+At,re=` ${` ${bt}`.slice(-$e)} |`,yn=mt[bt],oo=!mt[bt+1];if(yn){let gn="";if(Array.isArray(yn)){let Nu=lt.slice(0,Math.max(yn[0]-1,0)).replace(/[^\t]/g," "),Su=yn[1]||1;gn=[`
 `,z(G.gutter,re.replace(/\d/g," "))," ",Nu,z(G.marker,"^").repeat(Su)].join(""),oo&&B.message&&(gn+=" "+z(G.message,B.message))}return[z(G.marker,">"),z(G.gutter,re),lt.length>0?` ${lt}`:"",gn].join("")}else return` ${z(G.gutter,re)}${lt.length>0?` ${lt}`:""}`}).join(`
`);return B.message&&!We&&(zt=`${" ".repeat($e+1)}${B.message}
${zt}`),Q?j.reset(zt):zt}function b(v,O,B,Q={}){if(!g){g=!0;let j="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";{let G=new Error(j);G.name="DeprecationWarning",console.warn(new Error(j))}}return B=Math.max(B,0),S(v,{start:{column:B,line:O}},Q)}}),$i={};Je($i,{__debug:()=>ro,check:()=>so,doc:()=>Ai,format:()=>io,formatWithCursor:()=>Ni,getSupportInfo:()=>vu,util:()=>bi,version:()=>Tu});var bo=(n,s,o,u)=>{if(!(n&&s==null))return s.replaceAll?s.replaceAll(o,u):o.global?s.replace(o,u):s.split(o).join(u)},me=bo;function Z(){}Z.prototype={diff:function(n,s){var o,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=u.callback;typeof u=="function"&&(h=u,u={}),this.options=u;var l=this;function f(j){return h?(setTimeout(function(){h(void 0,j)},0),!0):j}n=this.castInput(n),s=this.castInput(s),n=this.removeEmpty(this.tokenize(n)),s=this.removeEmpty(this.tokenize(s));var D=s.length,E=n.length,g=1,C=D+E;u.maxEditLength&&(C=Math.min(C,u.maxEditLength));var N=(o=u.timeout)!==null&&o!==void 0?o:1/0,F=Date.now()+N,S=[{oldPos:-1,lastComponent:void 0}],b=this.extractCommon(S[0],s,n,0);if(S[0].oldPos+1>=E&&b+1>=D)return f([{value:this.join(s),count:s.length}]);var v=-1/0,O=1/0;function B(){for(var j=Math.max(v,-g);j<=Math.min(O,g);j+=2){var G=void 0,z=S[j-1],it=S[j+1];z&&(S[j-1]=void 0);var X=!1;if(it){var ht=it.oldPos-j;X=it&&0<=ht&&ht<D}var mt=z&&z.oldPos+1<E;if(!X&&!mt){S[j]=void 0;continue}if(!mt||X&&z.oldPos+1<it.oldPos?G=l.addToPath(it,!0,void 0,0):G=l.addToPath(z,void 0,!0,1),b=l.extractCommon(G,s,n,j),G.oldPos+1>=E&&b+1>=D)return f(On(l,G.lastComponent,s,n,l.useLongestToken));S[j]=G,G.oldPos+1>=E&&(O=Math.min(O,j-1)),b+1>=D&&(v=Math.max(v,j+1))}g++}if(h)(function j(){setTimeout(function(){if(g>C||Date.now()>F)return h();B()||j()},0)})();else for(;g<=C&&Date.now()<=F;){var Q=B();if(Q)return Q}},addToPath:function(n,s,o,u){var h=n.lastComponent;return h&&h.added===s&&h.removed===o?{oldPos:n.oldPos+u,lastComponent:{count:h.count+1,added:s,removed:o,previousComponent:h.previousComponent}}:{oldPos:n.oldPos+u,lastComponent:{count:1,added:s,removed:o,previousComponent:h}}},extractCommon:function(n,s,o,u){for(var h=s.length,l=o.length,f=n.oldPos,D=f-u,E=0;D+1<h&&f+1<l&&this.equals(s[D+1],o[f+1]);)D++,f++,E++;return E&&(n.lastComponent={count:E,previousComponent:n.lastComponent}),n.oldPos=f,D},equals:function(n,s){return this.options.comparator?this.options.comparator(n,s):n===s||this.options.ignoreCase&&n.toLowerCase()===s.toLowerCase()},removeEmpty:function(n){for(var s=[],o=0;o<n.length;o++)n[o]&&s.push(n[o]);return s},castInput:function(n){return n},tokenize:function(n){return n.split("")},join:function(n){return n.join("")}};function On(n,s,o,u,h){for(var l=[],f;s;)l.push(s),f=s.previousComponent,delete s.previousComponent,s=f;l.reverse();for(var D=0,E=l.length,g=0,C=0;D<E;D++){var N=l[D];if(N.removed){if(N.value=n.join(u.slice(C,C+N.count)),C+=N.count,D&&l[D-1].added){var F=l[D-1];l[D-1]=l[D],l[D]=F}}else{if(!N.added&&h){var S=o.slice(g,g+N.count);S=S.map(function(v,O){var B=u[C+O];return B.length>v.length?B:v}),N.value=n.join(S)}else N.value=n.join(o.slice(g,g+N.count));g+=N.count,N.added||(C+=N.count)}}var b=l[E-1];return E>1&&typeof b.value=="string"&&(b.added||b.removed)&&n.equals("",b.value)&&(l[E-2].value+=b.value,l.pop()),l}var Qi=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,wn=/\S/,Yi=new Z;Yi.equals=function(n,s){return this.options.ignoreCase&&(n=n.toLowerCase(),s=s.toLowerCase()),n===s||this.options.ignoreWhitespace&&!wn.test(n)&&!wn.test(s)},Yi.tokenize=function(n){for(var s=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),o=0;o<s.length-1;o++)!s[o+1]&&s[o+2]&&Qi.test(s[o])&&Qi.test(s[o+2])&&(s[o]+=s[o+2],s.splice(o+1,2),o--);return s};var zi=new Z;zi.tokenize=function(n){this.options.stripTrailingCr&&(n=n.replace(/\r\n/g,`
`));var s=[],o=n.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var u=0;u<o.length;u++){var h=o[u];u%2&&!this.options.newlineIsToken?s[s.length-1]+=h:(this.options.ignoreWhitespace&&(h=h.trim()),s.push(h))}return s};var vo=new Z;vo.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};var Se=new Z;Se.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function et(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?et=function(s){return typeof s}:et=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},et(n)}var Ki=Object.prototype.toString,xe=new Z;xe.useLongestToken=!0,xe.tokenize=zi.tokenize,xe.castInput=function(n){var s=this.options,o=s.undefinedReplacement,u=s.stringifyReplacer,h=u===void 0?function(l,f){return typeof f>"u"?o:f}:u;return typeof n=="string"?n:JSON.stringify(K(n,null,null,h),h,"  ")},xe.equals=function(n,s){return Z.prototype.equals.call(xe,n.replace(/,([\r\n])/g,"$1"),s.replace(/,([\r\n])/g,"$1"))};function K(n,s,o,u,h){s=s||[],o=o||[],u&&(n=u(h,n));var l;for(l=0;l<s.length;l+=1)if(s[l]===n)return o[l];var f;if(Ki.call(n)==="[object Array]"){for(s.push(n),f=new Array(n.length),o.push(f),l=0;l<n.length;l+=1)f[l]=K(n[l],s,o,u,h);return s.pop(),o.pop(),f}if(n&&n.toJSON&&(n=n.toJSON()),et(n)==="object"&&n!==null){s.push(n),f={},o.push(f);var D=[],E;for(E in n)n.hasOwnProperty(E)&&D.push(E);for(D.sort(),l=0;l<D.length;l+=1)E=D[l],f[E]=K(n[E],s,o,u,E);s.pop(),o.pop()}else f=n;return f}var Le=new Z;Le.tokenize=function(n){return n.slice()},Le.join=Le.removeEmpty=function(n){return n};function qi(n,s,o){return Le.diff(n,s,o)}function No(n){let s=n.indexOf("\r");return s>=0?n.charAt(s+1)===`
`?"crlf":"cr":"lf"}function Xe(n){switch(n){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}function Rn(n,s){let o;switch(s){case`
`:o=/\n/gu;break;case"\r":o=/\r/gu;break;case`\r
`:o=/\r\n/gu;break;default:throw new Error(`Unexpected "eol" ${JSON.stringify(s)}.`)}let u=n.match(o);return u?u.length:0}function So(n){return me(!1,n,/\r\n?/gu,`
`)}var Zt="string",St="array",ae="cursor",Lt="indent",It="align",jt="trim",dt="group",Ct="fill",Et="if-break",Ot="indent-if-break",wt="line-suffix",Vt="line-suffix-boundary",ot="line",Ft="label",at="break-parent",Bn=new Set([ae,Lt,It,jt,dt,Ct,Et,Ot,wt,Vt,ot,Ft,at]);function Lo(n){if(typeof n=="string")return Zt;if(Array.isArray(n))return St;if(!n)return;let{type:s}=n;if(Bn.has(s))return s}var te=Lo,Ji=n=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(n);function q(n){let s=n===null?"null":typeof n;if(s!=="string"&&s!=="object")return`Unexpected doc '${s}', 
Expected it to be 'string' or 'object'.`;if(te(n))throw new Error("doc is valid.");let o=Object.prototype.toString.call(n);if(o!=="[object Object]")return`Unexpected doc '${o}'.`;let u=Ji([...Bn].map(h=>`'${h}'`));return`Unexpected doc.type '${n.type}'.
Expected it to be ${u}.`}var Xi=class extends Error{constructor(s){super(q(s));To(this,"name","InvalidDocError");this.doc=s}},he=Xi,Ie={};function Zi(n,s,o,u){let h=[n];for(;h.length>0;){let l=h.pop();if(l===Ie){o(h.pop());continue}o&&h.push(l,Ie);let f=te(l);if(!f)throw new he(l);if((s==null?void 0:s(l))!==!1)switch(f){case St:case Ct:{let D=f===St?l:l.parts;for(let E=D.length,g=E-1;g>=0;--g)h.push(D[g]);break}case Et:h.push(l.flatContents,l.breakContents);break;case dt:if(u&&l.expandedStates)for(let D=l.expandedStates.length,E=D-1;E>=0;--E)h.push(l.expandedStates[E]);else h.push(l.contents);break;case It:case Lt:case Ot:case Ft:case wt:h.push(l.contents);break;case Zt:case ae:case jt:case Vt:case ot:case at:break;default:throw new he(l)}}}var Ze=Zi,ee=()=>{},ts=ee;function Oe(n){return{type:Lt,contents:n}}function ye(n,s){return{type:It,contents:s,n}}function Pn(n,s={}){return ts(s.expandedStates),{type:dt,id:s.id,contents:n,break:!!s.shouldBreak,expandedStates:s.expandedStates}}function es(n){return ye(Number.NEGATIVE_INFINITY,n)}function Io(n){return ye({type:"root"},n)}function ns(n){return ye(-1,n)}function is(n,s){return Pn(n[0],{...s,expandedStates:n})}function ss(n){return{type:Ct,parts:n}}function rs(n,s="",o={}){return{type:Et,breakContents:n,flatContents:s,groupId:o.groupId}}function os(n,s){return{type:Ot,contents:n,groupId:s.groupId,negate:s.negate}}function Un(n){return{type:wt,contents:n}}var us={type:Vt},we={type:at},Oo={type:jt},tn={type:ot,hard:!0},Mn={type:ot,hard:!0,literal:!0},as={type:ot},hs={type:ot,soft:!0},ne=[tn,we],ls=[Mn,we],en={type:ae};function Hn(n,s){let o=[];for(let u=0;u<s.length;u++)u!==0&&o.push(n),o.push(s[u]);return o}function Gn(n,s,o){let u=n;if(s>0){for(let h=0;h<Math.floor(s/o);++h)u=Oe(u);u=ye(s%o,u),u=ye(Number.NEGATIVE_INFINITY,u)}return u}function Wt(n,s){return n?{type:Ft,label:n,contents:s}:s}function Rt(n){var s;if(!n)return"";if(Array.isArray(n)){let o=[];for(let u of n)if(Array.isArray(u))o.push(...Rt(u));else{let h=Rt(u);h!==""&&o.push(h)}return o}return n.type===Et?{...n,breakContents:Rt(n.breakContents),flatContents:Rt(n.flatContents)}:n.type===dt?{...n,contents:Rt(n.contents),expandedStates:(s=n.expandedStates)==null?void 0:s.map(Rt)}:n.type===Ct?{type:"fill",parts:n.parts.map(Rt)}:n.contents?{...n,contents:Rt(n.contents)}:n}function cs(n){let s=Object.create(null),o=new Set;return u(Rt(n));function u(l,f,D){var E,g;if(typeof l=="string")return JSON.stringify(l);if(Array.isArray(l)){let C=l.map(u).filter(Boolean);return C.length===1?C[0]:`[${C.join(", ")}]`}if(l.type===ot){let C=((E=D==null?void 0:D[f+1])==null?void 0:E.type)===at;return l.literal?C?"literalline":"literallineWithoutBreakParent":l.hard?C?"hardline":"hardlineWithoutBreakParent":l.soft?"softline":"line"}if(l.type===at)return((g=D==null?void 0:D[f-1])==null?void 0:g.type)===ot&&D[f-1].hard?void 0:"breakParent";if(l.type===jt)return"trim";if(l.type===Lt)return"indent("+u(l.contents)+")";if(l.type===It)return l.n===Number.NEGATIVE_INFINITY?"dedentToRoot("+u(l.contents)+")":l.n<0?"dedent("+u(l.contents)+")":l.n.type==="root"?"markAsRoot("+u(l.contents)+")":"align("+JSON.stringify(l.n)+", "+u(l.contents)+")";if(l.type===Et)return"ifBreak("+u(l.breakContents)+(l.flatContents?", "+u(l.flatContents):"")+(l.groupId?(l.flatContents?"":', ""')+`, { groupId: ${h(l.groupId)} }`:"")+")";if(l.type===Ot){let C=[];l.negate&&C.push("negate: true"),l.groupId&&C.push(`groupId: ${h(l.groupId)}`);let N=C.length>0?`, { ${C.join(", ")} }`:"";return`indentIfBreak(${u(l.contents)}${N})`}if(l.type===dt){let C=[];l.break&&l.break!=="propagated"&&C.push("shouldBreak: true"),l.id&&C.push(`id: ${h(l.id)}`);let N=C.length>0?`, { ${C.join(", ")} }`:"";return l.expandedStates?`conditionalGroup([${l.expandedStates.map(F=>u(F)).join(",")}]${N})`:`group(${u(l.contents)}${N})`}if(l.type===Ct)return`fill([${l.parts.map(C=>u(C)).join(", ")}])`;if(l.type===wt)return"lineSuffix("+u(l.contents)+")";if(l.type===Vt)return"lineSuffixBoundary";if(l.type===Ft)return`label(${JSON.stringify(l.label)}, ${u(l.contents)})`;throw new Error("Unknown doc type "+l.type)}function h(l){if(typeof l!="symbol")return JSON.stringify(String(l));if(l in s)return s[l];let f=l.description||"symbol";for(let D=0;;D++){let E=f+(D>0?` #${D}`:"");if(!o.has(E))return o.add(E),s[l]=`Symbol.for(${JSON.stringify(E)})`}}}var wo=(n,s,o)=>{if(!(n&&s==null))return Array.isArray(s)||typeof s=="string"?s[o<0?s.length+o:o]:s.at(o)},rt=wo,ps=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function ds(n){return n===12288||n>=65281&&n<=65376||n>=65504&&n<=65510}function fs(n){return n>=4352&&n<=4447||n===8986||n===8987||n===9001||n===9002||n>=9193&&n<=9196||n===9200||n===9203||n===9725||n===9726||n===9748||n===9749||n>=9800&&n<=9811||n===9855||n===9875||n===9889||n===9898||n===9899||n===9917||n===9918||n===9924||n===9925||n===9934||n===9940||n===9962||n===9970||n===9971||n===9973||n===9978||n===9981||n===9989||n===9994||n===9995||n===10024||n===10060||n===10062||n>=10067&&n<=10069||n===10071||n>=10133&&n<=10135||n===10160||n===10175||n===11035||n===11036||n===11088||n===11093||n>=11904&&n<=11929||n>=11931&&n<=12019||n>=12032&&n<=12245||n>=12272&&n<=12287||n>=12289&&n<=12350||n>=12353&&n<=12438||n>=12441&&n<=12543||n>=12549&&n<=12591||n>=12593&&n<=12686||n>=12688&&n<=12771||n>=12783&&n<=12830||n>=12832&&n<=12871||n>=12880&&n<=19903||n>=19968&&n<=42124||n>=42128&&n<=42182||n>=43360&&n<=43388||n>=44032&&n<=55203||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65106||n>=65108&&n<=65126||n>=65128&&n<=65131||n>=94176&&n<=94180||n===94192||n===94193||n>=94208&&n<=100343||n>=100352&&n<=101589||n>=101632&&n<=101640||n>=110576&&n<=110579||n>=110581&&n<=110587||n===110589||n===110590||n>=110592&&n<=110882||n===110898||n>=110928&&n<=110930||n===110933||n>=110948&&n<=110951||n>=110960&&n<=111355||n===126980||n===127183||n===127374||n>=127377&&n<=127386||n>=127488&&n<=127490||n>=127504&&n<=127547||n>=127552&&n<=127560||n===127568||n===127569||n>=127584&&n<=127589||n>=127744&&n<=127776||n>=127789&&n<=127797||n>=127799&&n<=127868||n>=127870&&n<=127891||n>=127904&&n<=127946||n>=127951&&n<=127955||n>=127968&&n<=127984||n===127988||n>=127992&&n<=128062||n===128064||n>=128066&&n<=128252||n>=128255&&n<=128317||n>=128331&&n<=128334||n>=128336&&n<=128359||n===128378||n===128405||n===128406||n===128420||n>=128507&&n<=128591||n>=128640&&n<=128709||n===128716||n>=128720&&n<=128722||n>=128725&&n<=128727||n>=128732&&n<=128735||n===128747||n===128748||n>=128756&&n<=128764||n>=128992&&n<=129003||n===129008||n>=129292&&n<=129338||n>=129340&&n<=129349||n>=129351&&n<=129535||n>=129648&&n<=129660||n>=129664&&n<=129672||n>=129680&&n<=129725||n>=129727&&n<=129733||n>=129742&&n<=129755||n>=129760&&n<=129768||n>=129776&&n<=129784||n>=131072&&n<=196605||n>=196608&&n<=262141}var _s=n=>!(ds(n)||fs(n)),Ds=/[^\x20-\x7F]/u;function Ro(n){if(!n)return 0;if(!Ds.test(n))return n.length;n=n.replace(ps(),"  ");let s=0;for(let o of n){let u=o.codePointAt(0);u<=31||u>=127&&u<=159||u>=768&&u<=879||(s+=_s(u)?1:2)}return s}var nn=Ro;function Re(n,s){if(typeof n=="string")return s(n);let o=new Map;return u(n);function u(l){if(o.has(l))return o.get(l);let f=h(l);return o.set(l,f),f}function h(l){switch(te(l)){case St:return s(l.map(u));case Ct:return s({...l,parts:l.parts.map(u)});case Et:return s({...l,breakContents:u(l.breakContents),flatContents:u(l.flatContents)});case dt:{let{expandedStates:f,contents:D}=l;return f?(f=f.map(u),D=f[0]):D=u(D),s({...l,contents:D,expandedStates:f})}case It:case Lt:case Ot:case Ft:case wt:return s({...l,contents:u(l.contents)});case Zt:case ae:case jt:case Vt:case ot:case at:return s(l);default:throw new he(l)}}}function jn(n,s,o){let u=o,h=!1;function l(f){if(h)return!1;let D=s(f);D!==void 0&&(h=!0,u=D)}return Ze(n,l),u}function ks(n){if(n.type===dt&&n.break||n.type===ot&&n.hard||n.type===at)return!0}function Es(n){return jn(n,ks,!1)}function Ts(n){if(n.length>0){let s=rt(!1,n,-1);!s.expandedStates&&!s.break&&(s.break="propagated")}return null}function ms(n){let s=new Set,o=[];function u(l){if(l.type===at&&Ts(o),l.type===dt){if(o.push(l),s.has(l))return!1;s.add(l)}}function h(l){l.type===dt&&o.pop().break&&Ts(o)}Ze(n,u,h,!0)}function Vn(n){return n.type===ot&&!n.hard?n.soft?"":" ":n.type===Et?n.flatContents:n}function xs(n){return Re(n,Vn)}function Wn(n){for(n=[...n];n.length>=2&&rt(!1,n,-2).type===ot&&rt(!1,n,-1).type===at;)n.length-=2;if(n.length>0){let s=Be(rt(!1,n,-1));n[n.length-1]=s}return n}function Be(n){switch(te(n)){case Lt:case Ot:case dt:case wt:case Ft:{let s=Be(n.contents);return{...n,contents:s}}case Et:return{...n,breakContents:Be(n.breakContents),flatContents:Be(n.flatContents)};case Ct:return{...n,parts:Wn(n.parts)};case St:return Wn(n);case Zt:return n.replace(/[\n\r]*$/u,"");case It:case ae:case jt:case Vt:case ot:case at:break;default:throw new he(n)}return n}function $n(n){return Be(Bo(n))}function ys(n){switch(te(n)){case Ct:if(n.parts.every(s=>s===""))return"";break;case dt:if(!n.contents&&!n.id&&!n.break&&!n.expandedStates)return"";if(n.contents.type===dt&&n.contents.id===n.id&&n.contents.break===n.break&&n.contents.expandedStates===n.expandedStates)return n.contents;break;case It:case Lt:case Ot:case wt:if(!n.contents)return"";break;case Et:if(!n.flatContents&&!n.breakContents)return"";break;case St:{let s=[];for(let o of n){if(!o)continue;let[u,...h]=Array.isArray(o)?o:[o];typeof u=="string"&&typeof rt(!1,s,-1)=="string"?s[s.length-1]+=u:s.push(u),s.push(...h)}return s.length===0?"":s.length===1?s[0]:s}case Zt:case ae:case jt:case Vt:case ot:case Ft:case at:break;default:throw new he(n)}return n}function Bo(n){return Re(n,s=>ys(s))}function gs(n,s=ls){return Re(n,o=>typeof o=="string"?Hn(s,o.split(`
`)):o)}function Cs(n){if(n.type===ot)return!0}function Po(n){return jn(n,Cs,!1)}function Qn(n,s){return n.type===Ft?{...n,contents:s(n.contents)}:s(n)}var ft=Symbol("MODE_BREAK"),Bt=Symbol("MODE_FLAT"),ge=Symbol("cursor");function Yn(){return{value:"",length:0,queue:[]}}function sn(n,s){return rn(n,{type:"indent"},s)}function Uo(n,s,o){return s===Number.NEGATIVE_INFINITY?n.root||Yn():s<0?rn(n,{type:"dedent"},o):s?s.type==="root"?{...n,root:n}:rn(n,{type:typeof s=="string"?"stringAlign":"numberAlign",n:s},o):n}function rn(n,s,o){let u=s.type==="dedent"?n.queue.slice(0,-1):[...n.queue,s],h="",l=0,f=0,D=0;for(let b of u)switch(b.type){case"indent":C(),o.useTabs?E(1):g(o.tabWidth);break;case"stringAlign":C(),h+=b.n,l+=b.n.length;break;case"numberAlign":f+=1,D+=b.n;break;default:throw new Error(`Unexpected type '${b.type}'`)}return F(),{...n,value:h,length:l,queue:u};function E(b){h+="	".repeat(b),l+=o.tabWidth*b}function g(b){h+=" ".repeat(b),l+=b}function C(){o.useTabs?N():F()}function N(){f>0&&E(f),S()}function F(){D>0&&g(D),S()}function S(){f=0,D=0}}function on(n){let s=0,o=0,u=n.length;t:for(;u--;){let h=n[u];if(h===ge){o++;continue}for(let l=h.length-1;l>=0;l--){let f=h[l];if(f===" "||f==="	")s++;else{n[u]=h.slice(0,l+1);break t}}}if(s>0||o>0)for(n.length=u+1;o-- >0;)n.push(ge);return s}function un(n,s,o,u,h,l){if(o===Number.POSITIVE_INFINITY)return!0;let f=s.length,D=[n],E=[];for(;o>=0;){if(D.length===0){if(f===0)return!0;D.push(s[--f]);continue}let{mode:g,doc:C}=D.pop(),N=te(C);switch(N){case Zt:E.push(C),o-=nn(C);break;case St:case Ct:{let F=N===St?C:C.parts;for(let S=F.length-1;S>=0;S--)D.push({mode:g,doc:F[S]});break}case Lt:case It:case Ot:case Ft:D.push({mode:g,doc:C.contents});break;case jt:o+=on(E);break;case dt:{if(l&&C.break)return!1;let F=C.break?ft:g,S=C.expandedStates&&F===ft?rt(!1,C.expandedStates,-1):C.contents;D.push({mode:F,doc:S});break}case Et:{let F=(C.groupId?h[C.groupId]||Bt:g)===ft?C.breakContents:C.flatContents;F&&D.push({mode:g,doc:F});break}case ot:if(g===ft||C.hard)return!0;C.soft||(E.push(" "),o--);break;case wt:u=!0;break;case Vt:if(u)return!1;break}}return!1}function Pe(n,s){let o={},u=s.printWidth,h=Xe(s.endOfLine),l=0,f=[{ind:Yn(),mode:ft,doc:n}],D=[],E=!1,g=[],C=0;for(ms(n);f.length>0;){let{ind:F,mode:S,doc:b}=f.pop();switch(te(b)){case Zt:{let v=h!==`
`?me(!1,b,`
`,h):b;D.push(v),f.length>0&&(l+=nn(v));break}case St:for(let v=b.length-1;v>=0;v--)f.push({ind:F,mode:S,doc:b[v]});break;case ae:if(C>=2)throw new Error("There are too many 'cursor' in doc.");D.push(ge),C++;break;case Lt:f.push({ind:sn(F,s),mode:S,doc:b.contents});break;case It:f.push({ind:Uo(F,b.n,s),mode:S,doc:b.contents});break;case jt:l-=on(D);break;case dt:switch(S){case Bt:if(!E){f.push({ind:F,mode:b.break?ft:Bt,doc:b.contents});break}case ft:{E=!1;let v={ind:F,mode:Bt,doc:b.contents},O=u-l,B=g.length>0;if(!b.break&&un(v,f,O,B,o))f.push(v);else if(b.expandedStates){let Q=rt(!1,b.expandedStates,-1);if(b.break){f.push({ind:F,mode:ft,doc:Q});break}else for(let j=1;j<b.expandedStates.length+1;j++)if(j>=b.expandedStates.length){f.push({ind:F,mode:ft,doc:Q});break}else{let G=b.expandedStates[j],z={ind:F,mode:Bt,doc:G};if(un(z,f,O,B,o)){f.push(z);break}}}else f.push({ind:F,mode:ft,doc:b.contents});break}}b.id&&(o[b.id]=rt(!1,f,-1).mode);break;case Ct:{let v=u-l,{parts:O}=b;if(O.length===0)break;let[B,Q]=O,j={ind:F,mode:Bt,doc:B},G={ind:F,mode:ft,doc:B},z=un(j,[],v,g.length>0,o,!0);if(O.length===1){z?f.push(j):f.push(G);break}let it={ind:F,mode:Bt,doc:Q},X={ind:F,mode:ft,doc:Q};if(O.length===2){z?f.push(it,j):f.push(X,G);break}O.splice(0,2);let ht={ind:F,mode:S,doc:ss(O)},mt=O[0];un({ind:F,mode:Bt,doc:[B,Q,mt]},[],v,g.length>0,o,!0)?f.push(ht,it,j):z?f.push(ht,X,j):f.push(ht,X,G);break}case Et:case Ot:{let v=b.groupId?o[b.groupId]:S;if(v===ft){let O=b.type===Et?b.breakContents:b.negate?b.contents:Oe(b.contents);O&&f.push({ind:F,mode:S,doc:O})}if(v===Bt){let O=b.type===Et?b.flatContents:b.negate?Oe(b.contents):b.contents;O&&f.push({ind:F,mode:S,doc:O})}break}case wt:g.push({ind:F,mode:S,doc:b.contents});break;case Vt:g.length>0&&f.push({ind:F,mode:S,doc:tn});break;case ot:switch(S){case Bt:if(b.hard)E=!0;else{b.soft||(D.push(" "),l+=1);break}case ft:if(g.length>0){f.push({ind:F,mode:S,doc:b},...g.reverse()),g.length=0;break}b.literal?F.root?(D.push(h,F.root.value),l=F.root.length):(D.push(h),l=0):(l-=on(D),D.push(h+F.value),l=F.length);break}break;case Ft:f.push({ind:F,mode:S,doc:b.contents});break;case at:break;default:throw new he(b)}f.length===0&&g.length>0&&(f.push(...g.reverse()),g.length=0)}let N=D.indexOf(ge);if(N!==-1){let F=D.indexOf(ge,N+1),S=D.slice(0,N).join(""),b=D.slice(N+1,F).join(""),v=D.slice(F+1).join("");return{formatted:S+b+v,cursorNodeStart:S.length,cursorNodeText:b}}return{formatted:D.join("")}}function Mo(n,s,o=0){let u=0;for(let h=o;h<n.length;++h)n[h]==="	"?u=u+s-u%s:u++;return u}var an=Mo,ie,zn,Ue,Fs=class{constructor(n){Co(this,ie),this.stack=[n]}get key(){let{stack:n,siblings:s}=this;return rt(!1,n,s===null?-2:-4)??null}get index(){return this.siblings===null?null:rt(!1,this.stack,-2)}get node(){return rt(!1,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return this.siblings!==null}get siblings(){let{stack:n}=this,s=rt(!1,n,-3);return Array.isArray(s)?s:null}get next(){let{siblings:n}=this;return n===null?null:n[this.index+1]}get previous(){let{siblings:n}=this;return n===null?null:n[this.index-1]}get isFirst(){return this.index===0}get isLast(){let{siblings:n,index:s}=this;return n!==null&&s===n.length-1}get isRoot(){return this.stack.length===1}get root(){return this.stack[0]}get ancestors(){return[...st(this,ie,Ue).call(this)]}getName(){let{stack:n}=this,{length:s}=n;return s>1?rt(!1,n,-2):null}getValue(){return rt(!1,this.stack,-1)}getNode(n=0){let s=st(this,ie,zn).call(this,n);return s===-1?null:this.stack[s]}getParentNode(n=0){return this.getNode(n+1)}call(n,...s){let{stack:o}=this,{length:u}=o,h=rt(!1,o,-1);for(let l of s)h=h[l],o.push(l,h);try{return n(this)}finally{o.length=u}}callParent(n,s=0){let o=st(this,ie,zn).call(this,s+1),u=this.stack.splice(o+1);try{return n(this)}finally{this.stack.push(...u)}}each(n,...s){let{stack:o}=this,{length:u}=o,h=rt(!1,o,-1);for(let l of s)h=h[l],o.push(l,h);try{for(let l=0;l<h.length;++l)o.push(l,h[l]),n(this,l,h),o.length-=2}finally{o.length=u}}map(n,...s){let o=[];return this.each((u,h,l)=>{o[h]=n(u,h,l)},...s),o}match(...n){let s=this.stack.length-1,o=null,u=this.stack[s--];for(let h of n){if(u===void 0)return!1;let l=null;if(typeof o=="number"&&(l=o,o=this.stack[s--],u=this.stack[s--]),h&&!h(u,o,l))return!1;o=this.stack[s--],u=this.stack[s--]}return!0}findAncestor(n){for(let s of st(this,ie,Ue).call(this))if(n(s))return s}hasAncestor(n){for(let s of st(this,ie,Ue).call(this))if(n(s))return!0;return!1}};ie=new WeakSet,zn=function(n){let{stack:s}=this;for(let o=s.length-1;o>=0;o-=2)if(!Array.isArray(s[o])&&--n<0)return o;return-1},Ue=function*(){let{stack:n}=this;for(let s=n.length-3;s>=0;s-=2){let o=n[s];Array.isArray(o)||(yield o)}};var Ho=Fs,Kn=new Proxy(()=>{},{get:()=>Kn}),hn=Kn;function Me(n){return n!==null&&typeof n=="object"}var Go=Me;function*qn(n,s){let{getVisitorKeys:o,filter:u=()=>!0}=s,h=l=>Go(l)&&u(l);for(let l of o(n)){let f=n[l];if(Array.isArray(f))for(let D of f)h(D)&&(yield D);else h(f)&&(yield f)}}function*As(n,s){let o=[n];for(let u=0;u<o.length;u++){let h=o[u];for(let l of qn(h,s))yield l,o.push(l)}}function He(n){return(s,o,u)=>{let h=!!(u!=null&&u.backwards);if(o===!1)return!1;let{length:l}=s,f=o;for(;f>=0&&f<l;){let D=s.charAt(f);if(n instanceof RegExp){if(!n.test(D))return f}else if(!n.includes(D))return f;h?f--:f++}return f===-1||f===l?f:!1}}var bs=He(/\s/u),$t=He(" 	"),vs=He(",; 	"),Jn=He(/[^\n\r]/u);function Ns(n,s,o){let u=!!(o!=null&&o.backwards);if(s===!1)return!1;let h=n.charAt(s);if(u){if(n.charAt(s-1)==="\r"&&h===`
`)return s-2;if(h===`
`||h==="\r"||h==="\u2028"||h==="\u2029")return s-1}else{if(h==="\r"&&n.charAt(s+1)===`
`)return s+2;if(h===`
`||h==="\r"||h==="\u2028"||h==="\u2029")return s+1}return s}var le=Ns;function Ss(n,s,o={}){let u=$t(n,o.backwards?s-1:s,o),h=le(n,u,o);return u!==h}var Qt=Ss;function jo(n){return Array.isArray(n)&&n.length>0}var Ls=jo,Xn=new Set(["tokens","comments","parent","enclosingNode","precedingNode","followingNode"]),Vo=n=>Object.keys(n).filter(s=>!Xn.has(s));function Is(n){return n?s=>n(s,Xn):Vo}var Ge=Is;function Wo(n){let s=n.type||n.kind||"(unknown type)",o=String(n.name||n.id&&(typeof n.id=="object"?n.id.name:n.id)||n.key&&(typeof n.key=="object"?n.key.name:n.key)||n.value&&(typeof n.value=="object"?"":String(n.value))||n.operator||"");return o.length>20&&(o=o.slice(0,19)+"â€¦"),s+(o?" "+o:"")}function ln(n,s){(n.comments??(n.comments=[])).push(s),s.printed=!1,s.nodeDescription=Wo(n)}function ce(n,s){s.leading=!0,s.trailing=!1,ln(n,s)}function pe(n,s,o){s.leading=!1,s.trailing=!1,o&&(s.marker=o),ln(n,s)}function de(n,s){s.leading=!1,s.trailing=!0,ln(n,s)}var cn=new WeakMap;function Zn(n,s){if(cn.has(n))return cn.get(n);let{printer:{getCommentChildNodes:o,canAttachComment:u,getVisitorKeys:h},locStart:l,locEnd:f}=s;if(!u)return[];let D=((o==null?void 0:o(n,s))??[...qn(n,{getVisitorKeys:Ge(h)})]).flatMap(E=>u(E)?[E]:Zn(E,s));return D.sort((E,g)=>l(E)-l(g)||f(E)-f(g)),cn.set(n,D),D}function ti(n,s,o,u){let{locStart:h,locEnd:l}=o,f=h(s),D=l(s),E=Zn(n,o),g,C,N=0,F=E.length;for(;N<F;){let S=N+F>>1,b=E[S],v=h(b),O=l(b);if(v<=f&&D<=O)return ti(b,s,o,b);if(O<=f){g=b,N=S+1;continue}if(D<=v){C=b,F=S;continue}throw new Error("Comment location overlaps with node location")}if((u==null?void 0:u.type)==="TemplateLiteral"){let{quasis:S}=u,b=pn(S,s,o);g&&pn(S,g,o)!==b&&(g=null),C&&pn(S,C,o)!==b&&(C=null)}return{enclosingNode:u,precedingNode:g,followingNode:C}}var ei=()=>!1;function Os(n,s){let{comments:o}=n;if(delete n.comments,!Ls(o)||!s.printer.canAttachComment)return;let u=[],{locStart:h,locEnd:l,printer:{experimentalFeatures:{avoidAstMutation:f=!1}={},handleComments:D={}},originalText:E}=s,{ownLine:g=ei,endOfLine:C=ei,remaining:N=ei}=D,F=o.map((S,b)=>({...ti(n,S,s),comment:S,text:E,options:s,ast:n,isLastComment:o.length-1===b}));for(let[S,b]of F.entries()){let{comment:v,precedingNode:O,enclosingNode:B,followingNode:Q,text:j,options:G,ast:z,isLastComment:it}=b;if(G.parser==="json"||G.parser==="json5"||G.parser==="jsonc"||G.parser==="__js_expression"||G.parser==="__ts_expression"||G.parser==="__vue_expression"||G.parser==="__vue_ts_expression"){if(h(v)-h(z)<=0){ce(z,v);continue}if(l(v)-l(z)>=0){de(z,v);continue}}let X;if(f?X=[b]:(v.enclosingNode=B,v.precedingNode=O,v.followingNode=Q,X=[v,j,G,z,it]),$o(j,G,F,S))v.placement="ownLine",g(...X)||(Q?ce(Q,v):O?de(O,v):pe(B||z,v));else if(ws(j,G,F,S))v.placement="endOfLine",C(...X)||(O?de(O,v):Q?ce(Q,v):pe(B||z,v));else if(v.placement="remaining",!N(...X))if(O&&Q){let ht=u.length;ht>0&&u[ht-1].followingNode!==Q&&ii(u,G),u.push(b)}else O?de(O,v):Q?ce(Q,v):pe(B||z,v)}if(ii(u,s),!f)for(let S of o)delete S.precedingNode,delete S.enclosingNode,delete S.followingNode}var ni=n=>!/[\S\n\u2028\u2029]/u.test(n);function $o(n,s,o,u){let{comment:h,precedingNode:l}=o[u],{locStart:f,locEnd:D}=s,E=f(h);if(l)for(let g=u-1;g>=0;g--){let{comment:C,precedingNode:N}=o[g];if(N!==l||!ni(n.slice(D(C),E)))break;E=f(C)}return Qt(n,E,{backwards:!0})}function ws(n,s,o,u){let{comment:h,followingNode:l}=o[u],{locStart:f,locEnd:D}=s,E=D(h);if(l)for(let g=u+1;g<o.length;g++){let{comment:C,followingNode:N}=o[g];if(N!==l||!ni(n.slice(E,f(C))))break;E=D(C)}return Qt(n,E)}function ii(n,s){var o,u;let h=n.length;if(h===0)return;let{precedingNode:l,followingNode:f}=n[0],D=s.locStart(f),E;for(E=h;E>0;--E){let{comment:g,precedingNode:C,followingNode:N}=n[E-1];hn.strictEqual(C,l),hn.strictEqual(N,f);let F=s.originalText.slice(s.locEnd(g),D);if(((u=(o=s.printer).isGap)==null?void 0:u.call(o,F,s))??/^[\s(]*$/u.test(F))D=s.locStart(g);else break}for(let[g,{comment:C}]of n.entries())g<E?de(l,C):ce(f,C);for(let g of[l,f])g.comments&&g.comments.length>1&&g.comments.sort((C,N)=>s.locStart(C)-s.locStart(N));n.length=0}function pn(n,s,o){let u=o.locStart(s)-1;for(let h=1;h<n.length;++h)if(u<o.locStart(n[h]))return h-1;return 0}function Rs(n,s){let o=s-1;o=$t(n,o,{backwards:!0}),o=le(n,o,{backwards:!0}),o=$t(n,o,{backwards:!0});let u=le(n,o,{backwards:!0});return o!==u}var dn=Rs;function Bs(n,s){let o=n.node;return o.printed=!0,s.printer.printComment(n,s)}function Ps(n,s){var o;let u=n.node,h=[Bs(n,s)],{printer:l,originalText:f,locStart:D,locEnd:E}=s;if((o=l.isBlockComment)!=null&&o.call(l,u)){let C=Qt(f,E(u))?Qt(f,D(u),{backwards:!0})?ne:as:" ";h.push(C)}else h.push(ne);let g=le(f,$t(f,E(u)));return g!==!1&&Qt(f,g)&&h.push(ne),h}function Us(n,s,o){var u;let h=n.node,l=Bs(n,s),{printer:f,originalText:D,locStart:E}=s,g=(u=f.isBlockComment)==null?void 0:u.call(f,h);if(o!=null&&o.hasLineSuffix&&!(o!=null&&o.isBlock)||Qt(D,E(h),{backwards:!0})){let C=dn(D,E(h));return{doc:Un([ne,C?ne:"",l]),isBlock:g,hasLineSuffix:!0}}return!g||o!=null&&o.hasLineSuffix?{doc:[Un([" ",l]),we],isBlock:g,hasLineSuffix:!0}:{doc:[" ",l],isBlock:g,hasLineSuffix:!1}}function Qo(n,s){let o=n.node;if(!o)return{};let u=s[Symbol.for("printedComments")];if((o.comments||[]).filter(D=>!u.has(D)).length===0)return{leading:"",trailing:""};let h=[],l=[],f;return n.each(()=>{let D=n.node;if(u!=null&&u.has(D))return;let{leading:E,trailing:g}=D;E?h.push(Ps(n,s)):g&&(f=Us(n,s,f),l.push(f.doc))},"comments"),{leading:h,trailing:l}}function Ms(n,s,o){let{leading:u,trailing:h}=Qo(n,o);return!u&&!h?s:Qn(s,l=>[u,l,h])}function Hs(n){let{[Symbol.for("comments")]:s,[Symbol.for("printedComments")]:o}=n;for(let u of s){if(!u.printed&&!o.has(u))throw new Error('Comment "'+u.value.trim()+'" was not printed. Please report this error!');delete u.printed}}var Gs=class extends Error{constructor(){super(...arguments);To(this,"name","ConfigError")}},si=class extends Error{constructor(){super(...arguments);To(this,"name","UndefinedParserError")}},js={cursorOffset:{category:"Special",type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:"Print (to stderr) where a cursor at the given position would move to after formatting.",cliCategory:"Editor"},endOfLine:{category:"Global",type:"choice",default:"lf",description:"Which end of line characters to apply.",choices:[{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"},{value:"auto",description:`Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:"Special",type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:"Other",cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{category:"Special",type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:"Other"},parser:{category:"Global",type:"choice",default:void 0,description:"Which parser to use.",exception:n=>typeof n=="string"||typeof n=="function",choices:[{value:"flow",description:"Flow"},{value:"babel",description:"JavaScript"},{value:"babel-flow",description:"Flow"},{value:"babel-ts",description:"TypeScript"},{value:"typescript",description:"TypeScript"},{value:"acorn",description:"JavaScript"},{value:"espree",description:"JavaScript"},{value:"meriyah",description:"JavaScript"},{value:"css",description:"CSS"},{value:"less",description:"Less"},{value:"scss",description:"SCSS"},{value:"json",description:"JSON"},{value:"json5",description:"JSON5"},{value:"jsonc",description:"JSON with Comments"},{value:"json-stringify",description:"JSON.stringify"},{value:"graphql",description:"GraphQL"},{value:"markdown",description:"Markdown"},{value:"mdx",description:"MDX"},{value:"vue",description:"Vue"},{value:"yaml",description:"YAML"},{value:"glimmer",description:"Ember / Handlebars"},{value:"html",description:"HTML"},{value:"angular",description:"Angular"},{value:"lwc",description:"Lightning Web Components"}]},plugins:{type:"path",array:!0,default:[{value:[]}],category:"Global",description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:n=>typeof n=="string"||typeof n=="object",cliName:"plugin",cliCategory:"Config"},printWidth:{category:"Global",type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{category:"Special",type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.`,cliCategory:"Editor"},rangeStart:{category:"Special",type:"int",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:"Editor"},requirePragma:{category:"Special",type:"boolean",default:!1,description:`Require either '@prettier' or '@format' to be present in the file's first docblock comment
in order for it to be formatted.`,cliCategory:"Other"},tabWidth:{type:"int",category:"Global",default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useTabs:{category:"Global",type:"boolean",default:!1,description:"Indent with tabs instead of spaces."},embeddedLanguageFormatting:{category:"Global",type:"choice",default:"auto",description:"Control how Prettier formats quoted code embedded in the file.",choices:[{value:"auto",description:"Format embedded code if Prettier can automatically identify it."},{value:"off",description:"Never automatically format embedded code."}]}};function Yo({plugins:n=[],showDeprecated:s=!1}={}){let o=n.flatMap(h=>h.languages??[]),u=[];for(let h of Vs(Object.assign({},...n.map(({options:l})=>l),js)))!s&&h.deprecated||(Array.isArray(h.choices)&&(s||(h.choices=h.choices.filter(l=>!l.deprecated)),h.name==="parser"&&(h.choices=[...h.choices,...zo(h.choices,o,n)])),h.pluginDefaults=Object.fromEntries(n.filter(l=>{var f;return((f=l.defaultOptions)==null?void 0:f[h.name])!==void 0}).map(l=>[l.name,l.defaultOptions[h.name]])),u.push(h));return{languages:o,options:u}}function*zo(n,s,o){let u=new Set(n.map(h=>h.value));for(let h of s)if(h.parsers){for(let l of h.parsers)if(!u.has(l)){u.add(l);let f=o.find(E=>E.parsers&&Object.prototype.hasOwnProperty.call(E.parsers,l)),D=h.name;f!=null&&f.name&&(D+=` (plugin: ${f.name})`),yield{value:l,description:D}}}}function Vs(n){let s=[];for(let[o,u]of Object.entries(n)){let h={name:o,...u};Array.isArray(h.default)&&(h.default=rt(!1,h.default,-1).value),s.push(h)}return s}var Ko=n=>String(n).split(/[/\\]/u).pop();function ri(n,s){if(!s)return;let o=Ko(s).toLowerCase();return n.find(({filenames:u})=>u==null?void 0:u.some(h=>h.toLowerCase()===o))??n.find(({extensions:u})=>u==null?void 0:u.some(h=>o.endsWith(h)))}function Ws(n,s){if(s)return n.find(({name:o})=>o.toLowerCase()===s)??n.find(({aliases:o})=>o==null?void 0:o.includes(s))??n.find(({extensions:o})=>o==null?void 0:o.includes(`.${s}`))}function qo(n,s){let o=n.plugins.flatMap(h=>h.languages??[]),u=Ws(o,s.language)??ri(o,s.physicalFile)??ri(o,s.file)??(s.physicalFile,void 0);return u==null?void 0:u.parsers[0]}var $s=qo,fe={key:n=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(n)?n:JSON.stringify(n),value(n){if(n===null||typeof n!="object")return JSON.stringify(n);if(Array.isArray(n))return`[${n.map(o=>fe.value(o)).join(", ")}]`;let s=Object.keys(n);return s.length===0?"{}":`{ ${s.map(o=>`${fe.key(o)}: ${fe.value(n[o])}`).join(", ")} }`},pair:({key:n,value:s})=>fe.value({[n]:s})},Qs=Ne(Ln()),Ys=(n,s,{descriptor:o})=>{let u=[`${Qs.default.yellow(typeof n=="string"?o.key(n):o.pair(n))} is deprecated`];return s&&u.push(`we now treat it as ${Qs.default.blue(typeof s=="string"?o.key(s):o.pair(s))}`),u.join("; ")+"."},_e=Ne(Ln()),zs=Symbol.for("vnopts.VALUE_NOT_EXIST"),je=Symbol.for("vnopts.VALUE_UNCHANGED"),oi=" ".repeat(2),Jo=(n,s,o)=>{let{text:u,list:h}=o.normalizeExpectedResult(o.schemas[n].expected(o)),l=[];return u&&l.push(ui(n,s,u,o.descriptor)),h&&l.push([ui(n,s,h.title,o.descriptor)].concat(h.values.map(f=>ai(f,o.loggerPrintWidth))).join(`
`)),Ks(l,o.loggerPrintWidth)};function ui(n,s,o,u){return[`Invalid ${_e.default.red(u.key(n))} value.`,`Expected ${_e.default.blue(o)},`,`but received ${s===zs?_e.default.gray("nothing"):_e.default.red(u.value(s))}.`].join(" ")}function ai({text:n,list:s},o){let u=[];return n&&u.push(`- ${_e.default.blue(n)}`),s&&u.push([`- ${_e.default.blue(s.title)}:`].concat(s.values.map(h=>ai(h,o-oi.length).replace(/^|\n/g,`$&${oi}`))).join(`
`)),Ks(u,o)}function Ks(n,s){if(n.length===1)return n[0];let[o,u]=n,[h,l]=n.map(f=>f.split(`
`,1)[0].length);return h>s&&h>l?u:o}var hi=Ne(Ln()),fn=[],qs=[];function Js(n,s){if(n===s)return 0;let o=n;n.length>s.length&&(n=s,s=o);let u=n.length,h=s.length;for(;u>0&&n.charCodeAt(~-u)===s.charCodeAt(~-h);)u--,h--;let l=0;for(;l<u&&n.charCodeAt(l)===s.charCodeAt(l);)l++;if(u-=l,h-=l,u===0)return h;let f,D,E,g,C=0,N=0;for(;C<u;)qs[C]=n.charCodeAt(l+C),fn[C]=++C;for(;N<h;)for(f=s.charCodeAt(l+N),E=N++,D=N,C=0;C<u;C++)g=f===qs[C]?E:E+1,E=fn[C],D=fn[C]=E>D?g>D?D+1:g:g>E?E+1:g;return D}var li=(n,s,{descriptor:o,logger:u,schemas:h})=>{let l=[`Ignored unknown option ${hi.default.yellow(o.pair({key:n,value:s}))}.`],f=Object.keys(h).sort().find(D=>Js(n,D)<3);f&&l.push(`Did you mean ${hi.default.blue(o.key(f))}?`),u.warn(l.join(" "))},Xo=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"];function Xs(n,s){let o=new n(s),u=Object.create(o);for(let h of Xo)h in s&&(u[h]=Ve(s[h],o,Yt.prototype[h].length));return u}var Yt=class{static create(n){return Xs(this,n)}constructor(n){this.name=n.name}default(n){}expected(n){return"nothing"}validate(n,s){return!1}deprecated(n,s){return!1}forward(n,s){}redirect(n,s){}overlap(n,s,o){return n}preprocess(n,s){return n}postprocess(n,s){return je}};function Ve(n,s,o){return typeof n=="function"?(...u)=>n(...u.slice(0,o-1),s,...u.slice(o-1)):()=>n}var Zs=class extends Yt{constructor(n){super(n),this._sourceName=n.sourceName}expected(n){return n.schemas[this._sourceName].expected(n)}validate(n,s){return s.schemas[this._sourceName].validate(n,s)}redirect(n,s){return this._sourceName}},tr=class extends Yt{expected(){return"anything"}validate(){return!0}},Zo=class extends Yt{constructor({valueSchema:n,name:s=n.name,...o}){super({...o,name:s}),this._valueSchema=n}expected(n){let{text:s,list:o}=n.normalizeExpectedResult(this._valueSchema.expected(n));return{text:s&&`an array of ${s}`,list:o&&{title:"an array of the following values",values:[{list:o}]}}}validate(n,s){if(!Array.isArray(n))return!1;let o=[];for(let u of n){let h=s.normalizeValidateResult(this._valueSchema.validate(u,s),u);h!==!0&&o.push(h.value)}return o.length===0?!0:{value:o}}deprecated(n,s){let o=[];for(let u of n){let h=s.normalizeDeprecatedResult(this._valueSchema.deprecated(u,s),u);h!==!1&&o.push(...h.map(({value:l})=>({value:[l]})))}return o}forward(n,s){let o=[];for(let u of n){let h=s.normalizeForwardResult(this._valueSchema.forward(u,s),u);o.push(...h.map(ci))}return o}redirect(n,s){let o=[],u=[];for(let h of n){let l=s.normalizeRedirectResult(this._valueSchema.redirect(h,s),h);"remain"in l&&o.push(l.remain),u.push(...l.redirect.map(ci))}return o.length===0?{redirect:u}:{redirect:u,remain:o}}overlap(n,s){return n.concat(s)}};function ci({from:n,to:s}){return{from:[n],to:s}}var er=class extends Yt{expected(){return"true or false"}validate(n){return typeof n=="boolean"}};function tu(n,s){let o=Object.create(null);for(let u of n){let h=u[s];if(o[h])throw new Error(`Duplicate ${s} ${JSON.stringify(h)}`);o[h]=u}return o}function nr(n,s){let o=new Map;for(let u of n){let h=u[s];if(o.has(h))throw new Error(`Duplicate ${s} ${JSON.stringify(h)}`);o.set(h,u)}return o}function ir(){let n=Object.create(null);return s=>{let o=JSON.stringify(s);return n[o]?!0:(n[o]=!0,!1)}}function eu(n,s){let o=[],u=[];for(let h of n)s(h)?o.push(h):u.push(h);return[o,u]}function sr(n){return n===Math.floor(n)}function rr(n,s){if(n===s)return 0;let o=typeof n,u=typeof s,h=["undefined","object","boolean","number","string"];return o!==u?h.indexOf(o)-h.indexOf(u):o!=="string"?Number(n)-Number(s):n.localeCompare(s)}function nu(n){return(...s)=>{let o=n(...s);return typeof o=="string"?new Error(o):o}}function pi(n){return n===void 0?{}:n}function di(n){if(typeof n=="string")return{text:n};let{text:s,list:o}=n;return su((s||o)!==void 0,"Unexpected `expected` result, there should be at least one field."),o?{text:s,list:{title:o.title,values:o.values.map(di)}}:{text:s}}function iu(n,s){return n===!0?!0:n===!1?{value:s}:n}function De(n,s,o=!1){return n===!1?!1:n===!0?o?!0:[{value:s}]:"value"in n?[n]:n.length===0?!1:n}function fi(n,s){return typeof n=="string"||"key"in n?{from:s,to:n}:"from"in n?{from:n.from,to:n.to}:{from:s,to:n.to}}function _n(n,s){return n===void 0?[]:Array.isArray(n)?n.map(o=>fi(o,s)):[fi(n,s)]}function Ce(n,s){let o=_n(typeof n=="object"&&"redirect"in n?n.redirect:n,s);return o.length===0?{remain:s,redirect:o}:typeof n=="object"&&"remain"in n?{remain:n.remain,redirect:o}:{redirect:o}}function su(n,s){if(!n)throw new Error(s)}var or=class extends Yt{constructor(n){super(n),this._choices=nr(n.choices.map(s=>s&&typeof s=="object"?s:{value:s}),"value")}expected({descriptor:n}){let s=Array.from(this._choices.keys()).map(h=>this._choices.get(h)).filter(({hidden:h})=>!h).map(h=>h.value).sort(rr).map(n.value),o=s.slice(0,-2),u=s.slice(-2);return{text:o.concat(u.join(" or ")).join(", "),list:{title:"one of the following values",values:s}}}validate(n){return this._choices.has(n)}deprecated(n){let s=this._choices.get(n);return s&&s.deprecated?{value:n}:!1}forward(n){let s=this._choices.get(n);return s?s.forward:void 0}redirect(n){let s=this._choices.get(n);return s?s.redirect:void 0}},ur=class extends Yt{expected(){return"a number"}validate(n,s){return typeof n=="number"}},ru=class extends ur{expected(){return"an integer"}validate(n,s){return s.normalizeValidateResult(super.validate(n,s),n)===!0&&sr(n)}},_i=class extends Yt{expected(){return"a string"}validate(n){return typeof n=="string"}},ar=fe,ou=li,hr=Jo,uu=Ys,lr=class{constructor(n,s){let{logger:o=console,loggerPrintWidth:u=80,descriptor:h=ar,unknown:l=ou,invalid:f=hr,deprecated:D=uu,missing:E=()=>!1,required:g=()=>!1,preprocess:C=F=>F,postprocess:N=()=>je}=s||{};this._utils={descriptor:h,logger:o||{warn:()=>{}},loggerPrintWidth:u,schemas:tu(n,"name"),normalizeDefaultResult:pi,normalizeExpectedResult:di,normalizeDeprecatedResult:De,normalizeForwardResult:_n,normalizeRedirectResult:Ce,normalizeValidateResult:iu},this._unknownHandler=l,this._invalidHandler=nu(f),this._deprecatedHandler=D,this._identifyMissing=(F,S)=>!(F in S)||E(F,S),this._identifyRequired=g,this._preprocess=C,this._postprocess=N,this.cleanHistory()}cleanHistory(){this._hasDeprecationWarned=ir()}normalize(n){let s={},o=[this._preprocess(n,this._utils)],u=()=>{for(;o.length!==0;){let h=o.shift(),l=this._applyNormalization(h,s);o.push(...l)}};u();for(let h of Object.keys(this._utils.schemas)){let l=this._utils.schemas[h];if(!(h in s)){let f=pi(l.default(this._utils));"value"in f&&o.push({[h]:f.value})}}u();for(let h of Object.keys(this._utils.schemas)){if(!(h in s))continue;let l=this._utils.schemas[h],f=s[h],D=l.postprocess(f,this._utils);D!==je&&(this._applyValidation(D,h,l),s[h]=D)}return this._applyPostprocess(s),this._applyRequiredCheck(s),s}_applyNormalization(n,s){let o=[],{knownKeys:u,unknownKeys:h}=this._partitionOptionKeys(n);for(let l of u){let f=this._utils.schemas[l],D=f.preprocess(n[l],this._utils);this._applyValidation(D,l,f);let E=({from:N,to:F})=>{o.push(typeof F=="string"?{[F]:N}:{[F.key]:F.value})},g=({value:N,redirectTo:F})=>{let S=De(f.deprecated(N,this._utils),D,!0);if(S!==!1)if(S===!0)this._hasDeprecationWarned(l)||this._utils.logger.warn(this._deprecatedHandler(l,F,this._utils));else for(let{value:b}of S){let v={key:l,value:b};if(!this._hasDeprecationWarned(v)){let O=typeof F=="string"?{key:F,value:b}:F;this._utils.logger.warn(this._deprecatedHandler(v,O,this._utils))}}};_n(f.forward(D,this._utils),D).forEach(E);let C=Ce(f.redirect(D,this._utils),D);if(C.redirect.forEach(E),"remain"in C){let N=C.remain;s[l]=l in s?f.overlap(s[l],N,this._utils):N,g({value:N})}for(let{from:N,to:F}of C.redirect)g({value:N,redirectTo:F})}for(let l of h){let f=n[l];this._applyUnknownHandler(l,f,s,(D,E)=>{o.push({[D]:E})})}return o}_applyRequiredCheck(n){for(let s of Object.keys(this._utils.schemas))if(this._identifyMissing(s,n)&&this._identifyRequired(s))throw this._invalidHandler(s,zs,this._utils)}_partitionOptionKeys(n){let[s,o]=eu(Object.keys(n).filter(u=>!this._identifyMissing(u,n)),u=>u in this._utils.schemas);return{knownKeys:s,unknownKeys:o}}_applyValidation(n,s,o){let u=iu(o.validate(n,this._utils),n);if(u!==!0)throw this._invalidHandler(s,u.value,this._utils)}_applyUnknownHandler(n,s,o,u){let h=this._unknownHandler(n,s,this._utils);if(h)for(let l of Object.keys(h)){if(this._identifyMissing(l,h))continue;let f=h[l];l in this._utils.schemas?u(l,f):o[l]=f}}_applyPostprocess(n){let s=this._postprocess(n,this._utils);if(s!==je){if(s.delete)for(let o of s.delete)delete n[o];if(s.override){let{knownKeys:o,unknownKeys:u}=this._partitionOptionKeys(s.override);for(let h of o){let l=s.override[h];this._applyValidation(l,h,this._utils.schemas[h]),n[h]=l}for(let h of u){let l=s.override[h];this._applyUnknownHandler(h,l,n,(f,D)=>{let E=this._utils.schemas[f];this._applyValidation(D,f,E),n[f]=D})}}}}},Dn;function au(n,s,{logger:o=!1,isCLI:u=!1,passThrough:h=!1,FlagSchema:l,descriptor:f}={}){if(u){if(!l)throw new Error("'FlagSchema' option is required.");if(!f)throw new Error("'descriptor' option is required.")}else f=fe;let D=h?Array.isArray(h)?(F,S)=>h.includes(F)?{[F]:S}:void 0:(F,S)=>({[F]:S}):(F,S,b)=>{let{_:v,...O}=b.schemas;return li(F,S,{...b,schemas:O})},E=cr(s,{isCLI:u,FlagSchema:l}),g=new lr(E,{logger:o,unknown:D,descriptor:f}),C=o!==!1;C&&Dn&&(g._hasDeprecationWarned=Dn);let N=g.normalize(n);return C&&(Dn=g._hasDeprecationWarned),N}function cr(n,{isCLI:s,FlagSchema:o}){let u=[];s&&u.push(tr.create({name:"_"}));for(let h of n)u.push(pr(h,{isCLI:s,optionInfos:n,FlagSchema:o})),h.alias&&s&&u.push(Zs.create({name:h.alias,sourceName:h.name}));return u}function pr(n,{isCLI:s,optionInfos:o,FlagSchema:u}){let{name:h}=n,l={name:h},f,D={};switch(n.type){case"int":f=ru,s&&(l.preprocess=Number);break;case"string":f=_i;break;case"choice":f=or,l.choices=n.choices.map(E=>E!=null&&E.redirect?{...E,redirect:{to:{key:n.name,value:E.redirect}}}:E);break;case"boolean":f=er;break;case"flag":f=u,l.flags=o.flatMap(E=>[E.alias,E.description&&E.name,E.oppositeDescription&&`no-${E.name}`].filter(Boolean));break;case"path":f=_i;break;default:throw new Error(`Unexpected type ${n.type}`)}if(n.exception?l.validate=(E,g,C)=>n.exception(E)||g.validate(E,C):l.validate=(E,g,C)=>E===void 0||g.validate(E,C),n.redirect&&(D.redirect=E=>E?{to:typeof n.redirect=="string"?n.redirect:{key:n.redirect.option,value:n.redirect.value}}:void 0),n.deprecated&&(D.deprecated=!0),s&&!n.array){let E=l.preprocess||(g=>g);l.preprocess=(g,C,N)=>C.preprocess(E(Array.isArray(g)?rt(!1,g,-1):g),N)}return n.array?Zo.create({...s?{preprocess:E=>Array.isArray(E)?E:[E]}:{},...D,valueSchema:f.create(l)}):f.create({...l,...D})}var hu=au,dr=(n,s,o)=>{if(!(n&&s==null)){if(s.findLast)return s.findLast(o);for(let u=s.length-1;u>=0;u--){let h=s[u];if(o(h,u,s))return h}}},Di=dr;function fr(n,s){if(!s)throw new Error("parserName is required.");let o=Di(!1,n,h=>h.parsers&&Object.prototype.hasOwnProperty.call(h.parsers,s));if(o)return o;let u=`Couldn't resolve parser "${s}".`;throw u+=" Plugins must be explicitly added to the standalone bundle.",new Gs(u)}function _r(n,s){if(!s)throw new Error("astFormat is required.");let o=Di(!1,n,h=>h.printers&&Object.prototype.hasOwnProperty.call(h.printers,s));if(o)return o;let u=`Couldn't find plugin for AST format "${s}".`;throw u+=" Plugins must be explicitly added to the standalone bundle.",new Gs(u)}function ki({plugins:n,parser:s}){let o=fr(n,s);return Dr(o,s)}function Dr(n,s){let o=n.parsers[s];return typeof o=="function"?o():o}function kr(n,s){let o=n.printers[s];return typeof o=="function"?o():o}var Ei={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null};async function lu(n,s={}){var o;let u={...n};if(!u.parser)if(u.filepath){if(u.parser=$s(u,{physicalFile:u.filepath}),!u.parser)throw new si(`No parser could be inferred for file "${u.filepath}".`)}else throw new si("No parser and no file path given, couldn't infer a parser.");let h=Yo({plugins:n.plugins,showDeprecated:!0}).options,l={...Ei,...Object.fromEntries(h.filter(F=>F.default!==void 0).map(F=>[F.name,F.default]))},f=fr(u.plugins,u.parser),D=await Dr(f,u.parser);u.astFormat=D.astFormat,u.locEnd=D.locEnd,u.locStart=D.locStart;let E=(o=f.printers)!=null&&o[D.astFormat]?f:_r(u.plugins,D.astFormat),g=await kr(E,D.astFormat);u.printer=g;let C=E.defaultOptions?Object.fromEntries(Object.entries(E.defaultOptions).filter(([,F])=>F!==void 0)):{},N={...l,...C};for(let[F,S]of Object.entries(N))(u[F]===null||u[F]===void 0)&&(u[F]=S);return u.parser==="json"&&(u.trailingComma="none"),hu(u,h,{passThrough:Object.keys(Ei),...s})}var ke=lu,Er=Ne(Ao());async function cu(n,s){let o=await ki(s),u=o.preprocess?o.preprocess(n,s):n;s.originalText=u;let h;try{h=await o.parse(u,s,s)}catch(l){Tr(l,n)}return{text:u,ast:h}}function Tr(n,s){let{loc:o}=n;if(o){let u=(0,Er.codeFrameColumns)(s,o,{highlightCode:!0});throw n.message+=`
`+u,n.codeFrame=u,n}throw n}var Fe=cu;async function pu(n,s,o,u,h){let{embeddedLanguageFormatting:l,printer:{embed:f,hasPrettierIgnore:D=()=>!1,getVisitorKeys:E}}=o;if(!f||l!=="auto")return;if(f.length>2)throw new Error("printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/en/plugins.html#optional-embed");let g=Ge(f.getVisitorKeys??E),C=[];S();let N=n.stack;for(let{print:b,node:v,pathStack:O}of C)try{n.stack=O;let B=await b(F,s,n,o);B&&h.set(v,B)}catch(B){if(globalThis.PRETTIER_DEBUG)throw B}n.stack=N;function F(b,v){return mr(b,v,o,u)}function S(){let{node:b}=n;if(b===null||typeof b!="object"||D(n))return;for(let O of g(b))Array.isArray(b[O])?n.each(S,O):n.call(S,O);let v=f(n,o);if(v){if(typeof v=="function"){C.push({print:v,node:b,pathStack:[...n.stack]});return}h.set(b,v)}}}async function mr(n,s,o,u){let h=await ke({...o,...s,parentParser:o.parser,originalText:n},{passThrough:!0}),{ast:l}=await Fe(n,h),f=await u(l,h);return $n(f)}function xr(n,s){let{originalText:o,[Symbol.for("comments")]:u,locStart:h,locEnd:l,[Symbol.for("printedComments")]:f}=s,{node:D}=n,E=h(D),g=l(D);for(let C of u)h(C)>=E&&l(C)<=g&&f.add(C);return o.slice(E,g)}var ta=xr;async function kn(n,s){({ast:n}=await mi(n,s));let o=new Map,u=new Ho(n),h=new Map;await pu(u,f,s,kn,h);let l=await Ti(u,s,f,void 0,h);return Hs(s),l;function f(E,g){return E===void 0||E===u?D(g):Array.isArray(E)?u.call(()=>D(g),...E):u.call(()=>D(g),E)}function D(E){let g=u.node;if(g==null)return"";let C=g&&typeof g=="object"&&E===void 0;if(C&&o.has(g))return o.get(g);let N=Ti(u,s,f,E,h);return C&&o.set(g,N),N}}function Ti(n,s,o,u,h){var l;let{node:f}=n,{printer:D}=s,E;return(l=D.hasPrettierIgnore)!=null&&l.call(D,n)?E=ta(n,s):h.has(f)?E=h.get(f):E=D.print(n,s,o,u),f===s.cursorNode&&(E=Qn(E,g=>[en,g,en])),D.printComment&&(!D.willPrintOwnComments||!D.willPrintOwnComments(n,s))&&(E=Ms(n,E,s)),E}async function mi(n,s){let o=n.comments??[];s[Symbol.for("comments")]=o,s[Symbol.for("tokens")]=n.tokens??[],s[Symbol.for("printedComments")]=new Set,Os(n,s);let{printer:{preprocess:u}}=s;return n=u?await u(n,s):n,{ast:n,comments:o}}function du(n,s){let{cursorOffset:o,locStart:u,locEnd:h}=s,l=Ge(s.printer.getVisitorKeys),f=E=>u(E)<=o&&h(E)>=o,D=n;for(let E of As(n,{getVisitorKeys:l,filter:f}))D=E;return D}var yr=du;function fu(n,s){let{printer:{massageAstNode:o,getVisitorKeys:u}}=s;if(!o)return n;let h=Ge(u),l=o.ignoredProperties??new Set;return f(n);function f(D,E){if(!(D!==null&&typeof D=="object"))return D;if(Array.isArray(D))return D.map(F=>f(F,E)).filter(Boolean);let g={},C=new Set(h(D));for(let F in D)!Object.prototype.hasOwnProperty.call(D,F)||l.has(F)||(C.has(F)?g[F]=f(D[F],D):g[F]=D[F]);let N=o(D,g,E);if(N!==null)return N??g}}var gr=fu,Cr=(n,s,o)=>{if(!(n&&s==null)){if(s.findLastIndex)return s.findLastIndex(o);for(let u=s.length-1;u>=0;u--){let h=s[u];if(o(h,u,s))return u}return-1}},_u=Cr,Fr=({parser:n})=>n==="json"||n==="json5"||n==="jsonc"||n==="json-stringify";function Ar(n,s){let o=[n.node,...n.parentNodes],u=new Set([s.node,...s.parentNodes]);return o.find(h=>xi.has(h.type)&&u.has(h))}function br(n){let s=_u(!1,n,o=>o.type!=="Program"&&o.type!=="File");return s===-1?n:n.slice(0,s+1)}function vr(n,s,{locStart:o,locEnd:u}){let h=n.node,l=s.node;if(h===l)return{startNode:h,endNode:l};let f=o(n.node);for(let E of br(s.parentNodes))if(o(E)>=f)l=E;else break;let D=u(s.node);for(let E of br(n.parentNodes)){if(u(E)<=D)h=E;else break;if(h===l)break}return{startNode:h,endNode:l}}function En(n,s,o,u,h=[],l){let{locStart:f,locEnd:D}=o,E=f(n),g=D(n);if(!(s>g||s<E||l==="rangeEnd"&&s===E||l==="rangeStart"&&s===g)){for(let C of Zn(n,o)){let N=En(C,s,o,u,[n,...h],l);if(N)return N}if(!u||u(n,h[0]))return{node:n,parentNodes:h}}}function Du(n,s){return s!=="DeclareExportDeclaration"&&n!=="TypeParameterDeclaration"&&(n==="Directive"||n==="TypeAlias"||n==="TSExportAssignment"||n.startsWith("Declare")||n.startsWith("TSDeclare")||n.endsWith("Statement")||n.endsWith("Declaration"))}var xi=new Set(["JsonRoot","ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","UnaryExpression","TemplateLiteral"]),Nr=new Set(["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"]);function Sr(n,s,o){if(!s)return!1;switch(n.parser){case"flow":case"babel":case"babel-flow":case"babel-ts":case"typescript":case"acorn":case"espree":case"meriyah":case"__babel_estree":return Du(s.type,o==null?void 0:o.type);case"json":case"json5":case"jsonc":case"json-stringify":return xi.has(s.type);case"graphql":return Nr.has(s.kind);case"vue":return s.tag!=="root"}return!1}function Lr(n,s,o){let{rangeStart:u,rangeEnd:h,locStart:l,locEnd:f}=s;hn.ok(h>u);let D=n.slice(u,h).search(/\S/u),E=D===-1;if(!E)for(u+=D;h>u&&!/\S/u.test(n[h-1]);--h);let g=En(o,u,s,(S,b)=>Sr(s,S,b),[],"rangeStart"),C=E?g:En(o,h,s,S=>Sr(s,S),[],"rangeEnd");if(!g||!C)return{rangeStart:0,rangeEnd:0};let N,F;if(Fr(s)){let S=Ar(g,C);N=S,F=S}else({startNode:N,endNode:F}=vr(g,C,s));return{rangeStart:Math.min(l(N),l(F)),rangeEnd:Math.max(f(N),f(F))}}var yi="\uFEFF",gi=Symbol("cursor");async function Ir(n,s,o=0){if(!n||n.trim().length===0)return{formatted:"",cursorOffset:-1,comments:[]};let{ast:u,text:h}=await Fe(n,s);s.cursorOffset>=0&&(s.cursorNode=yr(u,s));let l=await kn(u,s);o>0&&(l=Gn([ne,l],o,s.tabWidth));let f=Pe(l,s);if(o>0){let E=f.formatted.trim();f.cursorNodeStart!==void 0&&(f.cursorNodeStart-=f.formatted.indexOf(E)),f.formatted=E+Xe(s.endOfLine)}let D=s[Symbol.for("comments")];if(s.cursorOffset>=0){let E,g,C,N,F;if(s.cursorNode&&f.cursorNodeText?(E=s.locStart(s.cursorNode),g=h.slice(E,s.locEnd(s.cursorNode)),C=s.cursorOffset-E,N=f.cursorNodeStart,F=f.cursorNodeText):(E=0,g=h,C=s.cursorOffset,N=0,F=f.formatted),g===F)return{formatted:f.formatted,cursorOffset:N+C,comments:D};let S=g.split("");S.splice(C,0,gi);let b=F.split(""),v=qi(S,b),O=N;for(let B of v)if(B.removed){if(B.value.includes(gi))break}else O+=B.count;return{formatted:f.formatted,cursorOffset:O,comments:D}}return{formatted:f.formatted,cursorOffset:-1,comments:D}}async function Or(n,s){let{ast:o,text:u}=await Fe(n,s),{rangeStart:h,rangeEnd:l}=Lr(u,s,o),f=u.slice(h,l),D=Math.min(h,u.lastIndexOf(`
`,h)+1),E=u.slice(D,h).match(/^\s*/u)[0],g=an(E,s.tabWidth),C=await Ir(f,{...s,rangeStart:0,rangeEnd:Number.POSITIVE_INFINITY,cursorOffset:s.cursorOffset>h&&s.cursorOffset<=l?s.cursorOffset-h:-1,endOfLine:"lf"},g),N=C.formatted.trimEnd(),{cursorOffset:F}=s;F>l?F+=N.length-f.length:C.cursorOffset>=0&&(F=C.cursorOffset+h);let S=u.slice(0,h)+N+u.slice(l);if(s.endOfLine!=="lf"){let b=Xe(s.endOfLine);F>=0&&b===`\r
`&&(F+=Rn(S.slice(0,F),`
`)),S=me(!1,S,`
`,b)}return{formatted:S,cursorOffset:F,comments:C.comments}}function Tn(n,s,o){return typeof s!="number"||Number.isNaN(s)||s<0||s>n.length?o:s}function wr(n,s){let{cursorOffset:o,rangeStart:u,rangeEnd:h}=s;return o=Tn(n,o,-1),u=Tn(n,u,0),h=Tn(n,h,n.length),{...s,cursorOffset:o,rangeStart:u,rangeEnd:h}}function Ci(n,s){let{cursorOffset:o,rangeStart:u,rangeEnd:h,endOfLine:l}=wr(n,s),f=n.charAt(0)===yi;if(f&&(n=n.slice(1),o--,u--,h--),l==="auto"&&(l=No(n)),n.includes("\r")){let D=E=>Rn(n.slice(0,Math.max(E,0)),`\r
`);o-=D(o),u-=D(u),h-=D(h),n=So(n)}return{hasBOM:f,text:n,options:wr(n,{...s,cursorOffset:o,rangeStart:u,rangeEnd:h,endOfLine:l})}}async function Fi(n,s){let o=await ki(s);return!o.hasPragma||o.hasPragma(n)}async function Rr(n,s){let{hasBOM:o,text:u,options:h}=Ci(n,await ke(s));if(h.rangeStart>=h.rangeEnd&&u!==""||h.requirePragma&&!await Fi(u,h))return{formatted:n,cursorOffset:s.cursorOffset,comments:[]};let l;return h.rangeStart>0||h.rangeEnd<u.length?l=await Or(u,h):(!h.requirePragma&&h.insertPragma&&h.printer.insertPragma&&!await Fi(u,h)&&(u=h.printer.insertPragma(u)),l=await Ir(u,h)),o&&(l.formatted=yi+l.formatted,l.cursorOffset>=0&&l.cursorOffset++),l}async function Br(n,s,o){let{text:u,options:h}=Ci(n,await ke(s)),l=await Fe(u,h);return o&&(o.preprocessForPrint&&(l.ast=await mi(l.ast,h)),o.massage&&(l.ast=gr(l.ast,h))),l}async function Pr(n,s){s=await ke(s);let o=await kn(n,s);return Pe(o,s)}async function ea(n,s){let o=cs(n),{formatted:u}=await Rr(o,{...s,parser:"__js_expression"});return u}async function ku(n,s){s=await ke(s);let{ast:o}=await Fe(n,s);return kn(o,s)}async function Ur(n,s){return Pe(n,await ke(s))}var Ai={};Je(Ai,{builders:()=>Eu,printer:()=>Mr,utils:()=>Hr});var Eu={join:Hn,line:as,softline:hs,hardline:ne,literalline:ls,group:Pn,conditionalGroup:is,fill:ss,lineSuffix:Un,lineSuffixBoundary:us,cursor:en,breakParent:we,ifBreak:rs,trim:Oo,indent:Oe,indentIfBreak:os,align:ye,addAlignmentToDoc:Gn,markAsRoot:Io,dedentToRoot:es,dedent:ns,hardlineWithoutBreakParent:tn,literallineWithoutBreakParent:Mn,label:Wt,concat:n=>n},Mr={printDocToString:Pe},Hr={willBreak:Es,traverseDoc:Ze,findInDoc:jn,mapDoc:Re,removeLines:xs,stripTrailingHardline:$n,replaceEndOfLine:gs,canBreak:Po},Tu="3.3.3",bi={};Je(bi,{addDanglingComment:()=>pe,addLeadingComment:()=>ce,addTrailingComment:()=>de,getAlignmentSize:()=>an,getIndentSize:()=>$r,getMaxContinuousCount:()=>Yr,getNextNonSpaceNonCommentCharacter:()=>gu,getNextNonSpaceNonCommentCharacterIndex:()=>to,getStringWidth:()=>nn,hasNewline:()=>Qt,hasNewlineInRange:()=>qr,hasSpaces:()=>Jr,isNextLineEmpty:()=>bu,isNextLineEmptyAfterIndex:()=>Wr,isPreviousLineEmpty:()=>eo,makeString:()=>Fu,skip:()=>He,skipEverythingButNewLine:()=>Jn,skipInlineComment:()=>vi,skipNewline:()=>le,skipSpaces:()=>$t,skipToLineEnd:()=>vs,skipTrailingComment:()=>mn,skipWhitespace:()=>bs});function Gr(n,s){if(s===!1)return!1;if(n.charAt(s)==="/"&&n.charAt(s+1)==="*"){for(let o=s+2;o<n.length;++o)if(n.charAt(o)==="*"&&n.charAt(o+1)==="/")return o+2}return s}var vi=Gr;function jr(n,s){return s===!1?!1:n.charAt(s)==="/"&&n.charAt(s+1)==="/"?Jn(n,s):s}var mn=jr;function mu(n,s){let o=null,u=s;for(;u!==o;)o=u,u=$t(n,u),u=vi(n,u),u=mn(n,u),u=le(n,u);return u}var xn=mu;function Vr(n,s){let o=null,u=s;for(;u!==o;)o=u,u=vs(n,u),u=vi(n,u),u=$t(n,u);return u=mn(n,u),u=le(n,u),u!==!1&&Qt(n,u)}var Wr=Vr;function xu(n,s){let o=n.lastIndexOf(`
`);return o===-1?0:an(n.slice(o+1).match(/^[\t ]*/u)[0],s)}var $r=xu;function Qr(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yu(n,s){let o=n.match(new RegExp(`(${Qr(s)})+`,"gu"));return o===null?0:o.reduce((u,h)=>Math.max(u,h.length/s.length),0)}var Yr=yu;function zr(n,s){let o=xn(n,s);return o===!1?"":n.charAt(o)}var gu=zr;function Kr(n,s,o){for(let u=s;u<o;++u)if(n.charAt(u)===`
`)return!0;return!1}var qr=Kr;function Cu(n,s,o={}){return $t(n,o.backwards?s-1:s,o)!==s}var Jr=Cu;function Xr(n,s,o){let u=s==='"'?"'":'"',h=me(!1,n,/\\(.)|(["'])/gsu,(l,f,D)=>f===u?f:D===s?"\\"+D:D||(o&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/u.test(f)?f:"\\"+f));return s+h+s}var Fu=Xr;function Zr(n,s,o){return xn(n,o(s))}function to(n,s){return arguments.length===2||typeof s=="number"?xn(n,s):Zr(...arguments)}function Au(n,s,o){return dn(n,o(s))}function eo(n,s){return arguments.length===2||typeof s=="number"?dn(n,s):Au(...arguments)}function no(n,s,o){return Wr(n,o(s))}function bu(n,s){return arguments.length===2||typeof s=="number"?Wr(n,s):no(...arguments)}function se(n,s=1){return async(...o)=>{let u=o[s]??{},h=u.plugins??[];return o[s]={...u,plugins:Array.isArray(h)?h:Object.values(h)},n(...o)}}var Ni=se(Rr);async function io(n,s){let{formatted:o}=await Ni(n,{...s,cursorOffset:-1});return o}async function so(n,s){return await io(n,s)===n}var vu=se(Yo,0),ro={parse:se(Br),formatAST:se(Pr),formatDoc:se(ea),printToDoc:se(ku),printDocToString:se(Ur)};return Gi($i)})}(Xu)),Xu.exports}(function(Te,Xt){(function(kt,_t){_t(Xt,Gh())})(Uh,function(kt,_t){function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mo={name:"PHP",type:"programming",tmScope:"text.html.php",aceMode:"php",codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",color:"#4F5D95",extensions:[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"],interpreters:["php"],aliases:["inc"],languageId:272},xo={name:"HTML+PHP",type:"markup",color:"#4f5d95",tmScope:"text.html.php",group:"HTML",extensions:[".phtml"],aceMode:"php",codemirrorMode:"php",codemirrorMimeType:"application/x-httpd-php",languageId:151},Ht={exports:{}},Hi={attributeIndex:0,attributeListDepth:{},matchST_ATTRIBUTE:function(){let t=this.input();if(this.is_WHITESPACE()){do t=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(t){case"]":return this.attributeListDepth[this.attributeIndex]===0?(delete this.attributeListDepth[this.attributeIndex],this.attributeIndex--,this.popState()):this.attributeListDepth[this.attributeIndex]--,"]";case"(":case")":case":":case"=":case"|":case"&":case"^":case"-":case"+":case"*":case"%":case"~":case"<":case">":case"!":case".":return this.consume_TOKEN();case"[":return this.attributeListDepth[this.attributeIndex]++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN()}if(this.is_LABEL_START()||t==="\\"){for(;this.offset<this.size;){const e=this.input();if(!this.is_LABEL()&&e!=="\\"){e&&this.unput(1);break}}return this.T_STRING()}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(t,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}},yo={consume_NUM:function(){let t=this.yytext[0],e=t===".";if(t==="0")if(t=this.input(),t==="x"||t==="X"){if(t=this.input(),t!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if(t==="b"||t==="B"){if(t=this.input(),t!=="_"&&t==="0"||t==="1")return this.consume_BNUM();this.unput(t?2:1)}else if(t==="o"||t==="O"){if(t=this.input(),t!=="_"&&this.is_OCTAL())return this.consume_ONUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;){const i=t;if(t=this.input(),t==="_"){if(i==="_"){this.unput(2);break}if(i==="."){this.unput(1);break}if(i==="e"||i==="E"){this.unput(2);break}}else{if(t==="."){if(e){this.unput(1);break}if(i==="_"){this.unput(2);break}e=!0;continue}if(t==="e"||t==="E"){if(i==="_"){this.unput(1);break}let r=2;if(t=this.input(),t!=="+"&&t!=="-"||(r=3,t=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?r:r-1);break}}if(!this.is_NUM()){t&&this.unput(1);break}}return e?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||this.yytext.length==10&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t!=="0"&&t!=="1"&&t!=="_"){t&&this.unput(1);break}return this.tok.T_LNUMBER},consume_ONUM:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_OCTAL()){t&&this.unput(1);break}}return this.tok.T_LNUMBER}},Sn={matchST_LOOKING_FOR_PROPERTY:function(){let t=this.input();if(t==="-"){if(t=this.input(),t===">")return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){let t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),t=this.input(),t==="["||t==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){const t=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(t==="]")return this.popState(),"]";if(t==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||t==="\\"||t==="'"||t==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(t==="["||t==="{"||t==="}"||t==='"'||t==="`"||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}},Je={matchST_IN_SCRIPTING:function(){let t=this.input();switch(t){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this.version>=800&&this._input[this.offset]==="["?(this.input(),this.attributeListDepth[++this.attributeIndex]=0,this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();const e=this._input[this.offset];return e!==`
`&&e!=="\r"||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),t=this._input[this.offset],t!==`
`&&t!=="\r"||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(t==="."){if(t=this.input(),this.is_NUM_START())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){const t=this.input();if(t!==" "&&t!=="	"&&t!==`
`&&t!=="\r"){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}};const Gt=[`
`,"\r"],Ne=[`
`,"\r",";"],Gi=Ne.concat(["	"," ",",","]",")","/","=","!"]);var go={T_CONSTANT_ENCAPSED_STRING:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else if(t=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){const t=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););let e=this._input[this.offset-1];if(e==="'"||e==='"'?this.offset++:e=null,this.is_LABEL_START()){let i=this.offset-1;for(;this.offset<this.size&&(this.offset++,this.is_LABEL()););const r=this._input.substring(i,this.offset-1);if((!e||e===this._input[this.offset-1])&&(e&&this.offset++,Gt.includes(this._input[this.offset-1])))return this.heredoc_label.label=r,this.heredoc_label.length=r.length,this.heredoc_label.finished=!1,i=this.offset-t,this.offset=t,this.consume(i),e==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else{if(t=='"')break;if(t=="$"){if(t=this.input(),t=="{"||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if(t=="{"){if(t=this.input(),t=="$"){this.unput(2);break}t&&this.unput(1)}}if(t=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;{let e=1;return this.yytext[0]!=="b"&&this.yytext[0]!=="B"||(e=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-e),this.unput(this.yytext.length-e),this.begin("ST_DOUBLE_QUOTES"),this.yytext}},isDOC_MATCH:function(t,e){const i=this._input[t-2];if(!Gt.includes(i))return!1;let r=!1,a=!1,c=0,_=this._input[t-1];if(this.version>=703){for(;_==="	"||_===" ";)_===" "?r=!0:_==="	"&&(a=!0),_=this._input[t+c],c++;if(t+=c,Gt.includes(this._input[t-1]))return!1}if(this._input.substring(t-1,t-1+this.heredoc_label.length)===this.heredoc_label.label){const d=this._input[t-1+this.heredoc_label.length];if((this.version>=703?Gi:Ne).includes(d)){if(e){if(this.consume(c),r&&a)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=c,this.heredoc_label.indentation_uses_spaces=r,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;let t=this.offset+1;for(;t<this._input.length;){if(this.isDOC_MATCH(t,!1))return;if(!Gt.includes(this._input[t-1]))for(;!Gt.includes(this._input[t++])&&t<this._input.length;);t++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;let t=this._input[this.offset-1];for(;this.offset<this.size;)if(Gt.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){let t=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(t==="\\"&&(t=this.input(),Gt.includes(t)||(t=this.input())),Gt.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();const t=this.input();if(t=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(t==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==="`")return this.popState(),"`";for(;this.offset<this.size;){if(t==="\\")this.input();else{if(t==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}continue}if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==='"')return this.popState(),'"';for(;this.offset<this.size;){if(t==="\\")this.input();else{if(t==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}t&&this.unput(1)}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}},Co={is_NUM:function(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t===95},is_NUM_START:function(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL:function(){const t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||t===95||t>47&&t<58||t>126},is_LABEL_START:function(){const t=this._input.charCodeAt(this.offset-1);return t>64&&t<91||t>96&&t<123||t===95||t>126},consume_LABEL:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN:function(){const t=this._input[this.offset-1];return";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(t)!==-1},is_WHITESPACE:function(){const t=this._input[this.offset-1];return t===" "||t==="	"||t===`
`||t==="\r"},is_TABSPACE:function(){const t=this._input[this.offset-1];return t===" "||t==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX:function(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t>64&&t<71||t>96&&t<103||t===95},is_OCTAL:function(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<56||t===95}};const st=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=801,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,enum:this.tok.T_ENUM,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH,readonly:this.tok.T_READ_ONLY},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};st.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},st.prototype.input=function(){const t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,t==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),t===`
`||t==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""},st.prototype.unput=function(t){if(t===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,t++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(let e=0;e<this.yytext.length;e++){let i=this.yytext[e];i==="\r"?(i=this.yytext[++e],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,i!==`
`&&(i==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):i===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},st.prototype.tryMatch=function(t){return t===this.ahead(t.length)},st.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()},st.prototype.ahead=function(t){let e=this._input.substring(this.offset,this.offset+t);return e[e.length-1]==="\r"&&this._input[this.offset+t+1]===`
`&&(e+=`
`),e},st.prototype.consume=function(t){for(let e=0;e<t;e++){const i=this._input[this.offset];if(!i)break;this.yytext+=i,this.offset++,i==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,e++),i===`
`||i==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},st.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},st.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,t.heredoc_label&&(this.heredoc_label=t.heredoc_label),this},st.prototype.appendToken=function(t,e){return this.tokens.push([t,e]),this},st.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;let t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t},st.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+t+'"');return this},st.prototype.popState=function(){const t=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return t},st.prototype.next=function(){let t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(t=this.tokens.shift(),typeof t[1]=="object"?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){let e=t;e=typeof e=="number"?this.engine.tokens.values[e]:'"'+e+'"';const i=new Error(e+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(i.stack)}return t},[Hi,{T_COMMENT:function(){for(;this.offset<this.size;){const t=this.input();if(t===`
`||t==="\r")return this.tok.T_COMMENT;if(t==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(t==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){let t=this.input(),e=this.tok.T_COMMENT;if(t==="*"){if(t=this.input(),this.is_WHITESPACE()&&(e=this.tok.T_DOC_COMMENT),t==="/")return e;this.unput(1)}for(;this.offset<this.size;)if(t=this.input(),t==="*"&&this._input[this.offset]==="/"){this.input();break}return e}},{nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){let t=this.input();if(t=="<"){if(t=this.ahead(1),t=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&(t=this._input[this.offset+4],t===" "||t==="	"||t===`
`||t==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&t=="%"){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}},yo,Sn,Je,go,{T_STRING:function(){const t=this.yytext.toLowerCase();let e=this.keywords[t];if(typeof e!="number"){if(t==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),e=this.tok.T_YIELD_FROM):e=this.tok.T_YIELD;else if(e=this.tok.T_STRING,t==="b"||t==="B"){const i=this.input();if(i==='"')return this.ST_DOUBLE_QUOTES();if(i==="'")return this.T_CONSTANT_ENCAPSED_STRING();i&&this.unput(1)}}if(e===this.tok.T_ENUM){if(this.version<801)return this.tok.T_STRING;const i=this.offset;let r=this.input();for(;r==" ";)r=this.input();let a=!1;if(this.is_LABEL_START()){for(;this.is_LABEL();)r+=this.input();const c=r.slice(0,-1).toLowerCase();a=c!=="extends"&&c!=="implements"}return this.unput(this.offset-i),a?this.tok.T_ENUM:this.tok.T_STRING}if(this.offset<this.size&&e!==this.tok.T_YIELD_FROM){let i=this.input();if(i==="\\"){e=t==="namespace"?this.tok.T_NAME_RELATIVE:this.tok.T_NAME_QUALIFIED;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),i=this.input()}while(i==="\\")}i&&this.unput(1)}return e},consume_TOKEN:function(){const t=this._input[this.offset-1],e=this.tokenTerminals[t];return e?e.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){const t=this._input[this.offset];return t===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):t==="-"?(this.input(),this.tok.T_DEC):t==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){if(this.offset<this.size){if(this.input(),this.is_LABEL_START()){let t;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),t=this.input()}while(t==="\\");return this.unput(1),this.tok.T_NAME_FULLY_QUALIFIED}this.unput(1)}return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){const t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){const e=this.yytext.length;this.consume_LABEL();const i=this.yytext.substring(e-1).toLowerCase(),r=this.castKeywords[i];if(typeof r=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return r}return this.unput(this.offset-t),"("},"=":function(){const t=this._input[this.offset];return t===">"?(this.input(),this.tok.T_DOUBLE_ARROW):t==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){const t=this._input[this.offset];return t==="+"?(this.input(),this.tok.T_INC):t==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){let t=this._input[this.offset];return t==="<"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SL_EQUAL):t==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL)):t==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):t===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):t===">"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR)):">"},"*":function(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_MUL_EQUAL):t==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_CONCAT_EQUAL):t==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_AND_EQUAL):t==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){const t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_OR_EQUAL):t==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}},Co].forEach(function(t){for(const e in t)st.prototype[e]=t[e]});var Ln=st,In=function(t,e,i){this.line=t,this.column=e,this.offset=i},ji={read_expr:function(t){const e=this.node();if(this.token==="@")return t||(t=this.next().read_expr()),e("silent",t);if(t||(t=this.read_expr_item()),this.token==="|")return e("bin","|",t,this.next().read_expr());if(this.token==="&")return e("bin","&",t,this.next().read_expr());if(this.token==="^")return e("bin","^",t,this.next().read_expr());if(this.token===".")return e("bin",".",t,this.next().read_expr());if(this.token==="+")return e("bin","+",t,this.next().read_expr());if(this.token==="-")return e("bin","-",t,this.next().read_expr());if(this.token==="*")return e("bin","*",t,this.next().read_expr());if(this.token==="/")return e("bin","/",t,this.next().read_expr());if(this.token==="%")return e("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return e("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return e("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return e("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return e("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return e("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return e("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return e("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return e("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return e("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return e("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return e("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return e("bin","!=",t,this.next().read_expr());if(this.token==="<")return e("bin","<",t,this.next().read_expr());if(this.token===">")return e("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return e("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return e("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return e("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=e("bin","instanceof",t,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return e("bin","??",t,this.next().read_expr());if(this.token==="?"){let i=null;return this.next().token!==":"&&(i=this.read_expr()),this.expect(":")&&this.next(),e("retif",t,i,this.read_expr())}return e.destroy(t),t},read_expr_cast:function(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){let t=null;switch(this.token){case this.tok.T_ISSET:{t=this.node("isset"),this.next().expect("(")&&this.next();const e=this.read_isset_variables();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_EMPTY:{t=this.node("empty"),this.next().expect("(")&&this.next();const e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_INCLUDE:t=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:t=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:{t=this.node("eval"),this.next().expect("(")&&this.next();const e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_REQUIRE:t=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:t=this.node("include")(!0,!0,this.next().read_expr())}return t},read_optional_expr:function(t){return this.token!==t?this.read_expr():null},read_exit_expr:function(){let t=null;return this.token==="("&&(this.next(),t=this.read_optional_expr(")"),this.expect(")")&&this.next()),t},read_expr_item:function(){let t,e,i=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return e=this.next().read_expr(),e.parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(e);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){let r=null;const a=this.innerList;t=this.node("list"),a||(r=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);const c=this.read_array_pair_list(!1);this.expect(")")&&this.next();let _=!1;for(let d=0;d<c.length;d++)if(c[d]!==null&&c[d].kind!=="noop"){_=!0;break}return _||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),a?t(c,!1):(this.innerList=!1,this.expect("=")?r(t(c,!1),this.next().read_expr(),"="):t(c,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:{const r=this.lexer.yytext.toLowerCase()==="die";return t=this.node("exit"),this.next(),t(this.read_exit_expr(),r)}case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:{let r=null,a=null;return t=this.node("yield"),this.next().is("EXPR")&&(r=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(a=r,r=this.next().read_expr())),t(r,a)}case this.tok.T_YIELD_FROM:return t=this.node("yieldfrom"),e=this.next().read_expr(),t(e);case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,i);case this.tok.T_STATIC:{const r=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],i);this.lexer.tokens.push(r),this.next()}}if(this.is("VARIABLE")){t=this.node(),e=this.read_variable(!1,!1);const r=e.kind==="identifier"||e.kind==="staticlookup"&&e.offset.kind==="identifier";switch(this.token){case"=":return r&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(t,e):t("assign",e,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"??=");case this.tok.T_INC:return r&&this.error("VARIABLE"),this.next(),t("post","+",e);case this.tok.T_DEC:return r&&this.error("VARIABLE"),this.next(),t("post","-",e);default:t.destroy(e)}}else{if(this.is("SCALAR")){if(t=this.node(),e=this.read_scalar(),e.kind==="array"&&e.shortForm&&this.token==="="){const r=this.convertToList(e);return e.loc&&(r.loc=e.loc),t("assign",r,this.next().read_expr(),"=")}return t.destroy(e),this.handleDereferencable(e)}this.error("EXPR"),this.next()}return e},convertToList:function(t){const e=t.items.map(r=>(r.value&&r.value.kind==="array"&&r.value.shortForm&&(r.value=this.convertToList(r.value)),r)),i=this.node("list")(e,!0);return t.loc&&(i.loc=t.loc),t.leadingComments&&(i.leadingComments=t.leadingComments),t.trailingComments&&(i.trailingComments=t.trailingComments),i},read_assignref:function(t,e){let i;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),i=this.read_new_expr()):i=this.read_variable(!1,!1),t("assignref",e,i)},read_inline_function:function(t,e){if(this.token===this.tok.T_FUNCTION){const T=this.read_function(!0,t,e);return T.attrGroups=e,T}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");const i=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();const r=this.is_reference();this.expect("(")&&this.next();const a=this.read_parameter_list();this.expect(")")&&this.next();let c=!1,_=null;this.token===":"&&(this.next().token==="?"&&(c=!0,this.next()),_=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();const d=i(a,r,this.read_expr(),_,c,!!t);return d.attrGroups=e,d},read_match_expression:function(){const t=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");let e=null,i=[];return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),i=this.read_match_arms(),this.expect("}")&&this.next(),t(e,i)},read_match_arms:function(){return this.read_list(()=>this.read_match_arm(),",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){let t=[];if(this.token===this.tok.T_DEFAULT)t=null,this.next();else for(t.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),t;t.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),t},read_attribute(){const t=this.text();let e=[];return this.next(),this.token==="("&&(e=this.read_argument_list()),this.node("attribute")(t,e)},read_attr_list(){const t=[];if(this.token===this.tok.T_ATTRIBUTE)do{const e=this.node("attrgroup")([]);for(this.next(),e.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&e.attrs.push(this.read_attribute());t.push(e),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return t},read_new_expr:function(){const t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();let e=[];if(this.token==="("){this.next();const a=this.read_expr();return this.expect(")"),this.next(),this.token==="("&&(e=this.read_argument_list()),t(a,e)}const i=this.read_attr_list();if(this.token===this.tok.T_CLASS){const a=this.node("class");this.next().token==="("&&(e=this.read_argument_list());const c=this.read_extends_from(),_=this.read_implements_list();let d=null;this.expect("{")&&(d=this.next().read_class_body(!0,!1));const T=a(null,c,_,d,[0,0,0]);return T.attrGroups=i,t(T,e)}let r=this.read_new_class_name();for(;this.token==="[";){const a=this.node("offsetlookup"),c=this.next().read_encaps_var_offset();this.expect("]")&&this.next(),r=a(r,c)}return this.token==="("&&(e=this.read_argument_list()),t(r,e)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){let t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")t=this.read_dereferencable(t);else{if(this.token!=="(")return t;t=this.node("call")(t,this.read_argument_list())}return t}},Vi={is_reference:function(){return this.token==="&"&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(t,e,i,r){const a=this.read_function_declaration(t?1:e?2:0,e&&e[1]===1,i||[],r);return e&&e[2]==1?(a.parseFlags(e),this.expect(";")&&this.next()):(this.expect("{")&&(a.body=this.read_code_block(!1),a.loc&&a.body.loc&&(a.loc.end=a.body.loc.end)),!t&&e&&a.parseFlags(e)),a},read_function_declaration:function(t,e,i,r){let a="function";t===1?a="closure":t===2&&(a="method");const c=this.node(a);this.expect(this.tok.T_FUNCTION)&&this.next();const _=this.is_reference();let d=!1,T=[],k=null,p=!1;if(t!==1){const y=this.node("identifier");t===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(d=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(d=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(d=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(d=this.text()),this.next()),d=y(d)}this.expect("(")&&this.next();const W=this.read_parameter_list(d.name==="__construct");return this.expect(")")&&this.next(),t===1&&(T=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(p=!0,this.next()),k=this.read_types()),(y=>(y.attrGroups=i||[],r&&y.loc&&(y.loc.start=r,y.loc.source&&(y.loc.source=this.lexer._input.substr(y.loc.start.offset,y.loc.end.offset-y.loc.start.offset))),y))(t===1?c(W,_,T,k,p,e):c(d,W,_,k,p))},read_lexical_vars:function(){let t=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),t=this.read_lexical_var_list(),this.expect(")")&&this.next()),t},read_list_with_dangling_comma:function(t){const e=[];for(;this.token!=this.EOF;){if(e.push(t()),this.token!=","){if(this.token==")")break;this.error([",",")"]);break}if(this.next(),this.version>=800&&this.token===")")return e}return e},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));const t=this.node("variable");this.expect(this.tok.T_VARIABLE);const e=this.text().substring(1);return this.next(),t(e,!1)},read_parameter_list:function(t){if(this.token!==")"){let e=!1;return this.read_list_with_dangling_comma((function(){const i=this.read_parameter(t);return i&&(e&&this.raiseError("Unexpected parameter after a variadic parameter"),i.variadic&&(e=!0)),i}).bind(this),",")}return[]},read_parameter:function(t){const e=this.node("parameter");let i=null,r=null,a=null,c=!1,_=!1,d=[];this.token===this.tok.T_ATTRIBUTE&&(d=this.read_attr_list()),this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),_=!0):this.raiseError("readonly properties can be used only on class constructor"));const T=this.read_promoted();!_&&this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),_=!0):this.raiseError("readonly properties can be used only on class constructor")),this.token==="?"&&(this.next(),c=!0),a=this.read_types(),c&&!a&&this.raiseError("Expecting a type definition combined with nullable operator");const k=this.is_reference(),p=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){i=this.node("identifier");const m=this.text().substring(1);this.next(),i=i(m)}this.token=="="&&(r=this.next().read_expr());const W=e(i,a,r,k,p,_,c,T);return d&&(W.attrGroups=d),W},read_types(){const t="unset",e="union",i="intersection",r=[];let a=t;const c=this.read_type();if(!c)return null;for(r.push(c);this.token==="|"||this.version>=801&&this.token==="&";){const _=this.peek();if(_===this.tok.T_ELLIPSIS||_===this.tok.T_VARIABLE)break;a===t?a=this.token==="|"?e:i:(a===e&&this.token!=="|"||a===i&&this.token!=="&")&&this.raiseError('Unexpect token "'+this.token+'", "|" and "&" can not be mixed'),this.next(),r.push(this.read_type())}return r.length===1?r[0]:a===i?this.node("intersectiontype")(r):this.node("uniontype")(r)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){let t=[];return this.expect("(")&&this.next(),this.version>=801&&this.token===this.tok.T_ELLIPSIS&&this.peek()===")"?(t.push(this.node("variadicplaceholder")()),this.next()):this.token!==")"&&(t=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),t},read_non_empty_argument_list:function(){let t=!1;return this.read_function_list((function(){const e=this.read_argument();if(e){const i=e.kind==="variadic";t&&!i&&this.raiseError("Unexpected non-variadic argument after a variadic argument"),i&&(t=!0)}return e}).bind(this),",")},read_argument:function(){return this.token===this.tok.T_ELLIPSIS?this.node("variadic")(this.next().read_expr()):(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token))&&this.peek()===":"?(this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())):this.read_expr()},read_type:function(){const t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){const e=this.text();return this.next(),t("typereference",e.toLowerCase(),e)}if(this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){const e=this.text(),i=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(e.toLowerCase())>-1?t("typereference",e.toLowerCase(),e):(this.lexer.tokens.push(i),this.next(),t.destroy(),this.read_namespace_name())}return t.destroy(),null}};const Wi={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:"\f",v:"\v",e:"\x1B"};var Fo={resolve_special_chars:function(t,e){return e?t.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,(i,r,a)=>Wi[r]?Wi[r]:r[0]==="x"||r[0]==="X"?String.fromCodePoint(parseInt(r.substr(1),16)):r[0]==="u"?String.fromCodePoint(parseInt(a,16)):String.fromCodePoint(parseInt(r,8))):t.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(t,e,i,r){if(e===0)return t;this.check_heredoc_indentation_level(t,e,i,r);const a=i?" ":"	",c=new RegExp("\\n".concat(a,"{").concat(e,"}"),"g"),_=new RegExp("^".concat(a,"{").concat(e,"}"));return r&&(t=t.replace(_,"")),t.replace(c,`
`)},check_heredoc_indentation_level:function(t,e,i,r){const a=t.length;let c=0,_=0,d=!0;const T=i?" ":"	";let k=!1;if(!r){if(c=t.indexOf(`
`),c===-1)return;c++}for(;c<a;)d?t[c]===T?_++:k=!0:d=!1,t[c]!==`
`&&k&&_<e?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(e,")")):k=!1,t[c]===`
`&&(d=!0,_=0),c++},read_dereferencable_scalar:function(){let t=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:{let e=this.node("string");const i=this.text();let r=0;i[0]!=="b"&&i[0]!=="B"||(r=1);const a=i[r]==='"';this.next(),e=e(a,this.resolve_special_chars(i.substring(r+1,i.length-1),a),r===1,i),t=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(e):e}break;case this.tok.T_ARRAY:case"[":t=this.read_array()}return t},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();{let t,e;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:{const i=this.node("number");return t=this.text(),this.next(),i(t,null)}case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){const i=this.lexer.yylloc.first_offset;e=this.node("nowdoc"),t=this.next().text(),this.lexer.heredoc_label.indentation>0&&(t=t.substring(0,t.length-this.lexer.heredoc_label.indentation));const r=t[t.length-1];r===`
`?t=t[t.length-2]==="\r"?t.substring(0,t.length-2):t.substring(0,t.length-1):r==="\r"&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();const a=this.lexer._input.substring(i,this.lexer.yylloc.first_offset);return e=e(this.remove_heredoc_leading_whitespace_chars(t,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),a,this.lexer.heredoc_label.label),this.lexer.heredoc_label.finished=!0,e}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:{const i=this.error("SCALAR");return this.next(),i}}}},read_dereferencable:function(t){let e,i;const r=this.node("offsetlookup");return this.token==="["?(i=this.next().read_expr(),this.expect("]")&&this.next(),e=r(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(i=this.read_encapsed_string_item(!1),e=r(t,i)),e},read_encapsed_string_item:function(t){const e=this.node("encapsedpart");let i,r,a,c=null,_=!1,d=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){const T=this.text();this.next(),d=d("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(T,t),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):T,!1,T)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(c="simple",_=!0,a=null,this.next().token===this.tok.T_STRING_VARNAME){a=this.node("variable");const T=this.text();this.next(),d.destroy(),this.token==="["?(a=a(T,!1),r=this.node("offsetlookup"),i=this.next().read_expr(),this.expect("]")&&this.next(),d=r(a,i)):d=a(T,!1)}else d=d("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)c="complex",d.destroy(),d=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(c="simple",d.destroy(),d=this.read_simple_variable(),this.token==="["&&(r=this.node("offsetlookup"),i=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),d=r(d,i)),this.token===this.tok.T_OBJECT_OPERATOR){r=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);const T=this.node("identifier");a=this.text(),this.next(),d=r(d,T(a))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);const T=this.text();this.next(),d.destroy(),d=d("string",!1,T,!1,T)}return this.lexer.heredoc_label.first_encaps_node=!1,e(d,c,_)},read_encapsed_string:function(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const i=this.lexer.yylloc.first_offset;let r=this.node("encapsed");this.next();const a=this.lexer.yylloc.prev_offset-(e?1:0),c=[];let _=null;for(_=t==="`"?this.ast.encapsed.TYPE_SHELL:t==='"'?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)c.push(this.read_encapsed_string_item(!0));if(c.length>0&&c[c.length-1].kind==="encapsedpart"&&c[c.length-1].expression.kind==="string"){const d=c[c.length-1].expression,T=d.value[d.value.length-1];T===`
`?d.value[d.value.length-2]==="\r"?d.value=d.value.substring(0,d.value.length-2):d.value=d.value.substring(0,d.value.length-1):T==="\r"&&(d.value=d.value.substring(0,d.value.length-1))}return this.expect(t)&&this.next(),r=r(c,this.lexer._input.substring(_==="heredoc"?i:a-1,this.lexer.yylloc.first_offset),_),t===this.tok.T_END_HEREDOC&&(r.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),r},get_magic_constant:function(){const t=this.node("magic"),e=this.text();return this.next(),t(e.toUpperCase(),e)}},Ao={read_top_statements:function(){let t=[];for(;this.token!==this.EOF&&this.token!=="}";){const e=this.read_top_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_top_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,t);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_READ_ONLY:case this.tok.T_CLASS:return this.read_class_declaration_statement(t);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(t);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement(t);case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:{const e=this.node("constantstatement"),i=this.next().read_const_list();return this.expectEndOfStatement(),e(null,i)}case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:{const e=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,e(this.lexer._input.substring(this.lexer.offset))}default:return this.read_statement()}},read_inner_statements:function(){let t=[];for(;this.token!=this.EOF&&this.token!=="}";){const e=this.read_inner_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);const t=this.node("constant");let e=this.node("identifier");const i=this.text();return this.next(),e=e(i),this.expect("=")?t(e,this.next().read_expr()):t(e,null)},",",!1)},read_declare_list:function(){const t=[];for(;this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);const e=this.node("declaredirective");let i=this.node("identifier");const r=this.text();this.next(),i=i(r);let a=null;if(this.expect("=")&&(a=this.next().read_expr()),t.push(e(i,a)),this.token!==",")break;this.next()}return t},read_inner_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:{const e=this.read_function(!1,!1);return e.attrGroups=t,e}case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement();case this.tok.T_HALT_COMPILER:{this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");let e=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),e=e(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),e}default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:{const t=this.node("return");this.next();const e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_BREAK:case this.tok.T_CONTINUE:{const t=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();const e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_GLOBAL:{const t=this.node("global"),e=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),t(e)}case this.tok.T_STATIC:{const t=[this.token,this.lexer.getState()],e=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(t);const r=this.next().read_expr();return this.expectEndOfStatement(r),e("expressionstatement",r)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);const i=this.read_variable_declarations();return this.expectEndOfStatement(),e("static",i)}case this.tok.T_ECHO:{const t=this.node("echo"),e=this.text(),i=e==="<?="||e==="<%=",r=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),t(r,i)}case this.tok.T_INLINE_HTML:{const t=this.text();let e=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null;const i=e==="\r"||e===`
`;i&&e===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(e=`\r
`);const r=this.node("inline");return this.next(),r(t,i?e+t:t)}case this.tok.T_UNSET:{const t=this.node("unset");this.next().expect("(")&&this.next();const e=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),t(e)}case this.tok.T_DECLARE:{const t=this.node("declare"),e=[];let i;this.next().expect("(")&&this.next();const r=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)e.push(this.read_top_statement());e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),i=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)e.push(this.read_top_statement());e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect("}")&&this.next(),i=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),i=this.ast.declare.MODE_NONE;return t(r,e,i)}case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:{const t=this.node("throw"),e=this.next().read_expr();return this.expectEndOfStatement(),t(e)}case";":return this.next(),null;case this.tok.T_STRING:{const t=this.node(),e=[this.token,this.lexer.getState()],i=this.text();let r=this.node("identifier");if(this.next().token===":")return r=r(i),this.next(),t("label",r);r.destroy(),t.destroy(),this.lexer.tokens.push(e);const a=this.node("expressionstatement"),c=this.next().read_expr();return this.expectEndOfStatement(c),a(c)}case this.tok.T_GOTO:{const t=this.node("goto");let e=null;if(this.next().expect(this.tok.T_STRING)){e=this.node("identifier");const i=this.text();this.next(),e=e(i),this.expectEndOfStatement()}return t(e)}default:{const t=this.node("expressionstatement"),e=this.read_expr();return this.expectEndOfStatement(e),t(e)}}},read_code_block:function(t){const e=this.node("block");this.expect("{")&&this.next();const i=t?this.read_top_statements():this.read_inner_statements();return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect("}")&&this.next(),e(null,i)}},$i={read_variable:function(t,e){let i;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,t,e));if(this.is([this.tok.T_VARIABLE,"$"]))i=this.read_reference_variable(e);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE])){i=this.node();const r=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(r.kind)===-1){const a=r.name.toLowerCase();a==="true"?i=r.destroy(i("boolean",!0,r.name)):a==="false"?i=r.destroy(i("boolean",!1,r.name)):a==="null"?i=r.destroy(i("nullkeyword",r.name)):(i.destroy(r),i=r)}else i.destroy(r),i=r}else if(this.token===this.tok.T_STATIC){i=this.node("staticreference");const r=this.text();this.next(),i=i(r)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(i=this.read_static_getter(i,e)),this.recursive_variable_chain_scan(i,t,e)},read_static_getter:function(t,e){const i=this.node("staticlookup");let r,a;return this.next().is([this.tok.T_VARIABLE,"$"])?r=this.read_reference_variable(e):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(r=this.node("identifier"),a=this.text(),this.next(),r=r(a)):this.token==="{"?(r=this.node("literal"),a=this.next().read_expr(),this.expect("}")&&this.next(),r=r("literal",a,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),r=this.node("identifier"),a=this.text(),this.next(),r=r(a)),i(t,r)},read_what:function(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=null,i=null;switch(this.next().token){case this.tok.T_STRING:e=this.node("identifier"),i=this.text(),this.next(),e=e(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:e=this.node("variable"),i=this.text().substring(1),this.next(),e=e(i,!1);break;case"$":e=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("variable",i,!0)):(i=this.read_expr(),e=e("variable",i,!1));break;case"{":e=this.node("encapsedpart"),i=this.next().read_expr(),this.expect("}")&&this.next(),e=e(i,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),e=this.node("identifier"),i=this.text(),this.next(),e=e(i)}return e},recursive_variable_chain_scan:function(t,e,i){let r,a;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(e)return t;t=this.node("call")(t,this.read_argument_list());break;case"[":case"{":{const c=this.token==="[";r=this.node("offsetlookup"),this.next(),a=!1,i?(a=this.read_encaps_var_offset(),this.expect(c?"]":"}")&&this.next()):(c?this.token!=="]":this.token!=="}")?(a=this.read_expr(),this.expect(c?"]":"}")&&this.next()):this.next(),t=r(t,a);break}case this.tok.T_DOUBLE_COLON:t.kind==="staticlookup"&&t.offset.kind==="identifier"&&this.error(),r=this.node("staticlookup"),t=r(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:r=this.node("propertylookup"),t=r(t,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:r=this.node("nullsafepropertylookup"),t=r(t,this.read_what());break;default:break t}return t},read_encaps_var_offset:function(){let t=this.node();if(this.token===this.tok.T_STRING){const e=this.text();this.next(),t=t("identifier",e)}else if(this.token===this.tok.T_NUM_STRING){const e=this.text();this.next(),t=t("number",e,null)}else if(this.token==="-"){this.next();const e=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),t=t("number",e,null)}else if(this.token===this.tok.T_VARIABLE){const e=this.text().substring(1);this.next(),t=t("variable",e,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);const e=this.text();this.next(),t=t("identifier",e)}return t},read_reference_variable:function(t){let e,i=this.read_simple_variable();for(;this.token!=this.EOF;){const r=this.node();if(this.token!="{"||t){r.destroy();break}e=this.next().read_expr(),this.expect("}")&&this.next(),i=r("offsetlookup",i,e)}return i},read_simple_variable:function(){let t,e=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)t=this.text().substring(1),this.next(),e=e(t,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":{const i=this.next().read_expr();this.expect("}")&&this.next(),e=e(i,!0);break}case"$":e=e(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:{t=this.text().substring(1);const i=this.node("variable");this.next(),e=e(i(t,!1),!1);break}default:this.error(["{","$",this.tok.T_VARIABLE]),t=this.text(),this.next(),e=e(t,!1)}return e}};const bo=In;function me(t){return t!="."&&t!=","&&!isNaN(parseFloat(t))&&isFinite(t)}const Z=function(t,e){this.lexer=t,this.ast=e,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=801,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;const i=function(r){return[r,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_ENUM,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_READ_ONLY,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i))}};Z.prototype.getTokenName=function(t){return me(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"},Z.prototype.parse=function(t,e){this._errors=[],this.filename=e||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;const i=this.node("program"),r=[];for(this.next();this.token!=this.EOF;)r.push(this.read_start());r.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&r.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];const a=i(r,this._errors,this._docs,this._tokens);if(this.debug){const c=this.ast.checkNodes();if(c.length>0)throw c.forEach(function(_){_.position&&console.log("Node at line "+_.position.line+", column "+_.position.column),console.log(_.stack.join(`
`))}),new Error("Some nodes are not closed")}return a},Z.prototype.raiseError=function(t,e,i,r){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){const c=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw c.lineNumber=this.lexer.yylloc.first_line,c.fileName=this.filename,c.columnNumber=this.lexer.yylloc.first_column,c}const a=this.ast.prepare("error",null,this)(t,r,this.lexer.yylloc.first_line,i);return this._errors.push(a),a},Z.prototype.error=function(t){let e="Parse Error : syntax error",i=this.getTokenName(this.token),r="";if(this.token!==this.EOF){if(me(this.token)){let a=this.text();a.length>10&&(a=a.substring(0,7)+"..."),i="'"+a+"' ("+i+")"}e+=", unexpected "+i}return t&&!Array.isArray(t)&&((me(t)||t.length===1)&&(r=", expecting "+this.getTokenName(t)),e+=r),this.raiseError(e,r,t,i)},Z.prototype.position=function(){return new bo(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},Z.prototype.node=function(t){if(this.extractDoc){let e=null;this._docIndex<this._docs.length&&(e=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+t)),console.log(e)));const i=this.ast.prepare(t,e,this);return i.postBuild=(function(r){if(this._docIndex<this._docs.length)if(this._lastNode){const a=this.prev[2];let c=this._docIndex;for(;c<this._docs.length&&!(this._docs[c].offset>a);c++);c>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,c)),this._docIndex=c)}else this.token===this.EOF&&(r.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=r}).bind(this),i}return this.ast.prepare(t,null,this)},Z.prototype.expectEndOfStatement=function(t){if(this.token===";")t&&this.lexer.yytext===";"&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};const On=["parser.next","parser.node","parser.showlog"];Z.prototype.showlog=function(){const t=new Error().stack.split(`
`);let e;for(let i=2;i<t.length;i++){e=t[i].trim();let r=!1;for(let a=0;a<On.length;a++)if(e.substring(3,3+On[a].length)===On[a]){r=!0;break}if(!r)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+e),this},Z.prototype.expect=function(t){if(Array.isArray(t)){if(t.indexOf(this.token)===-1)return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0},Z.prototype.text=function(){return this.lexer.yytext},Z.prototype.next=function(){if(this.token===";"&&this.lexer.yytext!==";"||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},Z.prototype.peek=function(){const t=this.lexer.getState(),e=this.lexer.lex();return this.lexer.setState(t),e},Z.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;let t=this.lexer.yytext;if(t=Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},Z.prototype.is=function(t){return Array.isArray(t)?t.indexOf(this.token)!==-1:this.entries[t].has(this.token)},[{read_array:function(){let t=null,e=!1;const i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(e=!0,t="]");let r=[];return this.next().token!==t&&(r=this.read_array_pair_list(e)),this.expect(t),this.next(),i(e,r)},read_array_pair_list:function(t){const e=this;return this.read_list(function(){return e.read_array_pair(t)},",",!0)},read_array_pair:function(t){if(!t&&this.token===")"||t&&this.token==="]")return;if(this.token===",")return this.node("noop")();const e=this.node("entry");let i=null,r=null,a=!1,c=!1;if(this.token==="&")this.next(),a=!0,r=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),c=!0,r=this.read_expr();else{const _=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),i=_,this.token==="&"?(this.next(),a=!0,r=this.read_variable(!0,!1)):r=this.read_expr()):r=_}return e(i,r,a,c)}},{read_class_declaration_statement:function(t){const e=this.node("class"),i=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);let r=this.node("identifier");const a=this.text();this.next(),r=r(a);const c=this.read_extends_from(),_=this.read_implements_list();this.expect("{");const d=e(r,c,_,this.next().read_class_body(!0,!1),i);return t&&(d.attrGroups=t),d},read_class_modifiers:function(){const t=this.read_class_modifier({readonly:0,final_or_abstract:0});return[0,0,t.final_or_abstract,t.readonly]},read_class_modifier:function(t){return this.token===this.tok.T_READ_ONLY?(this.next(),t.readonly=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_ABSTRACT?(this.next(),t.final_or_abstract=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_FINAL&&(this.next(),t.final_or_abstract=2,t=this.read_class_modifier(t)),t},read_class_body:function(t,e){let i=[],r=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){i.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){i.push(this.read_doc_comment());continue}if(this.token===this.tok.T_USE){i=i.concat(this.read_trait_use_statement());continue}if(e&&this.token===this.tok.T_CASE){const _=this.read_enum_case();this.expect(";")&&this.next(),i=i.concat(_);continue}this.token===this.tok.T_ATTRIBUTE&&(r=this.read_attr_list());const a=this.position(),c=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(t&&this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),c[0]=null,c[1]=0),this.token===this.tok.T_FUNCTION)i.push(this.read_function(!1,c,r,a)),r=[];else if(t&&(this.token===this.tok.T_VARIABLE||this.version>=801&&this.token===this.tok.T_READ_ONLY||this.version>=704&&(this.token==="?"||this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING))){const _=this.read_variable_list(c,r);r=[],this.expect(";"),this.next(),i=i.concat(_)}else this.error([this.tok.T_CONST,...t?[this.tok.T_VARIABLE]:[],...e?[this.tok.T_CASE]:[],this.tok.T_FUNCTION]),this.next();else{const _=this.read_constant_list(c,r);this.expect(";")&&this.next(),i=i.concat(_)}}return this.expect("}"),this.next(),i},read_variable_list:function(t,e){const i=this.node("propertystatement"),r=this.read_list(function(){const a=this.node("property");let c=!1;this.token===this.tok.T_READ_ONLY&&(c=!0,this.next());const[_,d]=this.read_optional_type();this.expect(this.tok.T_VARIABLE);let T=this.node("identifier");const k=this.text().substring(1);return this.next(),T=T(k),this.token===";"||this.token===","?a(T,null,c,_,d,e||[]):this.token==="="?a(T,this.next().read_expr(),c,_,d,e||[]):(this.expect([",",";","="]),a(T,null,_,d,e||[]))},",");return i(null,r,t)},read_constant_list:function(t,e){this.expect(this.tok.T_CONST)&&this.next();const i=this.node("classconstant"),r=this.read_list(function(){const a=this.node("constant");let c=null,_=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){c=this.node("identifier");const d=this.text();this.next(),c=c(d)}else this.expect("IDENTIFIER");return this.expect("=")&&(_=this.next().read_expr()),a(c,_)},",");return i(null,r,t,e||[])},read_member_flags:function(t){const e=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){let i=0,r=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,r=0;break;case this.tok.T_PROTECTED:i=0,r=1;break;case this.tok.T_PRIVATE:i=0,r=2;break;case this.tok.T_STATIC:i=1,r=1;break;case this.tok.T_ABSTRACT:i=2,r=1;break;case this.tok.T_FINAL:i=2,r=2}t&&(i==0&&r==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),r=-1):i==2&&r==1&&(this.error(),r=-1)),e[i]!==-1?this.error():r!==-1&&(e[i]=r)}while(this.next().is("T_MEMBER_FLAGS"))}return e[1]==-1&&(e[1]=0),e[2]==-1&&(e[2]=0),e},read_optional_type:function(){let t=!1;this.token==="?"&&(t=!0,this.next());let e=this.read_types();if(t&&!e&&this.raiseError("Expecting a type definition combined with nullable operator"),!t&&!e)return[!1,null];if(this.token==="|"){e=[e];do{this.next();const i=this.read_type();if(!i){this.raiseError("Expecting a type definition");break}e.push(i)}while(this.token==="|")}return[t,e]},read_interface_declaration_statement:function(t){const e=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier");const r=this.text();this.next(),i=i(r);const a=this.read_interface_extends_list();return this.expect("{"),e(i,a,this.next().read_interface_body(),t||[])},read_interface_body:function(){let t=[],e=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){t.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){t.push(this.read_doc_comment());continue}const i=this.position();e=this.read_attr_list();const r=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){const a=this.read_constant_list(r,e);this.expect(";")&&this.next(),t=t.concat(a),e=[]}else if(this.token===this.tok.T_FUNCTION){const a=this.read_function_declaration(2,r,e,i);a.parseFlags(r),t.push(a),this.expect(";")&&this.next(),e=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}return this.expect("}")&&this.next(),t},read_trait_declaration_statement:function(){const t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);let e=this.node("identifier");const i=this.text();return this.next(),e=e(i),this.expect("{"),t(e,this.next().read_class_body(!0,!1))},read_trait_use_statement:function(){const t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();const e=[this.read_namespace_name()];let i=null;for(;this.token===",";)e.push(this.next().read_namespace_name());if(this.token==="{"){for(i=[];this.next().token!==this.EOF&&this.token!=="}";)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(e,i)},read_trait_use_alias:function(){const t=this.node();let e,i=null;if(this.is("IDENTIFIER")){e=this.node("identifier");const r=this.text();this.next(),e=e(r)}else if(e=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){i=e,e=this.node("identifier");const r=this.text();this.next(),e=e(r)}else this.expect(this.tok.T_STRING);else e=e.name;if(this.token===this.tok.T_INSTEADOF)return t("traitprecedence",i,e,this.next().read_name_list());if(this.token===this.tok.T_AS){let r=null,a=null;if(this.next().is("T_MEMBER_FLAGS")&&(r=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){a=this.node("identifier");const c=this.text();this.next(),a=a(c)}else r===!1&&this.expect(this.tok.T_STRING);return t("traitalias",i,e,a,r)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),t("traitalias",i,e,null,null)}},{read_comment:function(){const t=this.text();let e=this.ast.prepare(t.substring(0,2)==="/*"?"commentblock":"commentline",null,this);const i=this.lexer.yylloc.first_offset,r=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),e=e(t),e.offset=i,this.prev=r,e},read_doc_comment:function(){let t=this.ast.prepare("commentblock",null,this);const e=this.lexer.yylloc.first_offset,i=this.text(),r=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),t=t(i),t.offset=e,this.prev=r,t}},ji,{read_enum_declaration_statement:function(t){const e=this.node("enum");if(!this.expect(this.tok.T_ENUM))return null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier");const r=this.text();this.next(),i=i(r);const a=this.read_enum_value_type(),c=this.read_implements_list();this.expect("{");const _=e(i,a,c,this.next().read_class_body(!1,!0));return t&&(_.attrGroups=t),_},read_enum_value_type:function(){return this.token===":"?this.next().read_namespace_name():null},read_enum_case:function(){this.expect(this.tok.T_CASE);const t=this.node("enumcase");let e=this.node("identifier");const i=this.next().text();this.next(),e=e(i);const r=this.token==="="?this.next().read_expr():null;return this.expect(";"),t(e,r)}},Vi,{read_if:function(){const t=this.node("if"),e=this.next().read_if_expr();let i=null,r=null,a=!1;if(this.token===":"){a=!0,this.next(),i=this.node("block");const c=[];for(;this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){r=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){r=this.read_else_short();break}c.push(this.read_inner_statement())}i=i(null,c),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?r=this.read_if():this.token===this.tok.T_ELSE&&(r=this.next().read_statement());return t(e,i,r,a)},read_if_expr:function(){this.expect("(")&&this.next();const t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short:function(){let t=null;const e=this.node("if"),i=this.next().read_if_expr();this.expect(":")&&this.next();const r=this.node("block"),a=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){t=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){t=this.read_else_short();break}a.push(this.read_inner_statement())}return e(i,r(null,a),t,!0)},read_else_short:function(){this.next().expect(":")&&this.next();const t=this.node("block"),e=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)e.push(this.read_inner_statement());return t(null,e)}},{read_while:function(){const t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();let e=null,i=null,r=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(r=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(e,i,r)},read_do:function(){const t=this.node("do");this.expect(this.tok.T_DO)&&this.next();let e=null,i=null;return i=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(e,i)},read_for:function(){const t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();let e=[],i=[],r=[],a=null,c=!1;return this.expect("(")&&this.next(),this.token!==";"?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(r=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(c=!0,a=this.read_short_form(this.tok.T_ENDFOR)):a=this.read_statement(),t(e,i,r,a,c)},read_foreach:function(){const t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();let e=null,i=null,r=null,a=null,c=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),r=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=r,r=this.next().read_foreach_variable())),i&&i.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(c=!0,a=this.read_short_form(this.tok.T_ENDFOREACH)):a=this.read_statement(),t(e,i,r,a,c)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){const t=this.token==="[",e=this.node("list");this.next(),!t&&this.expect("(")&&this.next();const i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),e(i,t)}return this.read_variable(!1,!1)}},{read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}},{read_namespace:function(){const t=this.node("namespace");let e,i;return this.expect(this.tok.T_NAMESPACE)&&this.next(),i=this.token==="{"?{name:[""]}:this.read_namespace_name(),this.currentNamespace=i,this.token===";"?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect(this.EOF),t(i.name,e,!1)):this.token==="{"?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect("}")&&this.next(),e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),t(i.name,e,!0)):(this.error(["{",";"]),this.currentNamespace=i,e=this.read_top_statements(),this.expect(this.EOF),t(i,e,!1))},read_namespace_name:function(t){const e=this.node();let i,r=this.text();switch(this.token){case this.tok.T_NAME_RELATIVE:i=this.ast.name.RELATIVE_NAME,r=r.replace(/^namespace\\/,"");break;case this.tok.T_NAME_QUALIFIED:i=this.ast.name.QUALIFIED_NAME;break;case this.tok.T_NAME_FULLY_QUALIFIED:i=this.ast.name.FULL_QUALIFIED_NAME;break;default:if(i=this.ast.name.UNQUALIFIED_NAME,!this.expect(this.tok.T_STRING))return e("name","",this.ast.name.FULL_QUALIFIED_NAME)}if(this.next(),t||this.token!=="("){if(r.toLowerCase()==="parent")return e("parentreference",r);if(r.toLowerCase()==="self")return e("selfreference",r)}return e("name",r,i)},read_use_statement:function(){let t=this.node("usegroup"),e=[],i=null;this.expect(this.tok.T_USE)&&this.next();const r=this.read_use_type();return e.push(this.read_use_declaration(!1)),this.token===","?e=e.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(i=e[0].name,e=this.next().read_use_declarations(r===null),this.expect("}")&&this.next()),t=t(i,r,e),this.expect(";")&&this.next(),t},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(t){const e=this.node("useitem");let i=null;t&&(i=this.read_use_type());const r=this.read_namespace_name(),a=this.read_use_alias();return e(r.name,a,i)},read_use_declarations:function(t){const e=[this.read_use_declaration(t)];for(;this.token===",";){if(this.next(),t){if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;e.push(this.read_use_declaration(t))}return e},read_use_alias:function(){let t=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){const e=this.node("identifier"),i=this.text();this.next(),t=e(i)}return t},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}},Fo,Ao,{read_switch:function(){const t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();const e=this.read_expr();this.expect(")")&&this.next();const i=this.token===":";return t(e,this.read_switch_case_list(),i)},read_switch_case_list:function(){let t=null;const e=this.node("block"),i=[];for(this.token==="{"?t="}":this.token===":"?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),e(null,i)},read_case_list:function(t){const e=this.node("case");let i=null;this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();const r=this.node("block"),a=[];for(;this.token!==this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)a.push(this.read_inner_statement());return e(i,r(null,a))}},{read_try:function(){this.expect(this.tok.T_TRY);const t=this.node("try");let e=null;const i=[],r=this.next().read_statement();for(;this.token===this.tok.T_CATCH;){const a=this.node("catch");this.next().expect("(")&&this.next();const c=this.read_list(this.read_namespace_name,"|",!1);let _=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(_=this.read_variable(!0,!1)),this.expect(")"),i.push(a(this.next().read_statement(),c,_))}return this.token===this.tok.T_FINALLY&&(e=this.next().read_statement()),t(r,i,e)}},{read_short_form:function(t){const e=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),this.expectEndOfStatement(),e(null,i)},read_function_list:function(t,e){const i=[];do{if(this.token==e&&this.version>=703&&i.length>0){i.push(this.node("noop")());break}if(i.push(t.apply(this,[])),this.token!=e||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return i},read_list:function(t,e,i){const r=[];if(this.token==e&&(i&&r.push(typeof t=="function"?this.node("noop")():null),this.next()),typeof t=="function")do{const a=t.apply(this,[]);if(a&&r.push(a),this.token!=e)break}while(this.next().token!=this.EOF);else{if(!this.expect(t))return[];for(r.push(this.text());this.next().token!=this.EOF&&this.token==e&&this.next().token==t;)r.push(this.text())}return r},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(t){let e=this.node("byref");this.next(),e=e(null);const i=t();return i&&(this.ast.swapLocations(i,e,i,this),i.byref=!0),i},read_variable_declarations:function(){return this.read_list(function(){const t=this.node("staticvariable");let e=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){const i=this.text().substring(1);this.next(),e=e(i,!1)}else e=e("#ERR",!1);return this.token==="="?t(e,this.next().read_expr()):e},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}},$i].forEach(function(t){for(const e in t){if(Object.prototype.hasOwnProperty.call(Z.prototype,e))throw new Error("Function "+e+" is already defined - collision");Z.prototype[e]=t[e]}});var Qi=Z;const wn={T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238,T_ENUM:239,T_READ_ONLY:240,T_NAME_RELATIVE:241,T_NAME_QUALIFIED:242,T_NAME_FULLY_QUALIFIED:243},Yi={values:Object.entries(wn).reduce((t,e)=>{let[i,r]=e;return{...t,[r]:i}},{}),names:wn};var zi=Object.freeze(Yi),vo=function(t,e,i){this.source=t,this.start=e,this.end=i};const Se=function(t,e,i){this.kind=t,e&&(this.leadingComments=e),i&&(this.loc=i)};Se.prototype.setTrailingComments=function(t){this.trailingComments=t},Se.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t},Se.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this},Se.extends=function(t,e){return e.prototype=Object.create(this.prototype),e.extends=this.extends,e.prototype.constructor=e,e.kind=t,e};var et=Se;const Ki=et,xe="expression";var K=Ki.extends(xe,function(t,e,i){Ki.apply(this,[t||xe,e,i])});const Le=K,qi="array";var No=Le.extends(qi,function(t,e,i,r){Le.apply(this,[qi,i,r]),this.items=e,this.shortForm=t});const Xe=K,Rn="arrowfunc";var So=Xe.extends(Rn,function(t,e,i,r,a,c,_,d){Xe.apply(this,[Rn,_,d]),this.arguments=t,this.byref=e,this.body=i,this.type=r,this.nullable=a,this.isStatic=c||!1});const Zt=K,St="assign";var ae=Zt.extends(St,function(t,e,i,r,a){Zt.apply(this,[St,r,a]),this.left=t,this.right=e,this.operator=i});const Lt=K,It="assignref";var jt=Lt.extends(It,function(t,e,i,r){Lt.apply(this,[It,i,r]),this.left=t,this.right=e});const dt=et,Ct="attribute";var Et=dt.extends(Ct,function(t,e,i,r){dt.apply(this,[Ct,i,r]),this.name=t,this.args=e});const Ot=et,wt="attrgroup";var Vt=Ot.extends(wt,function(t,e,i){Ot.apply(this,[wt,e,i]),this.attrs=t||[]});const ot=K,Ft="operation";var at=ot.extends(Ft,function(t,e,i){ot.apply(this,[t||Ft,e,i])});const Bn=at;var Lo=Bn.extends("bin",function(t,e,i,r,a){Bn.apply(this,["bin",r,a]),this.type=t,this.left=e,this.right=i});const te=et,Ji="statement";var q=te.extends(Ji,function(t,e,i){te.apply(this,[t||Ji,e,i])});const Xi=q,he="block";var Ie=Xi.extends(he,function(t,e,i,r){Xi.apply(this,[t||he,i,r]),this.children=e.filter(Boolean)});const Zi=K,Ze="literal";var ee=Zi.extends(Ze,function(t,e,i,r,a){Zi.apply(this,[t||Ze,r,a]),this.value=e,i&&(this.raw=i)});const ts=ee,Oe="boolean";var ye=ts.extends(Oe,function(t,e,i,r){ts.apply(this,[Oe,t,e,i,r])});const Pn=q,es="break";var Io=Pn.extends(es,function(t,e,i){Pn.apply(this,[es,e,i]),this.level=t});const ns=K,is="byref";var ss=ns.extends(is,function(t,e,i){ns.apply(this,[is,e,i]),this.what=t});const rs=K,os="call";var Un=rs.extends(os,function(t,e,i,r){rs.apply(this,[os,i,r]),this.what=t,this.arguments=e});const us=q,we="case";var Oo=us.extends(we,function(t,e,i,r){us.apply(this,[we,i,r]),this.test=t,this.body=e});const tn=at,Mn="cast";var as=tn.extends(Mn,function(t,e,i,r,a){tn.apply(this,[Mn,r,a]),this.type=t,this.raw=e,this.expr=i});const hs=q,ne="catch";var ls=hs.extends(ne,function(t,e,i,r,a){hs.apply(this,[ne,r,a]),this.body=t,this.what=e,this.variable=i});const en=q,Hn="declaration",Gn=en.extends(Hn,function(t,e,i,r){en.apply(this,[t||Hn,i,r]),this.name=e});Gn.prototype.parseFlags=function(t){this.isAbstract=t[2]===1,this.isFinal=t[2]===2,this.isReadonly=t[3]===1,this.kind!=="class"&&(t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.isStatic=t[1]===1)};var Wt=Gn;const Rt=Wt,cs="class";var wo=Rt.extends(cs,function(t,e,i,r,a,c,_){Rt.apply(this,[cs,t,c,_]),this.isAnonymous=!t,this.extends=e,this.implements=i,this.body=r,this.attrGroups=[],this.parseFlags(a)});const rt=q,ps="constantstatement";var ds=rt.extends(ps,function(t,e,i,r){rt.apply(this,[t||ps,i,r]),this.constants=e});const fs=ds,_s="classconstant",Ds=fs.extends(_s,function(t,e,i,r,a,c){fs.apply(this,[t||_s,e,a,c]),this.parseFlags(i),this.attrGroups=r});Ds.prototype.parseFlags=function(t){t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.final=t[2]===2};var Ro=Ds;const nn=K,Re="clone";var jn=nn.extends(Re,function(t,e,i){nn.apply(this,[Re,e,i]),this.what=t});const ks=K,Es="closure";var Ts=ks.extends(Es,function(t,e,i,r,a,c,_,d){ks.apply(this,[Es,_,d]),this.uses=i,this.arguments=t,this.byref=e,this.type=r,this.nullable=a,this.isStatic=c||!1,this.body=null,this.attrGroups=[]});const ms=et;var Vn=ms.extends("comment",function(t,e,i,r){ms.apply(this,[t,i,r]),this.value=e});const xs=Vn,Wn="commentblock";var Be=xs.extends(Wn,function(t,e,i){xs.apply(this,[Wn,t,e,i])});const $n=Vn,ys="commentline";var Bo=$n.extends(ys,function(t,e,i){$n.apply(this,[ys,t,e,i])});const gs=et,Cs="constant";var Po=gs.extends(Cs,function(t,e,i,r){gs.apply(this,[Cs,i,r]),this.name=t,this.value=e});const Qn=q,ft="continue";var Bt=Qn.extends(ft,function(t,e,i){Qn.apply(this,[ft,e,i]),this.level=t});const ge=Ie,Yn="declare",sn=ge.extends(Yn,function(t,e,i,r,a){ge.apply(this,[Yn,e,r,a]),this.directives=t,this.mode=i});sn.MODE_SHORT="short",sn.MODE_BLOCK="block",sn.MODE_NONE="none";var Uo=sn;const rn=et,on="declaredirective";var un=rn.extends(on,function(t,e,i,r){rn.apply(this,[on,i,r]),this.key=t,this.value=e});const Pe=q;var Mo=Pe.extends("do",function(t,e,i,r){Pe.apply(this,["do",i,r]),this.test=t,this.body=e});const an=q,ie="echo";var zn=an.extends(ie,function(t,e,i,r){an.apply(this,[ie,i,r]),this.shortForm=e,this.expressions=t});const Ue=K,Fs="empty";var Ho=Ue.extends(Fs,function(t,e,i){Ue.apply(this,[Fs,e,i]),this.expression=t});const Kn=ee,hn="encapsed",Me=Kn.extends(hn,function(t,e,i,r,a){Kn.apply(this,[hn,t,e,r,a]),this.type=i});Me.TYPE_STRING="string",Me.TYPE_SHELL="shell",Me.TYPE_HEREDOC="heredoc",Me.TYPE_OFFSET="offset";var Go=Me;const qn=K,As="encapsedpart";var He=qn.extends(As,function(t,e,i,r,a){qn.apply(this,[As,r,a]),this.expression=t,this.syntax=e,this.curly=i});const bs=K,$t="entry";var vs=bs.extends($t,function(t,e,i,r,a,c){bs.apply(this,[$t,a,c]),this.key=t,this.value=e,this.byRef=i,this.unpack=r});const Jn=Wt,Ns="enum";var le=Jn.extends(Ns,function(t,e,i,r,a,c){Jn.apply(this,[Ns,t,a,c]),this.valueType=e,this.implements=i,this.body=r,this.attrGroups=[]});const Ss=et,Qt="enumcase";var jo=Ss.extends(Qt,function(t,e,i,r){Ss.apply(this,[Qt,i,r]),this.name=t,this.value=e});const Ls=et,Xn="error";var Vo=Ls.extends(Xn,function(t,e,i,r,a,c){Ls.apply(this,[Xn,a,c]),this.message=t,this.token=e,this.line=i,this.expected=r});const Is=K,Ge="eval";var Wo=Is.extends(Ge,function(t,e,i){Is.apply(this,[Ge,e,i]),this.source=t});const ln=K,ce="exit";var pe=ln.extends(ce,function(t,e,i,r){ln.apply(this,[ce,i,r]),this.expression=t,this.useDie=e});const de=q,cn="expressionstatement";var Zn=de.extends(cn,function(t,e,i){de.apply(this,[cn,e,i]),this.expression=t});const ti=q;var ei=ti.extends("for",function(t,e,i,r,a,c,_){ti.apply(this,["for",c,_]),this.init=t,this.test=e,this.increment=i,this.shortForm=a,this.body=r});const Os=q,ni="foreach";var $o=Os.extends(ni,function(t,e,i,r,a,c,_){Os.apply(this,[ni,c,_]),this.source=t,this.key=e,this.value=i,this.shortForm=a,this.body=r});const ws=Wt,ii="function";var pn=ws.extends(ii,function(t,e,i,r,a,c,_){ws.apply(this,[ii,t,c,_]),this.arguments=e,this.byref=i,this.type=r,this.nullable=a,this.body=null,this.attrGroups=[]});const Rs=q,dn="global";var Bs=Rs.extends(dn,function(t,e,i){Rs.apply(this,[dn,e,i]),this.items=t});const Ps=q,Us="goto";var Qo=Ps.extends(Us,function(t,e,i){Ps.apply(this,[Us,e,i]),this.label=t});const Ms=q,Hs="halt";var Gs=Ms.extends(Hs,function(t,e,i){Ms.apply(this,[Hs,e,i]),this.after=t});const si=et,js="identifier";var zo=si.extends(js,function(t,e,i){si.apply(this,[js,e,i]),this.name=t});const Vs=q;var Ko=Vs.extends("if",function(t,e,i,r,a,c){Vs.apply(this,["if",a,c]),this.test=t,this.body=e,this.alternate=i,this.shortForm=r});const ri=K,Ws="include";var qo=ri.extends(Ws,function(t,e,i,r,a){ri.apply(this,[Ws,r,a]),this.once=t,this.require=e,this.target=i});const $s=ee,fe="inline";var Qs=$s.extends(fe,function(t,e,i,r){$s.apply(this,[fe,t,e,i,r])});const Ys=Wt,_e="interface";var zs=Ys.extends(_e,function(t,e,i,r,a,c){Ys.apply(this,[_e,t,a,c]),this.extends=e,this.body=i,this.attrGroups=r});const je=Wt,oi="intersectiontype";var Jo=je.extends(oi,function(t,e,i){je.apply(this,[oi,null,e,i]),this.types=t});const ui=K,ai="isset";var Ks=ui.extends(ai,function(t,e,i){ui.apply(this,[ai,e,i]),this.variables=t});const hi=q,fn="label";var qs=hi.extends(fn,function(t,e,i){hi.apply(this,[fn,e,i]),this.name=t});const Js=K,li="list";var Xo=Js.extends(li,function(t,e,i,r){Js.apply(this,[li,i,r]),this.items=t,this.shortForm=e});const Xs=K,Yt="lookup";var Ve=Xs.extends(Yt,function(t,e,i,r,a){Xs.apply(this,[t||Yt,r,a]),this.what=e,this.offset=i});const Zs=ee,tr="magic";var Zo=Zs.extends(tr,function(t,e,i,r){Zs.apply(this,[tr,t,e,i,r])});const ci=K,er="match";var tu=ci.extends(er,function(t,e,i,r){ci.apply(this,[er,i,r]),this.cond=t,this.arms=e});const nr=K,ir="matcharm";var eu=nr.extends(ir,function(t,e,i,r){nr.apply(this,[ir,i,r]),this.conds=t,this.body=e});const sr=pn,rr="method";var nu=sr.extends(rr,function(){sr.apply(this,arguments),this.kind=rr});const pi=et,di="reference";var De=pi.extends(di,function(t,e,i){pi.apply(this,[t||di,e,i])});const fi=De,_n="name",Ce=fi.extends(_n,function(t,e,i,r){fi.apply(this,[_n,i,r]),this.name=t.replace(/\\$/,""),this.resolution=e});Ce.UNQUALIFIED_NAME="uqn",Ce.QUALIFIED_NAME="qn",Ce.FULL_QUALIFIED_NAME="fqn",Ce.RELATIVE_NAME="rn";var su=Ce;const or=Ie,ur="namespace";var ru=or.extends(ur,function(t,e,i,r,a){or.apply(this,[ur,e,r,a]),this.name=t,this.withBrackets=i||!1});const _i=K,ar="namedargument";var ou=_i.extends(ar,function(t,e,i,r){_i.apply(this,[ar,i,r]),this.name=t,this.value=e});const hr=K;var uu=hr.extends("new",function(t,e,i,r){hr.apply(this,["new",i,r]),this.what=t,this.arguments=e});const lr=et,Dn="noop";var au=lr.extends(Dn,function(t,e){lr.apply(this,[Dn,t,e])});const cr=ee,pr="nowdoc";var hu=cr.extends(pr,function(t,e,i,r,a){cr.apply(this,[pr,t,e,r,a]),this.label=i});const dr=et,Di="nullkeyword";var fr=dr.extends(Di,function(t,e,i){dr.apply(this,[Di,e,i]),this.raw=t});const _r=Ve,ki="nullsafepropertylookup";var Dr=_r.extends(ki,function(t,e,i,r){_r.apply(this,[ki,t,e,i,r])});const kr=ee,Ei="number";var lu=kr.extends(Ei,function(t,e,i,r){kr.apply(this,[Ei,t,e,i,r])});const ke=Ve,Er="offsetlookup";var cu=ke.extends(Er,function(t,e,i,r){ke.apply(this,[Er,t,e,i,r])});const Tr=Wt,Fe="parameter";var pu=Tr.extends(Fe,function(t,e,i,r,a,c,_,d,T,k){Tr.apply(this,[Fe,t,T,k]),this.value=i,this.type=e,this.byref=r,this.variadic=a,this.readonly=c,this.nullable=_,this.flags=d||0,this.attrGroups=[]});const mr=De,xr="parentreference";var kn=mr.extends(xr,function(t,e,i){mr.apply(this,[xr,e,i]),this.raw=t});const Ti=at,mi="post";var du=Ti.extends(mi,function(t,e,i,r){Ti.apply(this,[mi,i,r]),this.type=t,this.what=e});const yr=at;var fu=yr.extends("pre",function(t,e,i,r){yr.apply(this,["pre",i,r]),this.type=t,this.what=e});const gr=K,Cr="print";var _u=gr.extends(Cr,function(t,e,i){gr.apply(this,[Cr,e,i]),this.expression=t});const Fr=Ie,Ar="program";var br=Fr.extends(Ar,function(t,e,i,r,a,c){Fr.apply(this,[Ar,t,a,c]),this.errors=e,i&&(this.comments=i),r&&(this.tokens=r)});const vr=q,En="property";var Du=vr.extends(En,function(t,e,i,r,a,c,_,d){vr.apply(this,[En,_,d]),this.name=t,this.value=e,this.readonly=i,this.nullable=r,this.type=a,this.attrGroups=c});const xi=Ve,Nr="propertylookup";var Sr=xi.extends(Nr,function(t,e,i,r){xi.apply(this,[Nr,t,e,i,r])});const Lr=q,yi="propertystatement",gi=Lr.extends(yi,function(t,e,i,r,a){Lr.apply(this,[yi,r,a]),this.properties=e,this.parseFlags(i)});gi.prototype.parseFlags=function(t){t[0]===-1?this.visibility="":t[0]===null?this.visibility=null:t[0]===0?this.visibility="public":t[0]===1?this.visibility="protected":t[0]===2&&(this.visibility="private"),this.isStatic=t[1]===1};var Ir=gi;const Or=K,Tn="retif";var wr=Or.extends(Tn,function(t,e,i,r,a){Or.apply(this,[Tn,r,a]),this.test=t,this.trueExpr=e,this.falseExpr=i});const Ci=q,Fi="return";var Rr=Ci.extends(Fi,function(t,e,i){Ci.apply(this,[Fi,e,i]),this.expr=t});const Br=De,Pr="selfreference";var ku=Br.extends(Pr,function(t,e,i){Br.apply(this,[Pr,e,i]),this.raw=t});const Ur=K,Ai="silent";var Eu=Ur.extends(Ai,function(t,e,i){Ur.apply(this,[Ai,e,i]),this.expr=t});const Mr=q,Hr="static";var Tu=Mr.extends(Hr,function(t,e,i){Mr.apply(this,[Hr,e,i]),this.variables=t});const bi=et,Gr="staticvariable";var vi=bi.extends(Gr,function(t,e,i,r){bi.apply(this,[Gr,i,r]),this.variable=t,this.defaultValue=e});const jr=Ve,mn="staticlookup";var mu=jr.extends(mn,function(t,e,i,r){jr.apply(this,[mn,t,e,i,r])});const xn=De,Vr="staticreference";var xu=xn.extends(Vr,function(t,e,i){xn.apply(this,[Vr,e,i]),this.raw=t});const $r=ee,Qr="string";var yu=$r.extends(Qr,function(t,e,i,r,a,c){$r.apply(this,[Qr,e,r,a,c]),this.unicode=i,this.isDoubleQuote=t});const Yr=q,zr="switch";var gu=Yr.extends(zr,function(t,e,i,r,a){Yr.apply(this,[zr,r,a]),this.test=t,this.body=e,this.shortForm=i});const Kr=q,qr="throw";var Cu=Kr.extends(qr,function(t,e,i){Kr.apply(this,[qr,e,i]),this.what=t});const Jr=Wt,Xr="trait";var Fu=Jr.extends(Xr,function(t,e,i,r){Jr.apply(this,[Xr,t,i,r]),this.body=e});const Zr=et,to="traitalias";var Au=Zr.extends(to,function(t,e,i,r,a,c){Zr.apply(this,[to,a,c]),this.trait=t,this.method=e,this.as=i,this.visibility="",r&&(r[0]===0?this.visibility="public":r[0]===1?this.visibility="protected":r[0]===2&&(this.visibility="private"))});const eo=et,no="traitprecedence";var bu=eo.extends(no,function(t,e,i,r,a){eo.apply(this,[no,r,a]),this.trait=t,this.method=e,this.instead=i});const se=et,Ni="traituse";var io=se.extends(Ni,function(t,e,i,r){se.apply(this,[Ni,i,r]),this.traits=t,this.adaptations=e});const so=q;var vu=so.extends("try",function(t,e,i,r,a){so.apply(this,["try",r,a]),this.body=t,this.catches=e,this.always=i});const ro=De,n="typereference",s=ro.extends(n,function(t,e,i,r){ro.apply(this,[n,i,r]),this.name=t,this.raw=e});s.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var o=s;const u=at,h="unary";var l=u.extends(h,function(t,e,i,r){u.apply(this,[h,i,r]),this.type=t,this.what=e});const f=Wt,D="uniontype";var E=f.extends(D,function(t,e,i){f.apply(this,[D,null,e,i]),this.types=t});const g=q,C="unset";var N=g.extends(C,function(t,e,i){g.apply(this,[C,e,i]),this.variables=t});const F=q,S="usegroup";var b=F.extends(S,function(t,e,i,r,a){F.apply(this,[S,r,a]),this.name=t,this.type=e,this.items=i});const v=q,O="useitem",B=v.extends(O,function(t,e,i,r,a){v.apply(this,[O,r,a]),this.name=t,this.alias=e,this.type=i});B.TYPE_CONST="const",B.TYPE_FUNCTION="function";var Q=B;const j=K,G="variable";var z=j.extends(G,function(t,e,i,r){j.apply(this,[G,i,r]),this.name=t,this.curly=e||!1});const it=K,X="variadic";var ht=it.extends(X,function(t,e,i){it.apply(this,[X,e,i]),this.what=t});const mt=et,We="variadicplaceholder";var $e=mt.extends(We,function(t,e){mt.apply(this,[We,t,e])});const zt=q,lt="while";var At=zt.extends(lt,function(t,e,i,r,a){zt.apply(this,[lt,r,a]),this.test=t,this.body=e,this.shortForm=i});const bt=K,re="yield";var yn=bt.extends(re,function(t,e,i,r){bt.apply(this,[re,i,r]),this.value=t,this.key=e});const oo=K,gn="yieldfrom";var Nu=oo.extends(gn,function(t,e,i){oo.apply(this,[gn,e,i]),this.value=t});const Su=vo,Za=In,Dt=function(t,e){this.withPositions=t,this.withSource=e};Dt.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(t,e){t.forEach(function(i){Dt.precedence[i]=e+1})}),Dt.prototype.isRightAssociative=function(t){return t==="**"||t==="??"},Dt.prototype.swapLocations=function(t,e,i,r){this.withPositions&&(t.loc.start=e.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=r.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},Dt.prototype.resolveLocations=function(t,e,i,r){this.withPositions&&(t.loc.start.offset>e.loc.start.offset&&(t.loc.start=e.loc.start),t.loc.end.offset<i.loc.end.offset&&(t.loc.end=i.loc.end),this.withSource&&(t.loc.source=r.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},Dt.prototype.resolvePrecedence=function(t,e){let i,r,a;return t.kind==="call"?this.resolveLocations(t,t.what,t,e):t.kind==="propertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"&&t.offset?this.resolveLocations(t,t.what,t.offset,e):t.kind==="bin"?t.right&&!t.right.parenthesizedExpression&&(t.right.kind==="bin"?(r=Dt.precedence[t.type],a=Dt.precedence[t.right.type],r&&a&&a<=r&&(t.type!==t.right.type||!this.isRightAssociative(t.type))&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i)):t.right.kind==="retif"&&(r=Dt.precedence[t.type],a=Dt.precedence["?"],r&&a&&a<=r&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i))):t.kind!=="silent"&&t.kind!=="cast"||!t.expr||t.expr.parenthesizedExpression?t.kind==="unary"?t.what&&!t.what.parenthesizedExpression&&(t.what.kind==="bin"?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.what.kind==="retif"&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i)):t.kind==="retif"?t.falseExpr&&t.falseExpr.kind==="retif"&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):t.kind==="assign"?t.right&&t.right.kind==="bin"&&!t.right.parenthesizedExpression&&(r=Dt.precedence["="],a=Dt.precedence[t.right.type],r&&a&&a<r&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,e),t=i)):t.kind==="expressionstatement"&&this.swapLocations(t,t.expression,t,e):t.expr.kind==="bin"?(i=t.expr,t.expr=t.expr.left,this.swapLocations(t,t,t.expr,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.expr.kind==="retif"&&(i=t.expr,t.expr=t.expr.test,this.swapLocations(t,t,t.expr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i),t},Dt.prototype.prepare=function(t,e,i){let r=null;(this.withPositions||this.withSource)&&(r=i.position());const a=this,c=function(){let _=null;const d=Array.prototype.slice.call(arguments);if(d.push(e),a.withPositions||a.withSource){let p=null;a.withSource&&(p=i.lexer._input.substring(r.offset,i.prev[2])),_=new Su(p,r,new Za(i.prev[0],i.prev[1],i.prev[2])),d.push(_)}t||(t=d.shift());const T=a[t];if(typeof T!="function")throw new Error('Undefined node "'+t+'"');const k=Object.create(T.prototype);return T.apply(k,d),c.instance=k,c.trailingComments&&(k.trailingComments=c.trailingComments),typeof c.postBuild=="function"&&c.postBuild(k),i.debug&&delete a.stack[c.stackUid],a.resolvePrecedence(k,i)};return i.debug&&(this.stack||(this.stack={},this.stackUid=1),this.stack[++this.stackUid]={position:r,stack:new Error().stack.split(`
`).slice(3,5)},c.stackUid=this.stackUid),c.setTrailingComments=function(_){c.instance?c.instance.setTrailingComments(_):c.trailingComments=_},c.destroy=function(_){e&&(_?_.leadingComments?_.leadingComments=e.concat(_.leadingComments):_.leadingComments=e:i._docIndex=i._docs.length-e.length),i.debug&&delete a.stack[c.stackUid]},c},Dt.prototype.checkNodes=function(){const t=[];for(const e in this.stack)Object.prototype.hasOwnProperty.call(this.stack,e)&&(this.stack[e].key=e,t.push(this.stack[e]));return this.stack={},t},[No,So,ae,jt,Et,Vt,Lo,Ie,ye,Io,ss,Un,Oo,as,ls,wo,Ro,jn,Ts,Vn,Be,Bo,Po,ds,Bt,Wt,Uo,un,Mo,zn,Ho,Go,He,vs,le,jo,Vo,Wo,pe,K,Zn,ei,$o,pn,Bs,Qo,Gs,zo,Ko,qo,Qs,zs,Jo,Ks,qs,Xo,ee,Ve,Zo,tu,eu,nu,su,ru,ou,uu,et,au,hu,fr,Dr,lu,cu,at,pu,kn,du,fu,_u,br,Du,Sr,Ir,De,wr,Rr,ku,Eu,q,Tu,vi,mu,xu,yu,gu,Cu,Fu,Au,bu,io,vu,o,l,E,N,b,Q,z,ht,$e,At,yn,Nu].forEach(function(t){Dt.prototype[t.kind]=t});const na=Ln,ia=Qi,sa=zi,ra=Dt;function Lu(t,e){const i=Object.keys(t);let r=i.length;for(;r--;){const a=i[r],c=t[a];c===null?delete e[a]:typeof c=="function"?e[a]=c.bind(e):Array.isArray(c)?e[a]=Array.isArray(e[a])?e[a].concat(c):c:e[a]=typeof c=="object"&&typeof e[a]=="object"?Lu(c,e[a]):c}return e}const xt=function(t){if(typeof this=="function")return new this(t);if(this.tokens=sa,this.lexer=new na(this),this.ast=new ra,this.parser=new ia(this.lexer,this.ast),t&&typeof t=="object"){if(t.parser&&(t.lexer||(t.lexer={}),t.parser.version)){if(typeof t.parser.version=="string"){let e=t.parser.version.split(".");if(e=100*parseInt(e[0])+parseInt(e[1]),isNaN(e))throw new Error("Bad version number : "+t.parser.version);t.parser.version=e}else if(typeof t.parser.version!="number")throw new Error("Expecting a number for version");if(t.parser.version<500||t.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}Lu(t,this),this.lexer.version=this.parser.version}},Iu=function(t){return typeof t.write=="function"?t.toString():t};xt.create=function(t){return new xt(t)},xt.parseEval=function(t,e){return new xt(e).parseEval(t)},xt.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=Iu(t),this.parser.parse(t,"eval")},xt.parseCode=function(t,e,i){return typeof e!="object"||i||(i=e,e="unknown"),new xt(i).parseCode(t,e)},xt.prototype.parseCode=function(t,e){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=Iu(t),this.parser.parse(t,e)},xt.tokenGetAll=function(t,e){return new xt(e).tokenGetAll(t)},xt.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=Iu(t);const e=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);let r=this.lexer.lex()||e;const a=[];for(;r!=e;){let c=this.lexer.yytext;Object.prototype.hasOwnProperty.call(i,r)&&(c=[i[r],c,this.lexer.yylloc.first_line]),a.push(c),r=this.lexer.lex()||e}return a},Ht.exports=xt,Ht.exports.tokens=sa,Ht.exports.lexer=na,Ht.exports.AST=ra,Ht.exports.parser=ia,Ht.exports.combine=Lu,Ht.exports.Engine=xt,Ht.exports.default=xt;var th=qe(Ht.exports);function oa(t,e){const i=e&&e.parentParser==="markdown";if(!t&&i)return"";t=t.replace(/\?>\n<\?/g,`?>
___PSEUDO_INLINE_PLACEHOLDER___<?`);const r=new th({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),a=t.indexOf("<?php")!==-1,c=i&&!a;let _;try{_=c?r.parseEval(t):r.parseCode(t)}catch(d){throw d instanceof SyntaxError&&"lineNumber"in d&&(d.loc={start:{line:d.lineNumber,column:d.columnNumber}},delete d.lineNumber,delete d.columnNumber),d}return _.extra={parseAsEval:c},_.comments.forEach(d=>{d.value[d.value.length-1]===`
`&&(d.value=d.value.slice(0,-1),d.loc.end.offset=d.loc.end.offset-1)}),_}const ua=t=>e=>{var i;return(i=e.loc)===null||i===void 0||(i=i[t])===null||i===void 0?void 0:i.offset},yt=ua("start"),tt=ua("end"),{hasNewline:eh,skipEverythingButNewLine:nh,skipNewline:ih}=_t.util;function aa(t){return t.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")}const sh=new Map([["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].flatMap((t,e)=>t.map(i=>[i,e])));function uo(t){return sh.get(t)}const ha=["==","!=","===","!==","<>","<=>"],ao=["*","/","%"],Ou=[">>","<<"];function wu(t,e){return uo(e)===uo(t)&&t!=="**"&&(!ha.includes(t)||!ha.includes(e))&&!(e==="%"&&ao.includes(t)||t==="%"&&ao.includes(e))&&(e===t||!ao.includes(e)||!ao.includes(t))&&(!Ou.includes(t)||!Ou.includes(e))}function Si(t){const e=t.children||t.body||t.adaptations;return Array.isArray(e)?e:null}function Kt(t){return t.length>0?t[t.length-1]:null}function Li(t){const{node:e}=t;if(e.kind==="program"){const r=Si(e);return!(!r||r.length===0)&&r[0].kind==="inline"}if(e.kind==="switch"){if(!e.body)return!1;const r=Si(e.body);if(r.length===0)return!1;const[a]=r;if(!a.body)return!1;const c=Si(a.body);return c.length!==0&&c[0].kind==="inline"}const i=function(r){let{body:a}=r;return a?(a.kind==="block"&&(a=a.children),a[0]):null}(e);return!!i&&i.kind==="inline"}function Ru(t){return t.kind==="nowdoc"||t.kind==="encapsed"&&t.type==="heredoc"}function ho(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=t.getNode(e),r=t.getNode(e+1),a=t.getNode(e+2);if(!r)return!1;if(a&&["call","new","echo"].includes(a.kind)&&!["call","array"].includes(r.kind)||r.kind==="parameter"){const c=a.arguments.length-1;return a.arguments.indexOf(r)!==c}if(a&&a.kind==="for"){const c=a.init.indexOf(r);if(c!==-1)return c!==a.init.length-1;const _=a.test.indexOf(r);if(_!==-1)return _!==a.test.length-1;const d=a.increment.indexOf(r);if(d!==-1)return d!==a.increment.length-1}if(r.kind==="bin")return r.left===i||ho(t,e+1);if(r.kind==="case"&&r.test===i)return!0;if(r.kind==="staticvariable"){const c=a.variables.length-1;return a.variables.indexOf(r)!==c}if(r.kind==="entry"){if(r.key===i)return!0;const c=a.items.length-1;return a.items.indexOf(r)!==c}if(["call","new"].includes(r.kind)){const c=r.arguments.length-1;return r.arguments.indexOf(i)!==c}if(r.kind==="echo"){const c=r.expressions.length-1;return r.expressions.indexOf(i)!==c}if(r.kind==="array"){const c=r.items.length-1;return r.items.indexOf(i)!==c}return r.kind==="retif"&&ho(t,e+1)}function la(t){const e=t.replace(/^\\/,"");return e.indexOf("\\")!==-1?e:t}function vt(t){return t.comments&&t.comments.some(e=>!e.leading&&!e.trailing)}function Tt(t){return t.kind==="propertylookup"||t.kind==="nullsafepropertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"}function rh(t){const{node:e}=t;return!["try","catch"].includes(e.kind)&&Li(t)}function oh(t){const{node:e}=t;if(["try","catch"].includes(e.kind))return!0;if(e.kind==="switch"){const i=Si(e.body);if(i.length===0)return!0;const r=Kt(i);if(!r.body)return!0;const a=Si(r.body);return a.length===0||a[0].kind!=="inline"}return!Li(t)}function Bu(t){return["program","declare","namespace"].includes(t.kind)}function Pu(t){return["name","parentreference","selfreference","staticreference"].includes(t.kind)}function Cn(t){return t.kind==="bin"&&["||","&&"].includes(t.type)?"logical":t.kind}function ca(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"body";const{node:i}=t;return i[e]&&i[e].children&&i[e].children.length===0&&(!i[e].comments||i[e].comments.length===0)}function uh(t,e){let i=yt(e);return i=nh(t,i),i=ih(t,i),eh(t,i)}function pa(t){return t.kind==="nowdoc"||t.kind==="encapsed"&&t.type==="heredoc"||t.kind==="entry"&&(t.value.kind==="nowdoc"||t.value.kind==="encapsed"&&t.value.type==="heredoc")}function Uu(t,e){const i=function(r,a){const c=[].concat(a);let _,d=-1;for(;_=r.getParentNode(++d);)if(c.indexOf(_.kind)!==-1)return d;return-1}(t,e);return i===-1?null:t.getParentNode(i)}const da=new Map(["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].map(t=>[t.toLowerCase(),t]));function fa(t){const e=t.toLowerCase();return da.has(e)?da.get(e):t}function lo(t){const e=new Set(t);return i=>e.has(i==null?void 0:i.kind)}const ah=lo(["variable","parameter","variadic","clone","cast","boolean","number","string","literal","nullkeyword","namedargument","variadicplaceholder"]),hh=lo(["array"]),_a=lo(["call","new"]),lh=lo(["arrowfunc"]);function Da(t){const e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _a(t)&&e.push(t),t.what?Da(t.what,e):e}function ka(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e<=0)return!1;const i=r=>ka(r,e-1);if(ah(t))return!0;if(hh(t))return t.items.every(r=>r===null||i(r));if(_a(t)){const r=Da(t);return r.filter(a=>a.kind==="call").length<=e&&r.every(a=>a.arguments.every(i))}return!!lh(t)&&t.arguments.length<=e&&t.arguments.every(i)}const{addLeadingComment:qt,addDanglingComment:gt,addTrailingComment:Jt,skipNewline:ch,hasNewline:co,hasNewlineInRange:ph,getNextNonSpaceNonCommentCharacterIndex:Ii,isNextLineEmpty:dh,isPreviousLineEmpty:fh}=_t.util,{join:Ea,indent:_h,hardline:oe,cursor:Ta,lineSuffix:ma,breakParent:Dh}=_t.doc.builders;function po(t,e){const{children:i}=t;i.length===0?gt(t,e):qt(i[0],e)}function Mu(t,e){t.kind==="block"?po(t,e):qt(t,e)}function xa(t,e,i,r,a){const c=Ii(t,tt(a)),_=t.charAt(c);return e&&e.kind==="identifier"&&i&&(i.kind==="function"||i.kind==="method")&&_===")"?(Jt(i,a),!0):!(!i||i.kind!=="function"&&i.kind!=="method"||!r||r.kind!=="block")&&(po(r,a),!0)}function Hu(t,e,i,r,a){if(!i||i.kind!=="if"||!r)return!1;const c=Ii(t,tt(a));return t.charAt(c)===")"?(Jt(e,a),!0):e===i.body&&r===i.alternate?(gt(i,a),!0):r.kind==="if"?(Mu(r.body,a),!0):i.body===r&&(qt(r,a),!0)}function Gu(t,e,i){if(t&&["class","interface","trait"].includes(t.kind)){var r;if((r=t.__parent_new_arguments)!==null&&r!==void 0&&r.includes(e))return!1;if(e&&t.extends){if(Array.isArray(t.extends)){if(t.extends.some(a=>{if(e&&e===a)return gt(e,i),!0}))return!0}else if(e===t.extends)return gt(e,i),!0}if(e&&t.implements&&t.implements.some(a=>{if(e&&e===a)return gt(e,i),!0}))return!0;if(!(t.body&&t.body.length>0))return gt(t,i),!0}return!!(e&&e.kind==="class"&&e.isAnonymous&&e.leadingComments&&i.kind==="commentblock")}function ju(t,e,i,r){if(e&&(e.kind==="function"||e.kind==="method")){let a=0;for(let d=0;d<e.arguments.length;d++)a=tt(e.arguments[d])>a?tt(e.arguments[d]):a;const c=e.body&&yt(r)>a&&tt(r)<yt(e.body),_=Ii(t,tt(r));if(e.type&&c&&t.charAt(_)!==")")return tt(r)<yt(e.type)?(gt(e.type,r),!0):(Jt(e.type,r),!0)}return!1}function Vu(t,e,i,r,a){return!(!i||!["function","method","parameter"].includes(i.kind))&&e.kind==="typereference"&&r.kind==="identifier"&&(Jt(e,a),!0)}function ya(t,e){return!(!t||!["label","goto"].includes(t.kind))&&(Jt(t,e),!0)}function Wu(t,e,i,r){return i&&i.kind==="inline"?(i.leadingComments||(i.leadingComments=[]),i.leadingComments.includes(r)||i.leadingComments.push(r),!0):!(t||i||!e||e.kind!=="inline")&&(gt(e,r),!0)}function ga(t,e,i){return!(!t||t.kind!=="try"||!e)&&(e.kind==="block"?(po(e,i),!0):e.kind==="try"?(Mu(e.always,i),!0):e.kind==="catch"&&(Mu(e.body,i),!0))}function Ca(t,e,i,r){return i||e||!t||t.kind!=="namespace"||t.withBrackets?!(e||!t||t.kind!=="namespace"||t.withBrackets)&&(gt(t,r),!0):(Jt(t,r),!0)}function Fa(t,e,i,r){return!(!t||t.kind!=="declare")&&(!e||e.kind!=="noop")&&(i&&t.directives[0]!==i?!(!i||!e)&&(qt(i,r),!0):(t.mode==="none"?Jt(t,r):gt(t,r),!0))}function $u(t,e,i,r,a){if(!i||i.kind!=="while"||!r)return!1;const c=Ii(t,tt(a));return t.charAt(c)===")"?(Jt(e,a),!0):r.kind==="block"&&(po(r,a),!0)}function Qu(t,e){return t.node.printed=!0,e.printer.printComment(t,e)}function ut(t,e,i,r){const a=[],c=t.getValue();return c&&c.comments?(t.each(()=>{const _=t.node;!_||_.leading||_.trailing||r&&!r(_)||a.push(Qu(t,e))},"comments"),a.length===0?"":i?Ea(oe,a):_h([oe,Ea(oe,a)])):""}function Oi(t){return t.comments&&t.comments.some(e=>e.leading)}function wi(t){return t.comments&&t.comments.some(e=>e.trailing)}function Qe(t,e){const i=[];return t.forEach((r,a,c)=>{r.printed=!0;const _=c.length===a+1;i.push(r.value),_||i.push(oe),dh(e.originalText,tt(r))&&!_&&i.push(oe)}),i}function Yu(t){return t.kind==="commentblock"}function Aa(t,e,i){const{node:r}=t;return r&&r===e.cursorNode?[Ta,i,Ta]:i}function zu(t,e,i,r){const{node:a}=t,c=e(t),_=a&&a.comments;if(!_||_.length===0)return Aa(t,i,c);const d=[],T=["",c];return t.each(k=>{let{node:p}=k;const{leading:W,trailing:m}=p;if(W){const y=function(x,P,I){const H=Qu(x,I);if(!H)return"";const U=x.node;return I.printer.isBlockComment&&I.printer.isBlockComment(U)?[H,co(I.originalText,tt(U))?oe:" "]:[H,oe]}(t,0,i);if(!y)return;d.push(y);const A=i.originalText;co(A,ch(A,tt(p)))&&d.push(oe)}else m&&T.push(function(y,A,x){const P=Qu(y,x);if(!P)return"";const I=y.node,H=x.printer.isBlockComment&&x.printer.isBlockComment(I);if(co(x.originalText,yt(I),{backwards:!0})){const U=fh(x.originalText,yt(I));return ma([oe,U?oe:"",P])}return H?[" ",P]:[ma([" ",P]),H?"":Dh]}(t,0,i))},"comments"),Aa(t,i,d.concat(T))}function ba(t){const{parent:e}=t;if(!e)return!1;const{key:i,node:r}=t;if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(e.kind))return!1;switch(r.kind){case"pre":case"post":if(e.kind==="unary")return r.kind==="pre"&&(r.type==="+"&&e.type==="+"||r.type==="-"&&e.type==="-");case"unary":switch(e.kind){case"unary":return r.type===e.type&&(r.type==="+"||r.type==="-");case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what";case"bin":return e.type==="**"&&i==="left";default:return!1}case"bin":switch(e.kind){case"assign":case"retif":return["and","xor","or"].includes(r.type);case"silent":case"cast":return r.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":return i==="what";case"bin":{const c=e.type,_=uo(c),d=r.type,T=uo(d);return _>T||c==="||"&&d==="&&"||_===T&&i==="right"||_===T&&!wu(c,d)||(_<T&&d==="%"?c==="+"||c==="-":!(!Ou[a=c]&&a!=="|"&&a!=="^"&&a!=="&"))}default:return!1}case"propertylookup":case"nullsafepropertylookup":case"staticlookup":return e.kind==="call"&&i==="what"&&r.parenthesizedExpression;case"clone":case"new":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what";default:return!1}case"yield":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what";case"retif":return i==="test";default:return!(!r.key&&!r.value)}case"assign":return(e.kind!=="for"||!e.init.includes(r)&&!e.increment.includes(r))&&e.kind!=="assign"&&e.kind!=="static"&&!["if","do","while","foreach","switch"].includes(e.kind)&&e.kind!=="silent"&&e.kind!=="call";case"retif":switch(e.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!(i==="test"&&!e.trueExpr);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return i==="what";default:return!1}case"closure":switch(e.kind){case"call":return i==="what";case"propertylookup":case"nullsafepropertylookup":return!0;default:return!1}case"silence":case"cast":return r.parenthesizedExpression;case"string":case"array":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(r.kind)||e.kind!=="offsetlookup")&&i==="what";default:return!1}case"print":case"include":return e.kind==="bin"}var a;return!1}const{breakParent:va,join:ct,line:J,lineSuffix:kh,group:w,conditionalGroup:Fn,indent:R,dedent:Eh,ifBreak:Ye,hardline:L,softline:$,literalline:An,align:Th,dedentToRoot:mh}=_t.doc.builders,{willBreak:Ae}=_t.doc.utils,{isNextLineEmptyAfterIndex:xh,hasNewline:yh,hasNewlineInRange:Na,getNextNonSpaceNonCommentCharacterIndex:gh,isNextLineEmpty:ze,isPreviousLineEmpty:Ch}=_t.util;function bn(t,e){return parseFloat(t)>=parseFloat(e)}function Ri(t,e){return!!t.trailingCommaPHP&&bn(t.phpVersion,e)}function Ku(t){return t.braceStyle!=="1tbs"}function qu(t,e,i){return[arguments.length>3&&arguments[3]!==void 0&&arguments[3]?"?":"","->",i("offset")]}function Sa(t,e,i){return qu(t,e,i,!0)}function La(t,e,i){const{node:r}=t,a=!["variable","identifier"].includes(r.offset.kind);return["::",a?"{":"",i("offset"),a?"}":""]}function Ia(t,e,i){const{node:r}=t,a=r.offset&&r.offset.kind==="number"||Uu(t,"encapsed");return["[",r.offset?w([R([a?"":$,i("offset")]),a?"":$]):"","]"]}function Oa(t){return t.kind==="array"&&(t.items.length>0||t.comments)||t.kind==="function"||t.kind==="method"||t.kind==="closure"}function ue(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"arguments";const a=t.node[r];if(a.length===0)return["(",ut(t,e,!0),")"];let c=!1,_=!1;const d=t.map(y=>{let{node:A,isLast:x,isFirst:P}=y;const I=[i()];return x||(ze(e.originalText,tt(A))?(P&&(_=!0),c=!0,I.push(",",L,L)):I.push(",",J)),I},r),{node:T}=t,k=Kt(a),p=Ri(e,"7.3")&&["call","new","unset","isset"].includes(T.kind)||Ri(e,"8.0")&&["function","closure","method","arrowfunc","attribute"].includes(T.kind)?R([k&&pa(k)?L:"",","]):"",W=function(y){if(y.length!==2)return!1;const[A,x]=y;return!(A.comments&&A.comments.length||A.kind!=="function"&&A.kind!=="method"&&A.kind!=="closure"||x.kind==="retif"||Oa(x))}(a),m=function(y){const A=Kt(y),x=(P=y).length>1?P[P.length-2]:null;var P;return!Oi(A)&&!wi(A)&&Oa(A)&&(!x||x.kind!==A.kind)}(a);if(W||m){const y=(W?d.slice(1).some(Ae):d.slice(0,-1).some(Ae))||c;let A;t.each(I=>{let{isLast:H,isFirst:U}=I;W&&U&&(A=[i([],{expandFirstArg:!0}),d.length>1?",":"",_?L:J,_?L:"",d.slice(1)]),m&&H&&(A=[...d.slice(0,-1),i([],{expandLastArg:!0})])},r);const x=d.some(Ae),P=["(",...A,")"];return[x?va:"",Fn([x?Ye(w(["(",R([J,...d]),p,J,")"],{shouldBreak:!0}),P):P,W?["(",w(A[0],{shouldBreak:!0}),...A.slice(1),")"]:["(",...d.slice(0,-1),w(Kt(A),{shouldBreak:!0}),")"],w(["(",R([J,...d]),Ye(p),J,")"],{shouldBreak:!0})],{shouldBreak:y})]}return w(["(",R([$,...d]),Ye(p),$,")"],{shouldBreak:d.some(Ae)||c})}function wa(t){return t.kind==="array"&&t.items.length!==0}function Bi(t){return t.right.kind==="array"&&t.right.items.length!==0}function Ra(t,e,i,r,a){let c=[];const{node:_}=t;if(_.kind==="bin"){wu(_.type,_.left.type)?c=c.concat(t.call(()=>Ra(t,e,i,!0,a),"left")):c.push(e("left"));const d=Bi(_)?[_.type," ",e("right")]:[_.type,J,e("right")],{parent:T}=t,k=!(a&&["||","&&"].includes(_.type))&&Cn(T)!==Cn(_)&&Cn(_.left)!==Cn(_)&&Cn(_.right)!==Cn(_),p=Ru(_.left)||_.left.kind==="bin"&&Ru(_.left.right);c.push(p?"":" ",k?w(d):d),r&&_.comments&&(c=zu(t,()=>c,i))}else c.push(e());return c}function Ba(t,e,i){const{node:r}=t;switch(r.kind){case"propertylookup":return qu(t,e,i);case"nullsafepropertylookup":return Sa(t,e,i);case"staticlookup":return La(t,0,i);case"offsetlookup":return Ia(t,0,i);default:throw new Error("Have not implemented lookup kind ".concat(r.kind," yet."))}}function Pa(t){let{opening:e=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.type==="heredoc")return e?"<<<".concat(t.label):t.label;const i={string:'"',shell:"`"};if(i[t.type])return i[t.type];throw new Error("Unimplemented encapsed type ".concat(t.type))}function Fh(t,e,i){const r=[];let a=[];return t.each(c=>{let{node:_}=c;r.push(a),r.push(w(i())),a=[",",J],_&&ze(e.originalText,tt(_))&&a.push($)},"items"),r}function Pi(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children";const{node:a,parent:c}=t;let _=-1;const d=[],T=[];t.map(()=>{const{node:p,next:W,isFirst:m,isLast:y,index:A}=t,x=p.kind==="inline",P=i(),I=!y&&!x&&(W&&W.kind==="case"?!Li(t):W&&W.kind!=="inline");let H=[P,I?L:"",I&&ze(e.originalText,tt(p))?L:""];const U=a.kind==="block"&&c&&["function","closure","method","try","catch"].includes(c.kind);let Y=U&&m?"":" ";if(x||!x&&y&&_>=0){const V=_;if(x&&(_=A),x&&!m||!x&&y){const Ut=(x?V:_)+1,Mt=y&&!x?A+1:A,Nt=t.siblings[x?V:_],vn=Nt?function(Ui){const Ke=Ui.split(`
`).pop();return Ke.length-Ke.trimLeft().length+1}(Nt.raw):"",ve=Mt-Ut>1,Ju=ve?U&&!Nt||Bu(a)&&Ut===0?"":L:"",Eo=ve&&p.kind!=="halt"?U&&y?"":L:"";ve&&(Y=""),T.push({start:Ut,end:Mt,alignment:vn,before:Ju,after:Eo})}}if(x){const V=W&&W.kind==="echo"&&W.shortForm?"<?=":"<?php",Ut=p.leadingComments&&p.leadingComments.length?[m&&a.kind!=="namespace"&&!U?"<?php":"",a.kind!=="namespace"&&U?"":L,Qe(p.leadingComments,e),L,"?>"]:Bu(a)&&m&&a.kind!=="namespace"?"":[Y,"?>"],Mt=t.getNode(A+1),Nt=Mt&&Mt.children&&Mt.children.length;H=[Ut,H,p.comments&&p.comments.length?[V,L,Nt?Qe(p.comments,e):"",L]:Bu(a)&&y?"":[V," "]]}d.push(H)},r);const k=function(p,W){if(W.length===0)return p;let m=0;return W.reduce((y,A)=>{const{start:x,end:P,alignment:I,before:H,after:U}=A,Y=[H||"",...p.slice(x,P),U||""],V=y.concat(p.slice(m,x),I?mh(w(Th(new Array(I).join(" "),Y))):w(Y),P===p.length-1?p.slice(P):"");return m=P,V},[])}(d,T);if(a.kind==="program"&&!a.extra.parseAsEval){const p=[],[W]=a.children;if(!W||W.kind!=="inline"){const m=e.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),y=[m&&m[2]&&m[2].includes(`
`)?[L,m[2].split(`
`).length>2?L:""]:" ",a.comments?Qe(a.comments,e):""],A=W&&W.kind==="echo"&&W.shortForm;p.push([A?"<?=":"<?php",y])}if(p.push(k),/\?>\n?$/.test(e.originalText)){const m=Kt(a.children),y=m?[Na(e.originalText.trimEnd(),tt(m),tt(a))?m.kind==="inline"&&m.comments&&m.comments.length?"":L:" ",ze(e.originalText,tt(m))?L:""]:a.comments?L:"";p.push(kh([y,"?>"]))}return p}return k}function Ua(t,e,i,r){return t.map(a=>{let{node:c,isLast:_}=a;const d=[];return d.push(i()),_||(d.push(L),ze(e.originalText,tt(c))&&d.push(L)),d},r)}function Pt(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"extends",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:" ",c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:" ";const _=t.node[r],d=vt(_)?[L,t.call(()=>ut(t,e,!0),r),L]:a,T=Array.isArray(_)?w(ct(",",t.map(k=>{let{node:p}=k;const W=i();return vt(p)?[L,ut(t,e,!0),L,W]:[c,W]},r))):[c,i(r)];return R([d,r,Ae(d)?R(T):T])}function be(t,e,i){let{inline:r=!1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=[];return t.node.attrGroups?(t.each(()=>{const c=["#["];!r&&a.length>0&&a.push(L),c.push($),t.each(()=>{const _=t.node;c.length>2&&c.push(",",J);const d=[_.name];_.args.length>0&&d.push(ue(t,e,i,"args")),c.push(w(d))},"attrs"),a.push(w([R(c),Ye(Ri(e,"8.0")?",":""),$,"]",r?Ye($," "):""]))},"attrGroups"),a.length===0?[]:[...a,r?"":L]):[]}function Ee(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"body";const{node:a}=t;if(!a[r])return";";const c=i(r);return[a.shortForm?":":" {",R(a[r].kind!=="block"||a[r].children&&a[r].children.length>0||a[r].comments&&a[r].comments.length>0?[rh(t)?a.kind==="switch"?" ":"":L,c]:""),a.kind==="if"&&r==="body"?"":[oh(t)?L:"",a.shortForm?["end",a.kind,";"]:"}"]]}function fo(t,e,i,r,a,c,_){if(!r)return e;const d=_o(t,r,a,c,_);return w([e,i,d])}function Ma(t){return!!Tt(t)&&(!(t.what.kind!=="variable"&&!Pu(t.what))||Ma(t.what))}function _o(t,e,i,r,a){const c=r?"&":"";if(function(d,T){return T.comments&&T.comments.some(k=>k.leading&&co(d,tt(k)))}(a.originalText,e))return R([L,c,i]);const _=e.kind==="cast"?e.expr:e;return _.kind==="bin"&&!Bi(_)||_.kind==="retif"&&(!_.trueExpr&&!wa(_.falseExpr)||_.test.kind==="bin"&&!Bi(_.test))||(t.kind==="variable"||t.kind==="string"||Tt(t))&&(_.kind==="string"&&!Ha(_)||Ma(_))?w(R([J,c,i])):[" ",c,i]}function Ha(t){return t.raw.includes(`
`)}function Do(t,e){return(t.kind==="string"||t.kind==="encapsed"&&(t.type==="string"||t.type==="shell"))&&Ha(t)&&!yh(e,yt(t),{backwards:!0})}function Ga(t,e,i){return w(t.map(r=>{let{isFirst:a}=r;return a?[e()]:[i,e()]},"types"))}const Ah=new Set(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"]);function ja(t,e){if(t.kind==="string"&&delete e.isDoubleQuote,["array","list"].includes(t.kind)&&delete e.shortForm,t.kind==="inline"){if(t.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;e.value=e.value.replace(/\n/g,"")}if((t.kind==="continue"||t.kind==="break")&&t.level){const{level:i}=e;i.kind==="number"&&(e.level=i.value==="1"?null:i)}if(t.kind==="block"&&t.children.length===1&&t.children[0].kind==="block")for(;e.children[0].kind==="block";)e.children=e.children[0].children;if(t.kind==="number"&&(e.value=aa(t.value)),["foreach","for","if","while","do"].includes(t.kind)&&(t.body&&t.body.kind!=="block"?e.body={kind:"block",children:[e.body]}:e.body=e.body?e.body:null,t.alternate&&t.alternate.kind!=="block"?e.alternate={kind:"block",children:[e.alternate]}:e.alternate=e.alternate?e.alternate:null),t.kind==="usegroup"&&typeof t.name=="string"&&(e.name=e.name.replace(/^\\/,"")),t.kind==="useitem"&&(e.name=e.name.replace(/^\\/,"")),t.kind==="method"&&t.name.kind==="identifier"&&(e.name.name=fa(e.name.name)),t.kind==="noop")return null}ja.ignoredProperties=Ah;const ko="PHP";var bh={phpVersion:{since:"0.13.0",category:ko,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"},{value:"8.1"},{value:"8.2"}]},trailingCommaPHP:{since:"0.0.0",category:ko,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:ko,type:"choice",default:"per-cs",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"(deprecated) Use per-cs"},{value:"per-cs",description:"Use the PER Coding Style brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]},singleQuote:{since:"0.0.0",category:ko,type:"boolean",default:!1,description:"Use single quotes instead of double quotes."}};const Va=/@prettier|@format/,Wa=function(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}(t=>{const e=oa(t),[i]=e.children,[r]=e.comments.filter(a=>a.kind==="commentblock");if(i&&r&&r.loc.start.line<i.loc.start.line)return r}),{join:vh,hardline:Nh}=_t.doc.builders;function $a(t,e){let{extend:i,override:r}=e;const a={};for(const c in t)a[c==="languageId"?"linguistLanguageId":c]=t[c];if(i)for(const c in i)a[c]=(a[c]||[]).concat(i[c]);for(const c in r)a[c]=r[c];return a}const Sh=[$a(mo,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),$a(xo,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Lh={php:{parse:oa,astFormat:"php",locStart:yt,locEnd:tt,hasPragma:function(t){if(!Va.test(t))return!1;const e=Wa(t);if(e){const{value:i}=e;return Va.test(i)}return!1}}},Ih=new Set(["kind","loc","errors","extra","comments","leadingComments","enclosingNode","precedingNode","followingNode"]),Oh={php:{print:function(t,e,i){const{node:r}=t;if(typeof r=="string")return r;const a=function(d,T,k){const{node:p}=d;switch(p.kind){case"program":return w([Pi(d,T,k),ut(d,T,!0,m=>!m.printed)]);case"expressionstatement":return k("expression");case"block":return[Pi(d,T,k),ut(d,T,!0)];case"declare":{var W;const m=y=>ct(", ",y.map(k,"directives"));return["block","short"].includes(p.mode)?["declare(",m(d),")",p.mode==="block"?" {":":",p.children.length>0?R([L,Pi(d,T,k)]):"",ut(d,T),L,p.mode==="block"?"}":"enddeclare;"]:["declare(",m(d),")",((W=d.next)===null||W===void 0?void 0:W.kind)==="inline"?"":";"]}case"declaredirective":return[k("key"),"=",k("value")];case"namespace":return["namespace ",p.name&&typeof p.name=="string"?[p.name,p.withBrackets?" ":""]:"",p.withBrackets?"{":";",vt(p)?[" ",ut(d,T,!0)]:"",p.children.length>0?p.withBrackets?R([L,Pi(d,T,k)]):[p.children[0].kind==="inline"?"":[L,uh(T.originalText,p)?L:""],Pi(d,T,k)]:"",p.withBrackets?[L,"}"]:""];case"usegroup":return w(["use ",p.type?[p.type," "]:"",R([p.name?[la(p.name),"\\{",$]:"",ct([",",J],d.map(k,"items"))]),p.name?[Ye(Ri(T,"7.2")?",":""),$,"}"]:""]);case"useitem":return[p.type?[p.type," "]:"",la(p.name),vt(p)?[" ",ut(d,T,!0)]:"",p.alias?[" as ",k("alias")]:""];case"class":case"enum":case"interface":case"trait":return function(m,y,A){const{node:x}=m,P=x.kind==="class"&&x.isAnonymous,I=be(m,y,A,{inline:P}),H=P?[]:[...I];x.isFinal&&H.push("final "),x.isAbstract&&H.push("abstract "),x.isReadonly&&H.push("readonly "),H.push(P?"":x.kind),x.name&&H.push(" ",A("name")),x.kind==="enum"&&x.valueType&&H.push(": ",A("valueType")),x.extends&&x.implements?H.push(Fn([[Pt(m,y,A,"extends"),Pt(m,y,A,"implements")],[Pt(m,y,A,"extends"),Pt(m,y,A,"implements"," ",L)],[Pt(m,y,A,"extends",L," "),Pt(m,y,A,"implements",L,x.implements.length>1?L:" ")]],{shouldBreak:vt(x.extends)})):(x.extends&&H.push(Fn([Pt(m,y,A,"extends"),Pt(m,y,A,"extends"," ",L),Pt(m,y,A,"extends",L,x.extends.length>1?L:" ")])),x.implements&&H.push(Fn([Pt(m,y,A,"implements"),Pt(m,y,A,"implements"," ",L),Pt(m,y,A,"implements",L,x.implements.length>1?L:" ")])));const U=w([w(H),Ku(y)?P?J:L:" "]),Y=x.body&&x.body.length===0&&!vt(x),V=["{",R([Y?"":L,Ua(m,y,A,"body")]),ut(m,y,!0),P&&Y?$:L,"}"];return[U,V]}(d,T,k);case"traitprecedence":return[k("trait"),"::",k("method")," insteadof ",ct(", ",d.map(k,"instead"))];case"traitalias":return[p.trait?[k("trait"),"::"]:"",p.method?k("method"):""," as ",ct(" ",[...p.visibility?[p.visibility]:[],...p.as?[k("as")]:[]])];case"traituse":return w(["use ",R(w(ct([",",J],d.map(k,"traits")))),p.adaptations?[" {",p.adaptations.length>0?[R([L,Ua(d,T,k,"adaptations")]),L]:vt(p)?[J,ut(d,T,!0),J]:"","}"]:""]);case"function":case"closure":case"method":return function(m,y,A){const{node:x}=m,P=be(m,y,A,{inline:x.kind==="closure"}),I=[];x.isFinal&&I.push("final "),x.isAbstract&&I.push("abstract "),x.visibility&&I.push(x.visibility," "),x.isStatic&&I.push("static "),I.push("function "),x.byref&&I.push("&"),x.name&&I.push(A("name")),I.push(ue(m,y,A)),x.uses&&x.uses.length>0&&I.push(w([" use ",ue(m,y,A,"uses")])),x.type&&I.push([": ",vt(x.type)?[m.call(()=>ut(m,y,!0),"type")," "]:"",x.nullable?"?":"",A("type")]);const H=I;if(!x.body)return[...P,H];const U=x.kind==="closure",Y=["{",R([ca(m)?"":L,A("body")]),U&&ca(m)?"":L,"}"];return U?[...P,H," ",Y]:x.arguments.length===0?[...P,H,Ku(y)?L:" ",Y]:I.some(Ae)?[H," ",Y]:[...P,Fn([[H,Ku(y)?L:" ",Y],[H," ",Y]])]}(d,T,k);case"arrowfunc":return[p.parenthesizedExpression?"(":"",...be(d,T,k,{inline:!0}),p.isStatic?"static ":"","fn",ue(d,T,k),p.type?[": ",p.nullable?"?":"",k("type")]:""," => ",k("body"),p.parenthesizedExpression?")":""];case"parameter":{let m="";p.flags===1?m="public ":p.flags===2?m="protected ":p.flags===4&&(m="private ");const y=[...be(d,T,k,{inline:!0}),m,p.readonly?"readonly ":"",p.nullable?"?":"",p.type?[k("type")," "]:"",p.byref?"&":"",p.variadic?"...":"","$",k("name")];return p.value?w([y,vt(p)?" ":"",ut(d,T,!0)," =",_o(p.name,p.value,k("value"),!1,T)]):y}case"variadic":return["...",k("what")];case"property":return w([p.readonly?"readonly ":"",p.type?[p.nullable?"?":"",k("type")," "]:"","$",k("name"),p.value?[" =",_o(p.name,p.value,k("value"),!1,T)]:""]);case"propertystatement":{const m=[];d.each(()=>{m.push(...be(d,T,k))},"properties");const y=d.map(k,"properties"),A=p.properties.some(I=>I.value);let x;y.length!==1||p.properties[0].comments?y.length>0&&(x=R(y[0])):[x]=y;const P=p.visibility||p.visibility===null;return w([...m,P?[p.visibility===null?"var":p.visibility,""]:"",p.isStatic?[P?" ":"","static"]:"",x?[" ",x]:"",R(y.slice(1).map(I=>[",",A?L:J,I]))])}case"if":{const m=[],y=Ee(d,T,k,"body"),A=w(["if (",w([R([$,k("test")]),$]),")",y]);if(m.push(A,Li(d)||!p.body?"":L),p.alternate){m.push(p.shortForm?"":"} ");const x=wi(p.body)&&p.body.comments.some(I=>I.trailing&&!Yu(I))||function(I){if(!I.comments)return!1;const H=Kt(I.comments.filter(U=>!U.leading&&!U.trailing));return H&&!Yu(H)}(p),P=!x;m.push(P?"":L),vt(p)&&m.push(ze(T.originalText,tt(p.body))?L:"",ut(d,T,!0),x?L:" "),m.push("else",w(p.alternate.kind==="if"?k("alternate"):Ee(d,T,k,"alternate")))}else m.push(p.body?p.shortForm?"endif;":"}":"");return m}case"do":return["do",Ee(d,T,k,"body")," while (",w([R([$,k("test")]),$]),")"];case"while":case"switch":return w([p.kind," (",w([R([$,k("test")]),$]),")",Ee(d,T,k,"body")]);case"for":{const m=Ee(d,T,k,"body"),y=ut(d,T,!0),A=y?[y,$]:"";return p.init.length||p.test.length||p.increment.length?[A,w(["for (",w([R([$,w(ct([",",J],d.map(k,"init"))),";",J,w(ct([",",J],d.map(k,"test"))),";",J,w(ct([",",J],d.map(k,"increment")))]),$]),")",m])]:[A,w(["for (;;)",m])]}case"foreach":{const m=Ee(d,T,k,"body"),y=ut(d,T,!0);return[y?[y,$]:"",w(["foreach (",w([R([$,k("source"),J,"as ",w(p.key?R(ct([" =>",J],[k("key"),k("value")])):k("value"))]),$]),")",m])]}case"try":{const m=[];return m.push("try",Ee(d,T,k,"body")),p.catches&&m.push(d.map(k,"catches")),p.always&&m.push(" finally",Ee(d,T,k,"always")),m}case"catch":return[" catch",p.what?[" (",ct(" | ",d.map(k,"what")),p.variable?[" ",k("variable")]:"",")"]:"",Ee(d,T,k,"body")];case"case":return[p.test?["case ",p.test.comments?R(k("test")):k("test"),":"]:"default:",p.body&&p.body.children&&p.body.children.length?R([Li(d)?"":L,k("body")]):""];case"break":case"continue":return p.level&&p.level.kind==="number"&&p.level.value!=="1"?["".concat(p.kind," "),k("level")]:p.kind;case"call":return p.arguments.length===1&&Do(p.arguments[0],T.originalText)?[k("what"),"(",ct(", ",d.map(k,"arguments")),")"]:Tt(p.what)?function(m,y,A){const x=[];function P(M){const{originalText:nt}=y,pt=gh(nt,tt(M));return nt.charAt(pt)===")"?xh(nt,pt+1,y):ze(nt,tt(M))}function I(M){const{node:nt}=M;if(nt.kind!=="call"||!Tt(nt.what)&&nt.what.kind!=="call")if(Tt(nt)){let pt=null;pt=nt.kind==="propertylookup"?qu(M,y,A):nt.kind==="nullsafepropertylookup"?Sa(M,y,A):nt.kind==="staticlookup"?La(M,y,A):Ia(M,y,A),x.unshift({node:nt,needsParens:ba(M),printed:zu(M,()=>pt,y)}),M.call(Mi=>I(Mi),"what")}else x.unshift({node:nt,printed:A()});else x.unshift({node:nt,printed:[zu(M,()=>ue(M,y,A),y),P(nt)?L:""]}),M.call(pt=>I(pt),"what")}const{node:H}=m;x.unshift({node:H,printed:ue(m,y,A)}),m.call(M=>I(M),"what");for(let M=0;M<x.length;++M)x[M].node.kind==="call"&&x[M-1]&&["propertylookup","nullsafepropertylookup","staticlookup"].includes(x[M-1].node.kind)&&x[M-1].needsParens&&(x[0].printed=["(",x[0].printed],x[M-1].printed=[x[M-1].printed,")"]);const U=[];let Y=[x[0]],V=1;for(;V<x.length&&(x[V].node.kind==="call"||Tt(x[V].node)&&x[V].node.offset&&x[V].node.offset.kind==="number");++V)Y.push(x[V]);if(x[0].node.kind!=="call")for(;V+1<x.length&&Tt(x[V].node)&&Tt(x[V+1].node);++V)Y.push(x[V]);U.push(Y),Y=[];let Ut=!1;for(;V<x.length;++V){if(Ut&&Tt(x[V].node)){if(x[V].node.kind==="offsetlookup"&&x[V].node.offset&&x[V].node.offset.kind==="number"){Y.push(x[V]);continue}U.push(Y),Y=[],Ut=!1}x[V].node.kind==="call"&&(Ut=!0),Y.push(x[V]),x[V].node.comments&&wi(x[V].node)&&(U.push(Y),Y=[],Ut=!1)}Y.length>0&&U.push(Y);function Mt(M){const nt=M[1].length&&M[1][0].node.kind==="offsetlookup";if(M[0].length===1){const Nn=M[0][0].node;return Nn.kind==="variable"&&(Nn.name==="this"||Nt&&pt(Nn.name))||Pu(Nn)}function pt(Nn){return Nn.length<y.tabWidth}const Mi=Kt(M[0]).node;return Tt(Mi)&&(Mi.offset.kind==="identifier"||Mi.offset.kind==="variable")&&nt}const Nt=m.parent.kind==="expressionstatement",vn=U.length>=2&&!U[1][0].node.comments&&Mt(U);function ve(M){const nt=[];for(let pt=0;pt<M.length;pt++)M[pt+1]&&M[pt+1].needsParens?(nt.push("(",M[pt].printed,M[pt+1].printed,")"),pt++):nt.push(M[pt].printed);return nt}function Ju(M){return M.length===0?"":R(w([L,ct(L,M.map(ve))]))}const Eo=U.map(ve),Ui=Eo,Ke=vn?3:2,Qa=U.slice(0,Ke).flat(),Ya=Qa.slice(1,-1).some(M=>Oi(M.node))||Qa.slice(0,-1).some(M=>wi(M.node))||U[Ke]&&Oi(U[Ke][0].node),wh=Uu(m,"encapsed");if(U.length<=Ke&&!Ya||wh)return w(Ui);const za=Kt(vn?U.slice(1,2)[0]:U[0]).node,Ka=za.kind!=="call"&&P(za),qa=[ve(U[0]),vn?U.slice(1,2).map(ve):"",Ka?L:"",Ju(U.slice(vn?2:1))],Ja=x.filter(M=>["call","new"].includes(M.node.kind));return Ya||Ja.length>2&&Ja.some(M=>!M.node.arguments.every(nt=>ka(nt)))||Eo.slice(0,-1).some(Ae)?w(qa):[Ae(Ui)||Ka?va:"",Fn([Ui,qa])]}(d,T,k):[k("what"),ue(d,T,k)];case"new":{const m=p.what&&p.what.kind==="class"&&p.what.isAnonymous;if(!m&&p.arguments.length===1&&Do(p.arguments[0],T.originalText))return["new ",...d.call(be,"what"),k("what"),"(",ct(", ",d.map(k,"arguments")),")"];const y=[];if(y.push("new "),m)y.push(p.what.leadingComments&&p.what.leadingComments[0].kind==="commentblock"?[Qe(p.what.leadingComments,T)," "]:"",...d.call(()=>be(d,T,k,{inline:!0}),"what"),"class",p.arguments.length>0?[" ",ue(d,T,k)]:"",w(k("what")));else{const A=["call","offsetlookup"].includes(p.what.kind),x=[A?"(":"",k("what"),A?")":"",ue(d,T,k)];y.push(Oi(p.what)?R(x):x)}return y}case"clone":return["clone ",p.what.comments?R(k("what")):k("what")];case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":{const{parent:m}=d;let y,A=0;do y=d.getParentNode(A),A++;while(y&&Tt(y));const x=Uu(d,"encapsed")||y&&(y.kind==="new"||y.kind==="assign"&&y.left.kind!=="variable")||p.kind==="offsetlookup"||(Pu(p.what)||p.what.kind==="variable")&&["identifier","variable","encapsedpart"].includes(p.offset.kind)&&m&&!Tt(m);return[k("what"),x?Ba(d,T,k):w(R([$,Ba(d,T,k)]))]}case"exit":return w([p.useDie?"die":"exit","(",p.expression?Do(p.expression,T.originalText)?k("expression"):[R([$,k("expression")]),$]:ut(d,T),")"]);case"global":return w(["global ",R(ct([",",J],d.map(k,"items")))]);case"include":return[p.require?"require":"include",p.once?"_once":""," ",p.target.comments?R(k("target")):k("target")];case"label":return[k("name"),":"];case"goto":return["goto ",k("label")];case"throw":return["throw ",p.what.comments?R(k("what")):k("what")];case"silent":return["@",k("expr")];case"halt":return[vt(p)?[ut(d,T,!0),L]:"","__halt_compiler();",p.after];case"eval":return w(["eval(",Do(p.source,T.originalText)?k("source"):[R([$,k("source")]),$],")"]);case"echo":{const m=d.map(k,"expressions");let y;return m.length!==1||p.expressions[0].comments?m.length>0&&(y=Ru(p.expressions[0])||p.expressions[0].comments?R(m[0]):Eh(m[0])):[y]=m,w([p.shortForm?"":"echo ",y||"",R(m.slice(1).map(A=>[",",J,A]))])}case"print":return["print ",p.expression.comments?R(k("expression")):k("expression")];case"return":{const m=[];if(m.push("return"),p.expr){const y=k("expr");m.push(" ",p.expr.comments?R(y):y)}return vt(p)&&m.push(" ",ut(d,T,!0)),m}case"isset":case"unset":return w([p.kind,ue(d,T,k,"variables")]);case"empty":return w(["empty(",R([$,k("expression")]),$,")"]);case"variable":{const{parent:m,grandparent:y}=d,A=m.kind==="assign"?"":p.byref?"&":"",x=m.kind==="encapsedpart"&&m.syntax==="simple"&&m.curly||y&&m.kind==="offsetlookup"&&y.kind==="encapsedpart"&&y.syntax==="simple"&&y.curly?"":"$",P=p.curly?"{":"",I=p.curly?"}":"";return[A,x,P,k("name"),I]}case"constantstatement":case"classconstant":{const m=be(d,T,k),y=d.map(k,"constants");let A;return y.length!==1||p.constants[0].comments?y.length>0&&(A=R(y[0])):[A]=y,w([...m,p.final?"final ":"",p.visibility?[p.visibility," "]:"","const",A?[" ",A]:"",R(y.slice(1).map(x=>[",",L,x]))])}case"constant":return fo(p.name,k("name")," =",p.value,k("value"),!1,T);case"static":{const m=d.map(k,"variables"),y=p.variables.some(x=>x.defaultValue);let A;return m.length!==1||p.variables[0].comments?m.length>0&&(A=R(m[0])):[A]=m,w(["static",A?[" ",A]:"",R(m.slice(1).map(x=>[",",y?L:J,x]))])}case"staticvariable":return fo(p.variable,k("variable")," =",p.defaultValue,k("defaultValue"),!1,T);case"list":case"array":{const m=p.kind==="array"&&bn(T.phpVersion,"5.4")||p.kind==="list"&&(p.shortForm||bn(T.phpVersion,"7.1")),y=m?"[":[p.kind,"("],A=m?"]":")";if(p.items.length===0)return vt(p)?w([y,ut(d,T),$,A]):[y,A];const x=Kt(p.items),P=x&&x.kind==="noop",[I]=p.items.filter(U=>U.kind!=="noop").sort((U,Y)=>yt(U)-yt(Y)),H=!(!I||!I.key)&&I&&Na(T.originalText,yt(p),yt(I));return w([y,R([$,Fh(d,T,k)]),P?",":"",Ye(!P&&Ri(T,"5.0")?[x&&pa(x)?L:"",","]:""),ut(d,T,!0),$,A],{shouldBreak:H})}case"entry":{const m=p.byRef?"&":"",y=p.unpack?"...":"";return p.key?fo(p.key,k("key")," =>",p.value,k("value"),m,T):[m,y,k("value")]}case"yield":{const m=[p.key?[k("key")," => "]:"",k("value")];return["yield",p.key||p.value?" ":"",p.value&&p.value.comments?R(m):m]}case"yieldfrom":return["yield from ",p.value.comments?R(k("value")):k("value")];case"unary":return[p.type,k("what")];case"pre":return[p.type+p.type,k("what")];case"post":return[k("what"),p.type+p.type];case"cast":return["(",p.type,") ",p.expr.comments?R(k("expr")):k("expr")];case"assignref":case"assign":{const m=p.kind==="assignref";return fo(p.left,k("left"),[" ",m?"=":p.operator],p.right,k("right"),m,T)}case"bin":{const{parent:m,grandparent:y}=d,A=p!==m.body&&(m.kind==="if"||m.kind==="while"||m.kind==="switch"||m.kind==="do"),x=Ra(d,k,T,!1,A);if(A)return x;if(m.kind==="unary"||Tt(m)&&m.kind!=="offsetlookup")return w([R([$,...x]),$]);const P=p!==m.body&&m.kind==="for"||m.kind==="retif"&&y&&y.kind!=="return",I=["assign","property","constant","staticvariable","entry"].includes(m.kind),H=p.left.kind==="bin"&&wu(p.type,p.left.type);if(P||Bi(p)&&!H||!Bi(p)&&I)return w(x);const U=x.slice(1);return w([x.length>0?x[0]:"",R(U)])}case"retif":{const m=[],{parent:y}=d;let A,x=0;do A=d.getParentNode(x),x++;while(A&&A.kind==="retif");const P=A||y,I=p.falseExpr.kind==="bin"?R(k("falseExpr")):k("falseExpr"),H=[p.trueExpr?J:" ","?",p.trueExpr?[" ",p.trueExpr.kind==="bin"?R(k("trueExpr")):k("trueExpr"),J]:"",":",p.trueExpr?[" ",I]:[wa(p.falseExpr)?" ":J,I]];m.push(H);const U=Nt=>y===P?w(Nt):Nt,Y=d.grandparent,V=y.kind==="cast"&&Y?Y:y,Ut=["propertylookup","nullsafepropertylookup","staticlookup"].includes(V.kind),Mt=k("test");if(!p.trueExpr){const Nt=[Mt,V.kind==="bin"||["print","echo","return","include"].includes(P.kind)?R(m):m];return V.kind==="call"&&V.what===p||V.kind==="unary"||Tt(V)&&V.kind!=="offsetlookup"?w([R([$,Nt]),$]):U(Nt)}return U([p.test.kind==="retif"?R(Mt):Mt,R(m),Ut?$:""])}case"boolean":return p.value?"true":"false";case"number":return aa(p.value);case"string":{const{parent:m}=d;if(m.kind==="encapsedpart"){const x=d.grandparent;let P=0;const I=bn(T.phpVersion,"7.3");let H=An;if(x.type==="heredoc"){H=I?L:An;const U=x.raw.split(`
`);P=U[U.length-1].search(/\S/),P===-1&&(P=U[U.length-2].search(/\S/))}return ct(H,p.raw.split(`
`).map((U,Y)=>Y>0||p.loc.start.column===0?U.substring(P):U))}const y=function(x,P){if(x.isDoubleQuote===P.singleQuote){const I=x.raw.slice(x.raw[0]==="b"?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return x.isDoubleQuote?I:!I}return x.isDoubleQuote}(p,T)?'"':"'";let A=p.raw;return p.raw[0]==="b"&&(A=A.slice(1)),['"',"'"].includes(A[0])&&(A=A.substr(1)),['"',"'"].includes(A[A.length-1])&&(A=A.substr(0,A.length-1)),[p.raw[0]==="b"?"b":"",y,ct(An,A.split(`
`)),y]}case"intersectiontype":return Ga(d,k,"&");case"uniontype":return Ga(d,k,"|");case"encapsedpart":{const m=p.syntax==="simple"&&p.curly||p.syntax==="complex"?[p.curly?"$":"","{"]:"",y=p.syntax==="simple"&&p.curly||p.syntax==="complex"?"}":"";return[m,k("expression"),y]}case"encapsed":switch(p.type){case"string":case"shell":case"heredoc":{const m=bn(T.phpVersion,"7.3")?L:An;return[Pa(p),p.type==="heredoc"?m:"",...d.map(k,"value"),Pa(p,{opening:!1}),p.type==="heredoc"&&ho(d)?L:""]}default:throw new Error("Have not implemented kind ".concat(p.type," yet."))}case"inline":return ct(An,p.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(`
`));case"magic":return p.value;case"nowdoc":{const m=bn(T.phpVersion,"7.3")?L:An;return["<<<'",p.label,"'",m,ct(m,p.value.split(`
`)),m,p.label,ho(d)?L:""]}case"name":return[p.resolution==="rn"?"namespace\\":"",p.name];case"literal":return k("value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return p.name;case"nullkeyword":return"null";case"identifier":{const{parent:m}=d;return m.kind==="method"&&(p.name=fa(p.name)),k("name")}case"match":{const m=d.map(()=>{const y=d.node,A=Oi(y)?[Qe(y.leadingComments,T),L]:[],x=!d.isLast||T.trailingCommaPHP?",":"",P=wi(y)?[" ",Qe(y.comments.filter(Y=>Y.trailing),T)]:[],I=y.conds===null?"default":d.map(Y=>{let{isFirst:V}=Y;return[",",J,k()].slice(V?2:0)},"conds"),H=k("body"),U=!d.isFirst&&Ch(T.originalText,yt(y))?L:"";return["",L,U,...A,w([w([I,R(J)]),"=> ",H,x,...P])].slice(d.isFirst?1:0)},"arms");return w(["match (",w([R([$,k("cond")]),$]),") {",w(R([...m]))," ",$,"}"])}case"noop":return p.comments?Qe(p.comments,T):"";case"namedargument":return[p.name,": ",k("value")];case"enumcase":return w(["case ",k("name"),p.value?[" =",_o(p.name,p.value,k("value"),!1,T)]:""]);case"variadicplaceholder":return"...";default:throw new Error("Have not implemented kind '".concat(p.kind,"' yet."))}}(t,e,i),c=[],_=ba(t);return _&&c.unshift("("),c.push(a),_&&c.push(")"),function(d){const{node:T,parent:k}=d;if(!k)return!1;if(["for","foreach","while","do","if","switch"].includes(k.kind)&&T.kind!=="block"&&T.kind!=="if"&&(k.body===T||k.alternate===T))return!0;if(!function(p){return["block","program","namespace","class","enum","interface","trait","traituse","declare"].includes(p.kind)}(k)||T.kind==="echo"&&T.shortForm)return!1;if(T.kind==="traituse")return!T.adaptations;if(T.kind==="method"&&T.isAbstract)return!0;if(T.kind==="method"){const{parent:p}=d;if(p&&p.kind==="interface")return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","enumcase","global","static","echo","unset","return","break","continue","throw"].includes(T.kind)}(t)&&c.push(";"),function(d){const{node:T}=d,k=T.kind==="program",p=T.children&&Kt(T.children);if(!k||p&&["halt","inline"].includes(p.kind))return!1;if(p&&(p.kind==="declare"||p.kind==="namespace")){const W=p.children.length>0&&Kt(p.children);if(W&&["halt","inline"].includes(W.kind))return!1}return!0}(t)&&c.push(L),c},getVisitorKeys:function(t,e){return Object.keys(t).filter(i=>!e.has(i)&&!Ih.has(i))},insertPragma:function(t){const e=Wa(t);if(e){const{start:{offset:c},end:{offset:_}}=e.loc,d=t.substring(0,c),T=t.substring(_);return"".concat(d).concat(function(k){let p=k.split(`
`);if(p.length===1){const[,m]=/\/*\*\*(.*)\*\//.exec(p[0]);p=["/**"," * ".concat(m.trim())," */"]}const W=p.findIndex(m=>/@\S/.test(m))||1;return p.splice(W,0," * @format"),p.join(`
`)}(e.value)).concat(T)}if(!t.startsWith("<?php"))return t;const r=t.substring(0,5),a=t.substring(5);return"".concat(r,`
/** 
 * @format 
 */
`).concat(a)},massageAstNode:ja,getCommentChildNodes:function(t){if(t.kind==="new"&&t.what.kind==="class")return t.what.__parent_new_arguments=[...t.arguments],[t.what]},canAttachComment:function(t){return t.kind&&t.kind!=="commentblock"&&t.kind!=="commentline"},isBlockComment:Yu,handleComments:{ownLine:function(t,e,i){const{precedingNode:r,enclosingNode:a,followingNode:c}=t;return xa(e,r,a,c,t)||function(_,d,T){return _&&Tt(_)&&d&&["identifier","variable","encapsed"].includes(d.kind)?(qt(_,T),!0):!1}(a,c,t)||Hu(e,r,a,c,t)||$u(e,r,a,c,t)||ga(a,c,t)||Gu(a,c,t)||Vu(e,r,a,c,t)||ju(e,a,c,t)||function(_,d,T,k){return!T&&_&&(_.kind==="for"||_.kind==="foreach")?(_.body&&_.body.kind!=="block"?qt(T,k):qt(_,k),!0):!1}(a,0,c,t)||Wu(a,r,c,t)||Fa(a,r,c,t)},endOfLine:function(t,e,i){const{precedingNode:r,enclosingNode:a,followingNode:c}=t;return function(_,d,T,k,p){return!d&&!k&&T&&T.kind==="array"?(Jt(T,p),!0):!1}(0,r,a,c,t)||function(_,d,T,k,p){return T&&T.kind==="return"&&!T.expr?(Jt(T,p),!0):!1}(0,0,a,0,t)||xa(e,r,a,c,t)||function(_,d,T,k,p){const W=d&&!ph(p,tt(d),yt(k));return(!d||!W)&&_&&_.kind==="retif"&&T?(qt(T,k),!0):!1}(a,r,c,t,e)||Hu(e,r,a,c,t)||$u(e,r,a,c,t)||ga(a,c,t)||Gu(a,c,t)||Vu(e,r,a,c,t)||ju(e,a,c,t)||function(_,d){return _&&_.kind==="entry"?(qt(_,d),!0):!1}(a,t)||function(_,d,T){return d&&d.kind==="call"&&_&&d.what===_&&d.arguments.length>0?(qt(d.arguments[0],T),!0):!1}(r,a,t)||function(_,d,T){if(_&&_.kind==="assign"&&d){const k=_.loc.start.offset+_.loc.source.indexOf("=");if(T.loc.start.offset>k)return qt(d,T),!0}return!1}(a,c,t)||Wu(a,r,c,t)||Ca(a,r,c,t)||Fa(a,r,c,t)||ya(a,t)},remaining:function(t,e,i){const{precedingNode:r,enclosingNode:a,followingNode:c}=t;return Hu(e,r,a,c,t)||$u(e,r,a,c,t)||function(_,d,T){const k=Ii(_,tt(T));return _.charAt(k)!==")"?!1:d&&(d.kind==="function"||d.kind==="closure"||d.kind==="method"||d.kind==="call"||d.kind==="new")&&d.arguments.length===0?(gt(d,T),!0):!1}(e,a,t)||Gu(a,c,t)||function(_,d,T){return _&&_.kind==="traituse"&&_.adaptations&&!_.adaptations.length?(gt(_,T),!0):!1}(a,0,t)||Vu(e,r,a,c,t)||ju(e,a,c,t)||ya(a,t)||function(_,d,T,k){return d&&d.kind==="halt"?(gt(d,k),!0):_&&_.kind==="halt"?(gt(_,k),!0):!1}(r,a,0,t)||function(_,d){return _&&(_.kind==="continue"||_.kind==="break")&&!_.label?(Jt(_,d),!0):!1}(a,t)||Wu(a,r,c,t)||Ca(a,r,c,t)}},willPrintOwnComments(t){const{node:e}=t;return e&&e.kind==="noop"},printComment(t){const e=t.node;switch(e.kind){case"commentblock":{if(!e.value.includes(`
`))return e.value;const i=e.value.split(`
`);return i.slice(1,i.length-1).every(r=>r.trim()[0]==="*")?vh(Nh,i.map((r,a)=>(a>0?" ":"")+(a<i.length-1?r.trim():r.trimLeft()))):e.value}case"commentline":return e.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(e)))}},hasPrettierIgnore(t){const e=a=>a.value.includes("prettier-ignore")&&!a.value.includes("prettier-ignore-start")&&!a.value.includes("prettier-ignore-end"),{node:i,parent:r}=t;return i&&i.kind!=="classconstant"&&i.comments&&i.comments.length>0&&i.comments.some(e)||i&&i.kind==="constant"&&r&&r.kind==="classconstant"&&r.comments&&r.comments.length>0&&r.comments.some(e)}}};kt.defaultOptions={tabWidth:4},kt.languages=Sh,kt.options=bh,kt.parsers=Lh,kt.printers=Oh})})(Zu,Zu.exports);var jh=Zu.exports;const Vh=Mh(jh),Kh=new class extends Hh{async beautify(){return Ph.format(this.code,{plugins:[Vh],parser:"php",tabWidth:this.getOptionValue("tab",4)})}};export{Kh as formatter};
