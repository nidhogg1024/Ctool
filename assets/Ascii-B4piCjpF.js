var U=Object.defineProperty;var O=(n,t,c)=>t in n?U(n,t,{enumerable:!0,configurable:!0,writable:!0,value:c}):n[t]=c;var y=(n,t,c)=>O(n,typeof t!="symbol"?t+"":t,c);import{u as z,i as I}from"./action-BZ3Nddn_.js";import{r as u}from"./radix-4sccER6M.js";import{d as v,M as f,c as A,w as p,x as o,r as _,a as h,L as P,A as K,k as D,F as w,q as M,m as X}from"./tool-BLEDneDs.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-mathjs-__1x7LJv.js";import"./vendor-monaco-DSX5bDTJ.js";import"./vendor-lodash-rhkwYG98.js";const $=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","HT","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","SPACE","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],C={NUL:$t("ascii_code_nul"),SOH:$t("ascii_code_soh"),STX:$t("ascii_code_stx"),ETX:$t("ascii_code_etx"),EOT:$t("ascii_code_eot"),ENQ:$t("ascii_code_enq"),ACK:$t("ascii_code_ack"),BEL:$t("ascii_code_bel"),BS:$t("ascii_code_bs"),HT:$t("ascii_code_tab"),LF:$t("ascii_code_lf"),VT:$t("ascii_code_vt"),FF:$t("ascii_code_ff"),CR:$t("ascii_code_cr"),SO:$t("ascii_code_so"),SI:$t("ascii_code_si"),DLE:$t("ascii_code_dle"),DC1:$t("ascii_code_dc1"),DC2:$t("ascii_code_dc2"),DC3:$t("ascii_code_dc3"),DC4:$t("ascii_code_dc4"),NAK:$t("ascii_code_nak"),SYN:$t("ascii_code_syn"),ETB:$t("ascii_code_etb"),CAN:$t("ascii_code_can"),EM:$t("ascii_code_em"),SUB:$t("ascii_code_sub"),ESC:$t("ascii_code_esc"),FS:$t("ascii_code_fs"),GS:$t("ascii_code_gs"),RS:$t("ascii_code_rs"),US:$t("ascii_code_us"),DEL:$t("ascii_code_del"),SPACE:$t("ascii_code_space")};class j{constructor(t,c="str"){y(this,"decData");let e=-1;switch(t=`${t}`,c!=="str"&&(t=t.toLowerCase()),c){case"str":e=t.charCodeAt(0);break;case"dec":/^[0-9 ]+$/.test(t)&&(e=parseInt(u(t,10,10)));break;case"hex":/^[0-9a-f ]+$/.test(t)&&(e=parseInt(u(t,16,10)));break;case"oct":/^[0-7 ]+$/.test(t)&&(e=parseInt(u(t,8,10)));break;case"bin":/^[01 ]+$/.test(t)&&(e=parseInt(u(t.replace(/\b(0+)/g,""),2,10)));break;default:throw new Error("type error")}if(e<0||e>127)throw new Error(`"${t}": input error`);this.decData=`${e}`}dec(){return this.decData+""}hex(){return(u(this.decData,10,16)+"").toUpperCase()}oct(){return u(this.decData,10,8)+""}bin(){return(u(this.decData,10,2)+"").padStart(8,"0")}str(){const t=$[this.decData],c={SPACE:" ",HT:"	",LF:`
`,CR:"\r"};return t in c?c[t]:Object.keys(C).includes(t)?`[${t}]`:$[this.decData]}}const m=(n,t,c)=>{if(n==="")return"";if(t==="str")for(const s of Object.keys(C))n=n.replace(new RegExp(`\\[${s}\\]`,"g"),String.fromCharCode($.indexOf(s)));const e=[];for(const s of n.split(t==="str"?"":" ")){if(t!=="str"&&s==="")continue;const a=new j(s,t);e.push(a[c]())}return e.join(c==="str"?"":" ")},q=v({__name:"Reference",setup(n){const t=f(()=>{const e=[];for(const s in $){const a=!($[s]in C);e.push({dec:`${s}`,hex:m(s,"dec","hex"),oct:m(s,"dec","oct"),bin:m(s,"dec","bin"),str:$[s],is_visible:a?$t("ascii_yes"):$t("ascii_no"),explain:a?"":C[$[s]]})}return e}),c=[{title:$t("ascii_input_dec"),key:"dec",width:70},{title:$t("ascii_input_hex"),key:"hex",width:90},{title:$t("ascii_input_oct"),key:"oct",width:70},{title:$t("ascii_input_bin"),key:"bin",width:95},{title:$t("ascii_input_str"),key:"str",width:70},{title:$t("ascii_is_visible"),key:"is_visible",width:90},{title:$t("ascii_description"),key:"explain"}];return(e,s)=>{const a=_("Table"),d=_("HeightResize");return h(),A(d,null,{default:p(({height:b})=>[o(a,{columns:c,lists:t.value,height:b},null,8,["lists","height"])]),_:1})}}}),it=v({__name:"Ascii",async setup(n){let t,c;const e=z(([t,c]=P(()=>I({type:"",input:""},{paste:!1})),t=await t,c(),t)),s=K(!1),a=i=>{if(e.current.type===""||e.current.input==="")return"";if(e.current.type===i)return e.current.input;try{return m(e.current.input,e.current.type,i)}catch(r){return $error(r)}},d=(i,r)=>{e.current.input=r,e.current.type=i,e.current.input!==""&&e.save()},b=f({get:()=>a("dec"),set:i=>d("dec",i)}),L=f({get:()=>a("hex"),set:i=>d("hex",i)}),B=f({get:()=>a("oct"),set:i=>d("oct",i)}),T=f({get:()=>a("bin"),set:i=>d("bin",i)}),H=f({get:()=>a("str"),set:i=>d("str",i)}),S={dec:b,hex:L,oct:B,bin:T,str:H};return(i,r)=>{const N=_("Textarea"),k=_("Button"),g=_("Align"),R=_("Display"),V=_("HeightResize"),F=_("ExtendPage");return h(),D(w,null,[o(V,null,{default:p(({height:E})=>[o(g,{direction:"vertical"},{default:p(()=>[(h(),D(w,null,M(["str","bin","oct","dec","hex"],l=>o(R,{position:"bottom-right"},{extra:p(()=>[o(g,null,{default:p(()=>[l==="str"?(h(),A(k,{key:0,size:"small",onClick:r[0]||(r[0]=x=>s.value=!s.value),text:i.$t("main_ui_reference")},null,8,["text"])):X("",!0),o(k,{size:"small",type:"primary",onClick:x=>i.$copy(S[l].value),text:i.$t(`ascii_input_${l}`)},null,8,["onClick","text"])]),_:2},1024)]),default:p(()=>[o(N,{modelValue:S[l].value,"onUpdate:modelValue":x=>S[l].value=x,placeholder:l==="str"?i.$t("ascii_input_str_prompt"):i.$t("ascii_input_prompt",[i.$t(`ascii_input_${l}`)]),height:(E-20)/5},null,8,["modelValue","onUpdate:modelValue","placeholder","height"])]),_:2},1024)),64))]),_:2},1024)]),_:1}),o(F,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=E=>s.value=E)},{default:p(()=>[o(q)]),_:1},8,["modelValue"])],64)}}});export{it as default};
