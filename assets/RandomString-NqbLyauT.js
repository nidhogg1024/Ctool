import{u as M,i as E}from"./action-YmMChBHQ.js";import{d as L,L as N,A as D,M as k,S as F,o as H,D as O,R as b,k as T,x as l,w as s,j as u,F as Y,r,Y as q,a as G}from"./tool-B4oZh9Hj.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-mathjs-__1x7LJv.js";import"./vendor-monaco-DSX5bDTJ.js";import"./vendor-lodash-rhkwYG98.js";const v="small",V="0123456789",S="abcdefghijklmnopqrstuvwxyz",y="ABCDEFGHIJKLMNOPQRSTUVWXYZ",I="`~!@#$%^&*()-_=+[{]}|;:',<.>/?",ee=L({__name:"RandomString",async setup(J){let $,z;const n=M(([$,z]=N(()=>E({amount:10,length:32,outputOption:q("text"),base:`${V}${S}${y}`,result:[]})),$=await $,z(),$)),a=D({base:n.current.base,show:!1}),U=t=>{const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]%t},C=()=>{const t=`${n.current.base}`,e=[];for(let i=0,g=n.current.amount;i<g;i++){const m=t.split("");let d="";for(let h=0,_=n.current.length;h<_&&!(m.length<1);h++){const p=U(m.length);d+=m[p]}e.push(d)}n.current.result=e},B=k(()=>F.formObject(n.current.result));H(()=>{n.current.result.length<1&&C()}),O(()=>({amount:n.current.amount,length:n.current.length,base:n.current.base}),()=>{C()}),O(()=>n.current,t=>{t.result.length<1||n.save()},{deep:!0,immediate:!0});const c=t=>{if(t==="reset"){a.value.base=`${V}${S}${y}`;return}let e=`${a.value.base}`.split("");const i=({digital:`${V}`,lowercase:`${S}`,uppercase:`${y}`,symbol:`${I}`}[t]||"").split("");i.length>0&&(b.intersection(e,i).length>0?e=e.filter(g=>!i.includes(g)):e=[...e,...i]),a.value.base=[...new Set(e)].join("")},f=k(()=>{const t=`${a.value.base}`.split("");return{digital:b.intersection(t,V.split("")).length>0,lowercase:b.intersection(t,S.split("")).length>0,uppercase:b.intersection(t,y.split("")).length>0,symbol:b.intersection(t,I.split("")).length>0}});return(t,e)=>{const i=r("SerializeOutput"),g=r("HeightResize"),m=r("Icon"),d=r("Button"),h=r("Input"),_=r("InputNumber"),p=r("Align"),A=r("Card"),R=r("Textarea"),w=r("Bool"),j=r("Modal");return G(),T(Y,null,[l(p,{direction:"vertical"},{default:s(()=>[l(g,{reduce:5,append:[".ctool-page-option"]},{default:s(({height:o})=>[l(i,{modelValue:u(n).current.outputOption,"onUpdate:modelValue":e[0]||(e[0]=x=>u(n).current.outputOption=x),allow:["json","xml","yaml","toml","properties","php_array","text"],height:o,content:B.value},null,8,["modelValue","height","content"])]),_:1}),l(A,{class:"ctool-page-option"},{default:s(()=>[l(p,{horizontal:"center"},{default:s(()=>[l(h,{modelValue:u(n).current.base,"onUpdate:modelValue":e[2]||(e[2]=o=>u(n).current.base=o),width:300},{append:s(()=>[l(d,{onClick:e[1]||(e[1]=o=>{a.value.base=u(n).current.base,a.value.show=!0})},{default:s(()=>[l(m,{hover:"",name:"setting",tooltip:t.$t("main_ui_setting"),size:12},null,8,["tooltip"])]),_:1})]),_:1},8,["modelValue"]),l(_,{modelValue:u(n).current.length,"onUpdate:modelValue":e[3]||(e[3]=o=>u(n).current.length=o),width:100,label:t.$t("randomString_length")},null,8,["modelValue","label"]),l(_,{modelValue:u(n).current.amount,"onUpdate:modelValue":e[4]||(e[4]=o=>u(n).current.amount=o),width:100,label:t.$t("randomString_amount")},null,8,["modelValue","label"]),l(d,{onClick:C},{default:s(()=>[l(m,{name:"refresh"})]),_:1})]),_:1})]),_:1})]),_:1}),l(j,{title:`${t.$t("main_ui_setting")} ${t.$t("randomString_chars")}`,modelValue:a.value.show,"onUpdate:modelValue":e[11]||(e[11]=o=>a.value.show=o),"footer-type":"long",onOk:e[12]||(e[12]=o=>{u(n).current.base=a.value.base,a.value.show=!1})},{default:s(()=>[l(p,{direction:"vertical"},{default:s(()=>[l(R,{modelValue:a.value.base,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.base=o),height:300},null,8,["modelValue"]),l(p,{horizontal:"center"},{default:s(()=>[l(w,{size:v,border:"",label:t.$t("randomString_digital"),"model-value":f.value.digital,onChange:e[6]||(e[6]=o=>c("digital"))},null,8,["label","model-value"]),l(w,{size:v,border:"",label:t.$t("randomString_lowercase"),"model-value":f.value.lowercase,onChange:e[7]||(e[7]=o=>c("lowercase"))},null,8,["label","model-value"]),l(w,{size:v,border:"",label:t.$t("randomString_uppercase"),"model-value":f.value.uppercase,onChange:e[8]||(e[8]=o=>c("uppercase"))},null,8,["label","model-value"]),l(w,{size:v,border:"",label:t.$t("randomString_symbol"),"model-value":f.value.symbol,onChange:e[9]||(e[9]=o=>c("symbol"))},null,8,["label","model-value"]),l(d,{size:v,text:t.$t("main_ui_reset"),onClick:e[10]||(e[10]=o=>c("reset"))},null,8,["text"])]),_:1})]),_:1})]),_:1},8,["title","modelValue"])],64)}}});export{ee as default};
