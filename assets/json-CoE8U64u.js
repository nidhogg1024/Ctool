import{g as c}from"./standalone-BXZwVK2D.js";import{L as u,$ as h}from"./estree-DwsZGU-1.js";import{B as x}from"./base-C4lZah3o.js";const d=p=>{var o=/"|(\/\*)|(\*\/)|(\/\/)|\n|\r/g,r=!1,e=!1,t=!1,s,n,a=[],l=0,i=0,f,m,g;for(o.lastIndex=0;s=o.exec(p);)f=RegExp.leftContext,m=RegExp.rightContext,!e&&!t&&(n=f.substring(i),r||(n=n.replace(/(\n|\r|\s)+/g,"")),a[l++]=n),g=i,i=o.lastIndex,s[0]=='"'&&!e&&!t?(n=f.substring(g).match(/\\+$/),(!r||!n||n[0].length%2==0)&&(r=!r),i--,m=p.substring(i)):s[0]=="/*"&&!r&&!e&&!t?e=!0:s[0]=="*/"&&!r&&e&&!t?e=!1:s[0]=="//"&&!r&&!e&&!t?t=!0:(s[0]==`
`||s[0]=="\r")&&!r&&!e&&t?t=!1:!e&&!t&&!/\n|\r|\s/.test(s[0])&&(a[l++]=s[0]);return a[l++]=(m||"").replace(/(\n|\r|\s)+/g,""),a.join("").trim()},v=new class extends x{async beautify(){return c(this.code,{parser:"json",plugins:[u,h],quoteProps:"preserve",trailingComma:"none",tabWidth:this.getOptionValue("tab",4),printWidth:1})}async compress(){return d(this.code)}};export{v as formatter};
