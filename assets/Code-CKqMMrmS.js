import{u as U,i as j}from"./action-CRJh3H4I.js";import{d as A,M as p,y as D,z as k,I as N,D as I,c as s,w as c,r as u,f as o,v as g,j as t,Q as M,k as b,q as O,F as V,m as i,n as w,l as h,ak as R}from"./tool-BIQGDOzf.js";import"./modulepreload-polyfill-B5Qt9EMX.js";const F=["bigquery","db2","db2i","hive","mariadb","mysql","tidb","n1ql","plsql","postgresql","redshift","spark","sqlite","sql","trino","transactsql","singlestoredb","snowflake"].sort(),H={key:3},K=A({__name:"Code",async setup(P){let d,_;const m=p.allLanguageType.filter(l=>!["json"].includes(l)),e=U(([d,_]=D(()=>j({input:"",language:"javascript",option:{javascript:{tab:4},markdown:{tab:4},typescript:{tab:4},css:{tab:4},less:{tab:4},scss:{tab:4},yaml:{tab:4},html:{tab:4},xml:{tab:4,collapse_content:!0},php:{tab:4},java:{tab:4},vue:{tab:4},graphql:{tab:4},sql:{tab:4,language:"mysql"}}},{keyword:l=>{const n=R(l,m);return n===""?!1:{language:n}}})),d=await d,_(),d)),y=k(()=>p.languages[e.current.language].compress),$=k(()=>p.languages[e.current.language].beautify),f=async l=>{if(e.current.input.trim()==="")return;const r=await(await p.load(e.current.language)).set(e.current.input,e.current.option[e.current.language]).format(l);if(r==="")throw new Error("result empty");e.current.input=r,e.success()},q=N(0),L=()=>{if(e.current.language==="sql")switch(e.current.option.sql.language){case"mysql":return"MySQL";case"mariadb":return"MariaDB SQL";case"plsql":return"PLSQL";case"postgresql":return"PostgreSQL";case"sqlite":return"SQLite"}};I(()=>e.current.option.sql.language,()=>{q.value++});const z=[{label:$t("code_indent_width_null"),value:0},{label:$t("code_indent_width",[2]),value:2},{label:$t("code_indent_width",[4]),value:4},{label:$t("code_indent_width",[6]),value:6},{label:$t("code_indent_width",[8]),value:8}];return(l,n)=>{const r=u("Select"),B=u("Bool"),v=u("Button"),C=u("Align"),x=u("Editor"),S=u("HeightResize");return o(),s(S,null,{default:c(({height:E})=>[g(x,{modelValue:t(e).current.input,"onUpdate:modelValue":n[5]||(n[5]=a=>t(e).current.input=a),"lang-callback":L,reload:q.value,lang:t(e).current.language,height:`${E}px`},{default:c(()=>[g(C,null,{default:c(()=>[g(r,{size:"small",dialog:"",modelValue:t(e).current.language,"onUpdate:modelValue":n[0]||(n[0]=a=>t(e).current.language=a),options:t(m).map(a=>({value:a,label:t(M)(a)}))},null,8,["modelValue","options"]),(o(!0),b(V,null,O(t(m),a=>(o(),b(V,{key:a},[t(e).current.language===a?(o(),s(r,{key:0,size:"small",modelValue:t(e).current.option[`${a}`].tab,"onUpdate:modelValue":Q=>t(e).current.option[`${a}`].tab=Q,options:z},null,8,["modelValue","onUpdate:modelValue"])):i("",!0)],64))),128)),t(e).current.language==="sql"?(o(),s(r,{key:0,size:"small",modelValue:t(e).current.option.sql.language,"onUpdate:modelValue":n[1]||(n[1]=a=>t(e).current.option.sql.language=a),options:t(F)},null,8,["modelValue","options"])):i("",!0),t(e).current.language==="xml"?(o(),s(B,{key:1,size:"small",modelValue:t(e).current.option.xml.collapse_content,"onUpdate:modelValue":n[2]||(n[2]=a=>t(e).current.option.xml.collapse_content=a),label:l.$t("code_xml_collapse_content")},null,8,["modelValue","label"])):i("",!0),$.value?(o(),s(v,{key:2,type:"primary",size:"small",onClick:n[3]||(n[3]=a=>f("beautify"))},{default:c(()=>[w(h(l.$t("code_beautify")),1)]),_:1})):i("",!0),y.value?(o(),b("span",H,"|")):i("",!0),y.value?(o(),s(v,{key:4,type:"primary",size:"small",onClick:n[4]||(n[4]=a=>f("compress"))},{default:c(()=>[w(h(l.$t("code_compress")),1)]),_:1})):i("",!0)]),_:1})]),_:2},1032,["modelValue","reload","lang","height"])]),_:1})}}});export{K as default};
