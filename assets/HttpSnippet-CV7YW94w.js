import{B as qt,p as z}from"./vendor-monaco-DSX5bDTJ.js";import{g as Ue,n as Pt,o as At}from"./vendor-mathjs-__1x7LJv.js";import{r as _t}from"./url-C6lAOAPw.js";import{aC as ye,aD as Je,R as Le,U as Ut,d as Lt,L as Ht,M as Ve,A as It,D as Bt,N as Ft,c as be,w as Q,r as Z,a as ge,x as V,j as M,al as Mt,m as ze,P as Jt}from"./tool-BLEDneDs.js";import{r as Vt}from"./empty-CnIz-OQ7.js";import{u as zt,i as Wt}from"./action-BZ3Nddn_.js";import"./punycode-B_vV74DR.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-lodash-rhkwYG98.js";var We=(t,r)=>{const o=t[r.name];return o===void 0?(t[r.name]=r.value,t):Array.isArray(o)?(o.push(r.value),t):(t[r.name]=[o,r.value],t)},Ge="",Ke=`
`,R=class{constructor({indent:t,join:r}={}){this.postProcessors=[],this.code=[],this.indentationCharacter=Ge,this.lineJoin=Ke,this.indentLine=(o,n=0)=>`${this.indentationCharacter.repeat(n)}${o}`,this.unshift=(o,n)=>{const i=this.indentLine(o,n);this.code.unshift(i)},this.push=(o,n)=>{const i=this.indentLine(o,n);this.code.push(i)},this.blank=()=>{this.code.push("")},this.join=()=>{const o=this.code.join(this.lineJoin);return this.postProcessors.reduce((i,c)=>c(i),o)},this.addPostProcessor=o=>{this.postProcessors=[...this.postProcessors,o]},this.indentationCharacter=t||Ge,this.lineJoin=r??Ke}},$e,Qe;function Gt(){return Qe||(Qe=1,$e=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"}),$e}var je,Ye;function Kt(){return Ye||(Ye=1,je=function(t){var r=typeof t;return t!==null&&(r==="object"||r==="function")}),je}var ue={},Xe;function Qt(){return Xe||(Xe=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=t=>Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))),ue}var Te,Ze;function Yt(){if(Ze)return Te;Ze=1;const t=Gt(),r=Kt(),o=Qt().default;return Te=(n,i,c)=>{const e=[];return(function s(a,l,p){l=l||{},l.indent=l.indent||"	",p=p||"";let d;l.inlineCharacterLimit===void 0?d={newLine:`
`,newLineOrSpace:`
`,pad:p,indent:p+l.indent}:d={newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const y=$=>{if(l.inlineCharacterLimit===void 0)return $;const T=$.replace(new RegExp(d.newLine,"g"),"").replace(new RegExp(d.newLineOrSpace,"g")," ").replace(new RegExp(d.pad+"|"+d.indent,"g"),"");return T.length<=l.inlineCharacterLimit?T:$.replace(new RegExp(d.newLine+"|"+d.newLineOrSpace,"g"),`
`).replace(new RegExp(d.pad,"g"),p).replace(new RegExp(d.indent,"g"),p+l.indent)};if(e.indexOf(a)!==-1)return'"[Circular]"';if(a==null||typeof a=="number"||typeof a=="boolean"||typeof a=="function"||typeof a=="symbol"||t(a))return String(a);if(a instanceof Date)return`new Date('${a.toISOString()}')`;if(Array.isArray(a)){if(a.length===0)return"[]";e.push(a);const $="["+d.newLine+a.map((T,j)=>{const u=a.length-1===j?d.newLine:","+d.newLineOrSpace;let b=s(T,l,p+l.indent);return l.transform&&(b=l.transform(a,j,b)),d.indent+b+u}).join("")+d.pad+"]";return e.pop(),y($)}if(r(a)){let $=Object.keys(a).concat(o(a));if(l.filter&&($=$.filter(j=>l.filter(a,j))),$.length===0)return"{}";e.push(a);const T="{"+d.newLine+$.map((j,u)=>{const b=$.length-1===u?d.newLine:","+d.newLineOrSpace,w=typeof j=="symbol",E=!w&&/^[a-z$_][a-z$_0-9]*$/i.test(j),N=w||E?j:s(j,l);let C=s(a[j],l,p+l.indent);return l.transform&&(C=l.transform(a,j,C)),d.indent+String(N)+": "+C+b}).join("")+d.pad+"}";return e.pop(),y(T)}return a=String(a).replace(/[\r\n]/g,$=>$===`
`?"\\n":"\\r"),l.singleQuotes===!1?(a=a.replace(/"/g,'\\"'),`"${a}"`):(a=a.replace(/\\?'/g,"\\'"),`'${a}'`)})(n,i,c)},Te}var Xt=Yt();const H=Ue(Xt);function oe(t,r={}){const{delimiter:o='"',escapeChar:n="\\",escapeNewlines:i=!0}=r;return[...t.toString()].map(e=>e==="\b"?`${n}b`:e==="	"?`${n}t`:e===`
`?i?`${n}n`:e:e==="\f"?`${n}f`:e==="\r"?i?`${n}r`:e:e===n?n+n:e===o?n+o:e<" "||e>"~"?JSON.stringify(e).slice(1,-1):e).join("")}var ie=t=>oe(t,{delimiter:"'"}),U=t=>oe(t,{delimiter:'"'}),Zt={info:{key:"libcurl",title:"Libcurl",link:"http://curl.haxx.se/libcurl",description:"Simple REST and HTTP API Client for C"},convert:({method:t,fullUrl:r,headersObj:o,allHeaders:n,postData:i})=>{const{push:c,blank:e,join:s}=new R;c("CURL *hnd = curl_easy_init();"),e(),c(`curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "${t.toUpperCase()}");`),c("curl_easy_setopt(hnd, CURLOPT_WRITEDATA, stdout);"),c(`curl_easy_setopt(hnd, CURLOPT_URL, "${r}");`);const a=Object.keys(o);return a.length&&(e(),c("struct curl_slist *headers = NULL;"),a.forEach(l=>{c(`headers = curl_slist_append(headers, "${l}: ${U(o[l])}");`)}),c("curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);")),n.cookie&&(e(),c(`curl_easy_setopt(hnd, CURLOPT_COOKIE, "${n.cookie}");`)),i.text&&(e(),c(`curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, ${JSON.stringify(i.text)});`)),e(),c("CURLcode ret = curl_easy_perform(hnd);"),s()}},Dt={info:{key:"c",title:"C",extname:".c",default:"libcurl",cli:"c"},clientsById:{libcurl:Zt}},I=(t,r)=>Object.keys(t).find(o=>o.toLowerCase()===r.toLowerCase()),W=(t,r)=>{const o=I(t,r);if(o)return t[o]},pe=(t,r)=>!!I(t,r),en=t=>["application/json","application/x-json","text/json","text/x-json","+json"].some(r=>t.indexOf(r)>-1),De=class{constructor(t){this.name="",this.toString=()=>`:${this.name}`,this.name=t}},tn=class{constructor(t){this.path="",this.toString=()=>`(clojure.java.io/file "${this.path}")`,this.path=t}},dt=t=>t===void 0?null:t===null?"null":t.constructor.name.toLowerCase(),pt=t=>t===void 0?!0:dt(t)==="object"?Object.keys(t).length===0:!1,et=t=>(Object.keys(t).filter(r=>pt(t[r])).forEach(r=>{delete t[r]}),t),fe=(t,r)=>{const o=" ".repeat(t);return r.replace(/\n/g,`
${o}`)},qe=t=>{switch(dt(t)){case"string":return`"${t.replace(/"/g,'\\"')}"`;case"file":return t.toString();case"keyword":return t.toString();case"null":return"nil";case"regexp":return`#"${t.source}"`;case"object":{const r=Object.keys(t).reduce((o,n)=>{const i=fe(n.length+2,qe(t[n]));return`${o}:${n} ${i}
 `},"").trim();return`{${fe(1,r)}}`}case"array":{const r=t.reduce((o,n)=>`${o} ${qe(n)}`,"").trim();return`[${fe(1,r)}]`}default:return t.toString()}},nn={info:{key:"clj_http",title:"clj-http",link:"https://github.com/dakrone/clj-http",description:"An idiomatic clojure http client wrapping the apache client."},convert:({queryObj:t,method:r,postData:o,url:n,allHeaders:i},c)=>{const{push:e,join:s}=new R({indent:c==null?void 0:c.indent}),a=["get","post","put","delete","patch","head","options"];if(r=r.toLowerCase(),!a.includes(r))return e("Method not supported"),s();const l={headers:i,"query-params":t};switch(o.mimeType){case"application/json":{l["content-type"]=new De("json"),l["form-params"]=o.jsonObj;const p=I(l.headers,"content-type");p&&delete l.headers[p]}break;case"application/x-www-form-urlencoded":{l["form-params"]=o.paramsObj;const p=I(l.headers,"content-type");p&&delete l.headers[p]}break;case"text/plain":{l.body=o.text;const p=I(l.headers,"content-type");p&&delete l.headers[p]}break;case"multipart/form-data":{if(o.params){l.multipart=o.params.map(d=>d.fileName&&!d.value?{name:d.name,content:new tn(d.fileName)}:{name:d.name,content:d.value});const p=I(l.headers,"content-type");p&&delete l.headers[p]}break}}switch(W(l.headers,"accept")){case"application/json":{l.accept=new De("json");const p=I(l.headers,"accept");p&&delete l.headers[p]}break}if(e(`(require '[clj-http.client :as client])
`),pt(et(l)))e(`(client/${r} "${n}")`);else{const p=11+r.length+n.length,d=fe(p,qe(et(l)));e(`(client/${r} "${n}" ${d})`)}return s()}},rn={info:{key:"clojure",title:"Clojure",extname:".clj",default:"clj_http"},clientsById:{clj_http:nn}},sn=t=>{let r=W(t,"accept-encoding");if(!r)return[];const o={gzip:"DecompressionMethods.GZip",deflate:"DecompressionMethods.Deflate"},n=[];return typeof r=="string"&&(r=[r]),r.forEach(i=>{i.split(",").forEach(c=>{const e=/\s*([^;\s]+)/.exec(c);if(e){const s=o[e[1]];s&&n.push(s)}})}),n},on={info:{key:"httpclient",title:"HttpClient",link:"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient",description:".NET Standard HTTP Client"},convert:({allHeaders:t,postData:r,method:o,fullUrl:n},i)=>{var $,T;const c={indent:"    ",...i},{push:e,join:s}=new R({indent:c.indent});e("using System.Net.Http.Headers;");let a="";const l=!!t.cookie,p=sn(t);(l||p.length)&&(a="clientHandler",e("var clientHandler = new HttpClientHandler"),e("{"),l&&e("UseCookies = false,",1),p.length&&e(`AutomaticDecompression = ${p.join(" | ")},`,1),e("};")),e(`var client = new HttpClient(${a});`),e("var request = new HttpRequestMessage"),e("{");const d=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS","TRACE"];o=o.toUpperCase(),o&&d.includes(o)?o=`HttpMethod.${o[0]}${o.substring(1).toLowerCase()}`:o=`new HttpMethod("${o}")`,e(`Method = ${o},`,1),e(`RequestUri = new Uri("${n}"),`,1);const y=Object.keys(t).filter(j=>{switch(j.toLowerCase()){case"content-type":case"content-length":case"accept-encoding":return!1;default:return!0}});if(y.length&&(e("Headers =",1),e("{",1),y.forEach(j=>{e(`{ "${j}", "${U(t[j])}" },`,2)}),e("},",1)),r.text){const j=r.mimeType;switch(j){case"application/x-www-form-urlencoded":e("Content = new FormUrlEncodedContent(new Dictionary<string, string>",1),e("{",1),($=r.params)==null||$.forEach(u=>{e(`{ "${u.name}", "${u.value}" },`,2)}),e("}),",1);break;case"multipart/form-data":e("Content = new MultipartFormDataContent",1),e("{",1),(T=r.params)==null||T.forEach(u=>{e(`new StringContent(${JSON.stringify(u.value||"")})`,2),e("{",2),e("Headers =",3),e("{",3),u.contentType&&e(`ContentType = new MediaTypeHeaderValue("${u.contentType}"),`,4),e('ContentDisposition = new ContentDispositionHeaderValue("form-data")',4),e("{",4),e(`Name = "${u.name}",`,5),u.fileName&&e(`FileName = "${u.fileName}",`,5),e("}",4),e("}",3),e("},",2)}),e("},",1);break;default:e(`Content = new StringContent(${JSON.stringify(r.text||"")})`,1),e("{",1),e("Headers =",2),e("{",2),e(`ContentType = new MediaTypeHeaderValue("${j}")`,3),e("}",2),e("}",1);break}}return e("};"),e("using (var response = await client.SendAsync(request))"),e("{"),e("response.EnsureSuccessStatusCode();",1),e("var body = await response.Content.ReadAsStringAsync();",1),e("Console.WriteLine(body);",1),e("}"),s()}};function an(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()}var cn={info:{key:"restsharp",title:"RestSharp",link:"http://restsharp.org/",description:"Simple REST and HTTP API Client for .NET"},convert:({method:t,fullUrl:r,headersObj:o,cookies:n,postData:i,uriObj:c})=>{const{push:e,join:s}=new R;if(!["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].includes(t.toUpperCase()))return"Method not supported";e(`using RestSharp;

`),e(`var options = new RestClientOptions("${r}");`),e("var client = new RestClient(options);"),e('var request = new RestRequest("");');const l=i.mimeType&&i.mimeType==="multipart/form-data";switch(l&&e("request.AlwaysMultipartFormData = true;"),Object.keys(o).forEach(p=>{if(i.mimeType&&p.toLowerCase()==="content-type"&&i.text){l&&i.boundary&&e(`request.FormBoundary = "${i.boundary}";`);return}e(`request.AddHeader("${p}", "${U(o[p])}");`)}),n.forEach(({name:p,value:d})=>{e(`request.AddCookie("${p}", "${U(d)}", "${c.pathname}", "${c.host}");`)}),i.mimeType){case"multipart/form-data":if(!i.params)break;i.params.forEach(p=>{p.fileName?e(`request.AddFile("${p.name}", "${p.fileName}");`):e(`request.AddParameter("${p.name}", "${p.value}");`)});break;case"application/x-www-form-urlencoded":if(!i.params)break;i.params.forEach(p=>{e(`request.AddParameter("${p.name}", "${p.value}");`)});break;case"application/json":{if(!i.text)break;const p=JSON.stringify(i.text);e(`request.AddJsonBody(${p}, false);`);break}default:if(!i.text)break;e(`request.AddStringBody("${i.text}", "${i.mimeType}");`)}return e(`var response = await client.${an(t)}Async(request);
`),e(`Console.WriteLine("{0}", response.Content);
`),s()}},ln={info:{key:"csharp",title:"C#",extname:".cs",default:"restsharp",cli:"dotnet"},clientsById:{httpclient:on,restsharp:cn}},un={info:{key:"native",title:"NewRequest",link:"http://golang.org/pkg/net/http/#NewRequest",description:"Golang HTTP client request"},convert:({postData:t,method:r,allHeaders:o,fullUrl:n},i={})=>{const{blank:c,push:e,join:s}=new R({indent:"	"}),{showBoilerplate:a=!0,checkErrors:l=!1,printBody:p=!0,timeout:d=-1}=i,y=l?"err":"_",$=a?1:0,T=()=>{l&&(e("if err != nil {",$),e("panic(err)",$+1),e("}",$))};a&&(e("package main"),c(),e("import ("),e('"fmt"',$),d>0&&e('"time"',$),t.text&&e('"strings"',$),e('"net/http"',$),p&&e('"io"',$),e(")"),c(),e("func main() {"),c());const j=d>0,u=j,b=u?"client":"http.DefaultClient";return u&&(e("client := http.Client{",$),j&&e(`Timeout: time.Duration(${d} * time.Second),`,$+1),e("}",$),c()),e(`url := "${n}"`,$),c(),t.text?(e(`payload := strings.NewReader(${JSON.stringify(t.text)})`,$),c(),e(`req, ${y} := http.NewRequest("${r}", url, payload)`,$),c()):(e(`req, ${y} := http.NewRequest("${r}", url, nil)`,$),c()),T(),Object.keys(o).length&&(Object.keys(o).forEach(w=>{e(`req.Header.Add("${w}", "${U(o[w])}")`,$)}),c()),e(`res, ${y} := ${b}.Do(req)`,$),T(),p&&(c(),e("defer res.Body.Close()",$),e(`body, ${y} := io.ReadAll(res.Body)`,$),T()),c(),p&&e("fmt.Println(string(body))",$),a&&(c(),e("}")),s()}},fn={info:{key:"go",title:"Go",extname:".go",default:"native",cli:"go"},clientsById:{native:un}},tt=`\r
`,dn={info:{key:"http1.1",title:"HTTP/1.1",link:"https://tools.ietf.org/html/rfc7230",description:"HTTP/1.1 request string in accordance with RFC 7230"},convert:({method:t,fullUrl:r,uriObj:o,httpVersion:n,allHeaders:i,postData:c},e)=>{const s={absoluteURI:!1,autoContentLength:!0,autoHost:!0,...e},{blank:a,push:l,join:p}=new R({indent:"",join:tt}),d=s.absoluteURI?r:o.path;l(`${t} ${d} ${n}`);const y=Object.keys(i);if(y.forEach(j=>{const u=j.toLowerCase().replace(/(^|-)(\w)/g,b=>b.toUpperCase());l(`${u}: ${i[j]}`)}),s.autoHost&&!y.includes("host")&&l(`Host: ${o.host}`),s.autoContentLength&&c.text&&!y.includes("content-length")){const j=qt.byteLength(c.text,"ascii").toString();l(`Content-Length: ${j}`)}a();const $=p(),T=c.text||"";return`${$}${tt}${T}`}},pn={info:{key:"http",title:"HTTP",extname:null,default:"1.1"},clientsById:{"http1.1":dn}},hn={info:{key:"asynchttp",title:"AsyncHttp",link:"https://github.com/AsyncHttpClient/async-http-client",description:"Asynchronous Http and WebSocket Client library for Java"},convert:({method:t,allHeaders:r,postData:o,fullUrl:n},i)=>{const c={indent:"  ",...i},{blank:e,push:s,join:a}=new R({indent:c.indent});return s("AsyncHttpClient client = new DefaultAsyncHttpClient();"),s(`client.prepare("${t.toUpperCase()}", "${n}")`),Object.keys(r).forEach(l=>{s(`.setHeader("${l}", "${U(r[l])}")`,1)}),o.text&&s(`.setBody(${JSON.stringify(o.text)})`,1),s(".execute()",1),s(".toCompletableFuture()",1),s(".thenAccept(System.out::println)",1),s(".join();",1),e(),s("client.close();"),a()}},mn={info:{key:"nethttp",title:"java.net.http",link:"https://openjdk.java.net/groups/net/httpclient/intro.html",description:"Java Standardized HTTP Client API"},convert:({allHeaders:t,fullUrl:r,method:o,postData:n},i)=>{const c={indent:"  ",...i},{push:e,join:s}=new R({indent:c.indent});return e("HttpRequest request = HttpRequest.newBuilder()"),e(`.uri(URI.create("${r}"))`,2),Object.keys(t).forEach(a=>{e(`.header("${a}", "${U(t[a])}")`,2)}),n.text?e(`.method("${o.toUpperCase()}", HttpRequest.BodyPublishers.ofString(${JSON.stringify(n.text)}))`,2):e(`.method("${o.toUpperCase()}", HttpRequest.BodyPublishers.noBody())`,2),e(".build();",2),e("HttpResponse<String> response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());"),e("System.out.println(response.body());"),s()}},yn={info:{key:"okhttp",title:"OkHttp",link:"http://square.github.io/okhttp/",description:"An HTTP Request Client Library"},convert:({postData:t,method:r,fullUrl:o,allHeaders:n},i)=>{const c={indent:"  ",...i},{push:e,blank:s,join:a}=new R({indent:c.indent}),l=["GET","POST","PUT","DELETE","PATCH","HEAD"],p=["POST","PUT","DELETE","PATCH"];return e("OkHttpClient client = new OkHttpClient();"),s(),t.text&&(t.boundary?e(`MediaType mediaType = MediaType.parse("${t.mimeType}; boundary=${t.boundary}");`):e(`MediaType mediaType = MediaType.parse("${t.mimeType}");`),e(`RequestBody body = RequestBody.create(mediaType, ${JSON.stringify(t.text)});`)),e("Request request = new Request.Builder()"),e(`.url("${o}")`,1),l.includes(r.toUpperCase())?p.includes(r.toUpperCase())?t.text?e(`.${r.toLowerCase()}(body)`,1):e(`.${r.toLowerCase()}(null)`,1):e(`.${r.toLowerCase()}()`,1):t.text?e(`.method("${r.toUpperCase()}", body)`,1):e(`.method("${r.toUpperCase()}", null)`,1),Object.keys(n).forEach(d=>{e(`.addHeader("${d}", "${U(n[d])}")`,1)}),e(".build();",1),s(),e("Response response = client.newCall(request).execute();"),a()}},bn={info:{key:"unirest",title:"Unirest",link:"http://unirest.io/java.html",description:"Lightweight HTTP Request Client Library"},convert:({method:t,allHeaders:r,postData:o,fullUrl:n},i)=>{const c={indent:"  ",...i},{join:e,push:s}=new R({indent:c.indent});return["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].includes(t.toUpperCase())?s(`HttpResponse<String> response = Unirest.${t.toLowerCase()}("${n}")`):s(`HttpResponse<String> response = Unirest.customMethod("${t.toUpperCase()}","${n}")`),Object.keys(r).forEach(l=>{s(`.header("${l}", "${U(r[l])}")`,1)}),o.text&&s(`.body(${JSON.stringify(o.text)})`,1),s(".asString();",1),e()}},gn={info:{key:"java",title:"Java",extname:".java",default:"unirest"},clientsById:{asynchttp:hn,nethttp:mn,okhttp:yn,unirest:bn}},$n={info:{key:"axios",title:"Axios",link:"https://github.com/axios/axios",description:"Promise based HTTP client for the browser and node.js"},convert:({allHeaders:t,method:r,url:o,queryObj:n,postData:i},c)=>{const e={indent:"  ",...c},{blank:s,push:a,join:l,addPostProcessor:p}=new R({indent:e.indent});a("import axios from 'axios';"),s();const d={method:r,url:o};switch(Object.keys(n).length&&(d.params=n),Object.keys(t).length&&(d.headers=t),i.mimeType){case"application/x-www-form-urlencoded":i.params&&(a("const encodedParams = new URLSearchParams();"),i.params.forEach($=>{a(`encodedParams.set('${$.name}', '${$.value}');`)}),s(),d.data="encodedParams,",p($=>$.replace(/'encodedParams,'/,"encodedParams,")));break;case"application/json":i.jsonObj&&(d.data=i.jsonObj);break;case"multipart/form-data":if(!i.params)break;a("const form = new FormData();"),i.params.forEach($=>{a(`form.append('${$.name}', '${$.value||$.fileName||""}');`)}),s(),d.data="[form]";break;default:i.text&&(d.data=i.text)}const y=H(d,{indent:"  ",inlineCharacterLimit:80}).replace('"[form]"',"form");return a(`const options = ${y};`),s(),a("axios"),a(".request(options)",1),a(".then(function (response) {",1),a("console.log(response.data);",2),a("})",1),a(".catch(function (error) {",1),a("console.error(error);",2),a("});",1),l()}},jn={info:{key:"fetch",title:"fetch",link:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch",description:"Perform asynchronous HTTP requests with the Fetch API"},convert:({method:t,allHeaders:r,postData:o,fullUrl:n},i)=>{const c={indent:"  ",credentials:null,...i},{blank:e,join:s,push:a}=new R({indent:c.indent}),l={method:t};switch(Object.keys(r).length&&(l.headers=r),c.credentials!==null&&(l.credentials=c.credentials),o.mimeType){case"application/x-www-form-urlencoded":l.body=o.paramsObj?o.paramsObj:o.text;break;case"application/json":o.jsonObj&&(l.body=o.jsonObj);break;case"multipart/form-data":if(!o.params)break;const p=I(r,"content-type");p&&delete r[p],a("const form = new FormData();"),o.params.forEach(d=>{a(`form.append('${d.name}', '${d.value||d.fileName||""}');`)}),e();break;default:o.text&&(l.body=o.text)}return l.headers&&!Object.keys(l.headers).length&&delete l.headers,a(`const options = ${H(l,{indent:c.indent,inlineCharacterLimit:80,transform:(p,d,y)=>{if(d==="body"){if(o.mimeType==="application/x-www-form-urlencoded")return`new URLSearchParams(${y})`;if(o.mimeType==="application/json")return`JSON.stringify(${y})`}return y}})};`),e(),o.params&&o.mimeType==="multipart/form-data"&&(a("options.body = form;"),e()),a(`fetch('${n}', options)`),a(".then(response => response.json())",1),a(".then(response => console.log(response))",1),a(".catch(err => console.error(err));",1),s()}},Tn={info:{key:"jquery",title:"jQuery",link:"http://api.jquery.com/jquery.ajax/",description:"Perform an asynchronous HTTP (Ajax) requests with jQuery"},convert:({fullUrl:t,method:r,allHeaders:o,postData:n},i)=>{var d;const c={indent:"  ",...i},{blank:e,push:s,join:a}=new R({indent:c.indent}),l={async:!0,crossDomain:!0,url:t,method:r,headers:o};switch(n.mimeType){case"application/x-www-form-urlencoded":l.data=n.paramsObj?n.paramsObj:n.text;break;case"application/json":l.processData=!1,l.data=n.text;break;case"multipart/form-data":if(!n.params)break;if(s("const form = new FormData();"),n.params.forEach(y=>{s(`form.append('${y.name}', '${y.value||y.fileName||""}');`)}),l.processData=!1,l.contentType=!1,l.mimeType="multipart/form-data",l.data="[form]",pe(o,"content-type")&&(d=W(o,"content-type"))!=null&&d.includes("boundary")){const y=I(o,"content-type");y&&delete l.headers[y]}e();break;default:n.text&&(l.data=n.text)}const p=H(l,{indent:c.indent}).replace("'[form]'","form");return s(`const settings = ${p};`),e(),s("$.ajax(settings).done(function (response) {"),s("console.log(response);",1),s("});"),a()}},wn={info:{key:"xhr",title:"XMLHttpRequest",link:"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest",description:"W3C Standard API that provides scripted client functionality"},convert:({postData:t,allHeaders:r,method:o,fullUrl:n},i)=>{var l;const c={indent:"  ",cors:!0,...i},{blank:e,push:s,join:a}=new R({indent:c.indent});switch(t.mimeType){case"application/json":s(`const data = JSON.stringify(${H(t.jsonObj,{indent:c.indent})});`),e();break;case"multipart/form-data":if(!t.params)break;if(s("const data = new FormData();"),t.params.forEach(p=>{s(`data.append('${p.name}', '${p.value||p.fileName||""}');`)}),pe(r,"content-type")&&(l=W(r,"content-type"))!=null&&l.includes("boundary")){const p=I(r,"content-type");p&&delete r[p]}e();break;default:s(`const data = ${t.text?`'${t.text}'`:"null"};`),e()}return s("const xhr = new XMLHttpRequest();"),c.cors&&s("xhr.withCredentials = true;"),e(),s("xhr.addEventListener('readystatechange', function () {"),s("if (this.readyState === this.DONE) {",1),s("console.log(this.responseText);",2),s("}",1),s("});"),e(),s(`xhr.open('${o}', '${n}');`),Object.keys(r).forEach(p=>{s(`xhr.setRequestHeader('${p}', '${ie(r[p])}');`)}),e(),s("xhr.send(data);"),a()}},On={info:{key:"javascript",title:"JavaScript",extname:".js",default:"xhr"},clientsById:{xhr:wn,axios:$n,fetch:jn,jquery:Tn}},Sn={info:{key:"native",title:"Native JSON",link:"https://www.json.org/json-en.html",description:"A JSON represetation of any HAR payload."},convert:({postData:t},r)=>{const o={indent:"  ",...r};let n="";switch(t.mimeType){case"application/x-www-form-urlencoded":n=t.paramsObj?t.paramsObj:t.text;break;case"application/json":t.jsonObj&&(n=t.jsonObj);break;case"multipart/form-data":if(!t.params)break;const i={};t.params.forEach(c=>{i[c.name]=c.value}),n=i;break;default:t.text&&(n=t.text)}return typeof n>"u"||n===""?"No JSON body":JSON.stringify(n,null,o.indent)}},En={info:{key:"json",title:"JSON",extname:".json",default:"native"},clientsById:{native:Sn}},kn={info:{key:"okhttp",title:"OkHttp",link:"http://square.github.io/okhttp/",description:"An HTTP Request Client Library"},convert:({postData:t,fullUrl:r,method:o,allHeaders:n},i)=>{const c={indent:"  ",...i},{blank:e,join:s,push:a}=new R({indent:c.indent}),l=["GET","POST","PUT","DELETE","PATCH","HEAD"],p=["POST","PUT","DELETE","PATCH"];return a("val client = OkHttpClient()"),e(),t.text&&(t.boundary?a(`val mediaType = MediaType.parse("${t.mimeType}; boundary=${t.boundary}")`):a(`val mediaType = MediaType.parse("${t.mimeType}")`),a(`val body = RequestBody.create(mediaType, ${JSON.stringify(t.text)})`)),a("val request = Request.Builder()"),a(`.url("${r}")`,1),l.includes(o.toUpperCase())?p.includes(o.toUpperCase())?t.text?a(`.${o.toLowerCase()}(body)`,1):a(`.${o.toLowerCase()}(null)`,1):a(`.${o.toLowerCase()}()`,1):t.text?a(`.method("${o.toUpperCase()}", body)`,1):a(`.method("${o.toUpperCase()}", null)`,1),Object.keys(n).forEach(d=>{a(`.addHeader("${d}", "${U(n[d])}")`,1)}),a(".build()",1),e(),a("val response = client.newCall(request).execute()"),s()}},Cn={info:{key:"kotlin",title:"Kotlin",extname:".kt",default:"okhttp"},clientsById:{okhttp:kn}},vn={info:{key:"axios",title:"Axios",link:"https://github.com/axios/axios",description:"Promise based HTTP client for the browser and node.js"},convert:({method:t,fullUrl:r,allHeaders:o,postData:n},i)=>{const c={indent:"  ",...i},{blank:e,join:s,push:a,addPostProcessor:l}=new R({indent:c.indent});a("const axios = require('axios');");const p={method:t,url:r};switch(Object.keys(o).length&&(p.headers=o),n.mimeType){case"application/x-www-form-urlencoded":n.params&&(a("const { URLSearchParams } = require('url');"),e(),a("const encodedParams = new URLSearchParams();"),n.params.forEach(y=>{a(`encodedParams.set('${y.name}', '${y.value}');`)}),e(),p.data="encodedParams,",l(y=>y.replace(/'encodedParams,'/,"encodedParams,")));break;case"application/json":e(),n.jsonObj&&(p.data=n.jsonObj);break;default:e(),n.text&&(p.data=n.text)}const d=H(p,{indent:"  ",inlineCharacterLimit:80});return a(`const options = ${d};`),e(),a("axios"),a(".request(options)",1),a(".then(function (response) {",1),a("console.log(response.data);",2),a("})",1),a(".catch(function (error) {",1),a("console.error(error);",2),a("});",1),s()}},xn={info:{key:"fetch",title:"Fetch",link:"https://github.com/bitinn/node-fetch",description:"Simplified HTTP node-fetch client"},convert:({method:t,fullUrl:r,postData:o,headersObj:n,cookies:i},c)=>{var j;const e={indent:"  ",...c};let s=!1;const{blank:a,push:l,join:p,unshift:d}=new R({indent:e.indent});l("const fetch = require('node-fetch');");const y=r,$={method:t};switch(Object.keys(n).length&&($.headers=n),o.mimeType){case"application/x-www-form-urlencoded":d("const { URLSearchParams } = require('url');"),l("const encodedParams = new URLSearchParams();"),a(),(j=o.params)==null||j.forEach(b=>{l(`encodedParams.set('${b.name}', '${b.value}');`)}),$.body="encodedParams";break;case"application/json":o.jsonObj&&($.body=o.jsonObj);break;case"multipart/form-data":if(!o.params)break;const u=I(n,"content-type");u&&delete n[u],d("const FormData = require('form-data');"),l("const formData = new FormData();"),a(),o.params.forEach(b=>{if(!b.fileName&&!b.fileName&&!b.contentType){l(`formData.append('${b.name}', '${b.value}');`);return}b.fileName&&(s=!0,l(`formData.append('${b.name}', fs.createReadStream('${b.fileName}'));`))});break;default:o.text&&($.body=o.text)}if(i.length){const u=i.map(({name:b,value:w})=>`${encodeURIComponent(b)}=${encodeURIComponent(w)}`).join("; ");$.headers||($.headers={}),$.headers.cookie=u}a(),l(`const url = '${y}';`),$.headers&&!Object.keys($.headers).length&&delete $.headers;const T=H($,{indent:"  ",inlineCharacterLimit:80,transform:(u,b,w)=>b==="body"&&o.mimeType==="application/json"?`JSON.stringify(${w})`:w});return l(`const options = ${T};`),a(),s&&d("const fs = require('fs');"),o.params&&o.mimeType==="multipart/form-data"&&(l("options.body = formData;"),a()),l("fetch(url, options)"),l(".then(res => res.json())",1),l(".then(json => console.log(json))",1),l(".catch(err => console.error('error:' + err));",1),p().replace(/'encodedParams'/,"encodedParams").replace(/"fs\.createReadStream\(\\"(.+)\\"\)"/,'fs.createReadStream("$1")')}},Rn={info:{key:"native",title:"HTTP",link:"http://nodejs.org/api/http.html#http_http_request_options_callback",description:"Node.js native HTTP interface"},convert:({uriObj:t,method:r,allHeaders:o,postData:n},i={})=>{var d;const{indent:c="  "}=i,{blank:e,join:s,push:a,unshift:l}=new R({indent:c}),p={method:r,hostname:t.hostname,port:t.port,path:t.path,headers:o};switch(a(`const http = require('${(d=t.protocol)==null?void 0:d.replace(":","")}');`),e(),a(`const options = ${H(p,{indent:c})};`),e(),a("const req = http.request(options, function (res) {"),a("const chunks = [];",1),e(),a("res.on('data', function (chunk) {",1),a("chunks.push(chunk);",2),a("});",1),e(),a("res.on('end', function () {",1),a("const body = Buffer.concat(chunks);",2),a("console.log(body.toString());",2),a("});",1),a("});"),e(),n.mimeType){case"application/x-www-form-urlencoded":n.paramsObj&&(l("const qs = require('querystring');"),a(`req.write(qs.stringify(${H(n.paramsObj,{indent:"  ",inlineCharacterLimit:80})}));`));break;case"application/json":n.jsonObj&&a(`req.write(JSON.stringify(${H(n.jsonObj,{indent:"  ",inlineCharacterLimit:80})}));`);break;default:n.text&&a(`req.write(${H(n.text,{indent:c})});`)}return a("req.end();"),s()}},Nn={info:{key:"request",title:"Request",link:"https://github.com/request/request",description:"Simplified HTTP request client"},convert:({method:t,url:r,fullUrl:o,postData:n,headersObj:i,cookies:c},e)=>{const s={indent:"  ",...e};let a=!1;const{push:l,blank:p,join:d,unshift:y,addPostProcessor:$}=new R({indent:s.indent});l("const request = require('request');"),p();const T={method:t,url:o};switch(Object.keys(i).length&&(T.headers=i),n.mimeType){case"application/x-www-form-urlencoded":T.form=n.paramsObj;break;case"application/json":n.jsonObj&&(T.body=n.jsonObj,T.json=!0);break;case"multipart/form-data":if(!n.params)break;T.formData={},n.params.forEach(j=>{if(!j.fileName&&!j.fileName&&!j.contentType){T.formData[j.name]=j.value;return}let u={};j.fileName?(a=!0,u={value:`fs.createReadStream(${j.fileName})`,options:{filename:j.fileName,contentType:j.contentType?j.contentType:null}}):j.value&&(u.value=j.value),T.formData[j.name]=u}),$(j=>j.replace(/'fs\.createReadStream\((.*)\)'/,"fs.createReadStream('$1')"));break;default:n.text&&(T.body=n.text)}return c.length&&(T.jar="JAR",l("const jar = request.jar();"),c.forEach(({name:j,value:u})=>{l(`jar.setCookie(request.cookie('${encodeURIComponent(j)}=${encodeURIComponent(u)}'), '${r}');`)}),p(),$(j=>j.replace(/'JAR'/,"jar"))),a&&y("const fs = require('fs');"),l(`const options = ${H(T,{indent:"  ",inlineCharacterLimit:80})};`),p(),l("request(options, function (error, response, body) {"),l("if (error) throw new Error(error);",1),p(),l("console.log(body);",1),l("});"),d()}},qn={info:{key:"unirest",title:"Unirest",link:"http://unirest.io/nodejs.html",description:"Lightweight HTTP Request Client Library"},convert:({method:t,url:r,cookies:o,queryObj:n,postData:i,headersObj:c},e)=>{const s={indent:"  ",...e};let a=!1;const{addPostProcessor:l,blank:p,join:d,push:y,unshift:$}=new R({indent:s.indent});switch(y("const unirest = require('unirest');"),p(),y(`const req = unirest('${t}', '${r}');`),p(),o.length&&(y("const CookieJar = unirest.jar();"),o.forEach(T=>{y(`CookieJar.add('${encodeURIComponent(T.name)}=${encodeURIComponent(T.value)}', '${r}');`)}),y("req.jar(CookieJar);"),p()),Object.keys(n).length&&(y(`req.query(${H(n,{indent:s.indent})});`),p()),Object.keys(c).length&&(y(`req.headers(${H(c,{indent:s.indent})});`),p()),i.mimeType){case"application/x-www-form-urlencoded":i.paramsObj&&(y(`req.form(${H(i.paramsObj,{indent:s.indent})});`),p());break;case"application/json":i.jsonObj&&(y("req.type('json');"),y(`req.send(${H(i.jsonObj,{indent:s.indent})});`),p());break;case"multipart/form-data":{if(!i.params)break;const T=[];i.params.forEach(j=>{const u={};j.fileName&&!j.value?(a=!0,u.body=`fs.createReadStream('${j.fileName}')`,l(b=>b.replace(/'fs\.createReadStream\(\\'(.+)\\'\)'/,"fs.createReadStream('$1')"))):j.value&&(u.body=j.value),u.body&&(j.contentType&&(u["content-type"]=j.contentType),T.push(u))}),y(`req.multipart(${H(T,{indent:s.indent})});`),p();break}default:i.text&&(y(`req.send(${H(i.text,{indent:s.indent})});`),p())}return a&&$("const fs = require('fs');"),y("req.end(function (res) {"),y("if (res.error) throw new Error(res.error);",1),p(),y("console.log(res.body);",1),y("});"),d()}},Pn={info:{key:"node",title:"Node.js",extname:".js",default:"native",cli:"node %s"},clientsById:{native:Rn,request:Nn,unirest:qn,axios:vn,fetch:xn}},we=(t,r,o,n)=>{const i=`${t} *${r} = `,c=Pe(o,n?i.length:void 0);return`${i}${c};`},Pe=(t,r)=>{const o=r===void 0?", ":`,
   ${" ".repeat(r)}`;switch(Object.prototype.toString.call(t)){case"[object Number]":return`@${t}`;case"[object Array]":return`@[ ${t.map(i=>Pe(i)).join(o)} ]`;case"[object Object]":{const n=[];return Object.keys(t).forEach(i=>{n.push(`@"${i}": ${Pe(t[i])}`)}),`@{ ${n.join(o)} }`}case"[object Boolean]":return t?"@YES":"@NO";default:return t==null?"":`@"${t.toString().replace(/"/g,'\\"')}"`}},An={info:{key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"},convert:({allHeaders:t,postData:r,method:o,fullUrl:n},i)=>{var p;const c={indent:"    ",pretty:!0,timeout:10,...i},{push:e,join:s,blank:a}=new R({indent:c.indent}),l={hasHeaders:!1,hasBody:!1};if(e("#import <Foundation/Foundation.h>"),Object.keys(t).length&&(l.hasHeaders=!0,a(),e(we("NSDictionary","headers",t,c.pretty))),r.text||r.jsonObj||r.params)switch(l.hasBody=!0,r.mimeType){case"application/x-www-form-urlencoded":if((p=r.params)!=null&&p.length){a();const[d,...y]=r.params;e(`NSMutableData *postData = [[NSMutableData alloc] initWithData:[@"${d.name}=${d.value}" dataUsingEncoding:NSUTF8StringEncoding]];`),y.forEach(({name:$,value:T})=>{e(`[postData appendData:[@"&${$}=${T}" dataUsingEncoding:NSUTF8StringEncoding]];`)})}else l.hasBody=!1;break;case"application/json":r.jsonObj&&(e(we("NSDictionary","parameters",r.jsonObj,c.pretty)),a(),e("NSData *postData = [NSJSONSerialization dataWithJSONObject:parameters options:0 error:nil];"));break;case"multipart/form-data":e(we("NSArray","parameters",r.params||[],c.pretty)),e(`NSString *boundary = @"${r.boundary}";`),a(),e("NSError *error;"),e("NSMutableString *body = [NSMutableString string];"),e("for (NSDictionary *param in parameters) {"),e('[body appendFormat:@"--%@\\r\\n", boundary];',1),e('if (param[@"fileName"]) {',1),e('[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"; filename=\\"%@\\"\\r\\n", param[@"name"], param[@"fileName"]];',2),e('[body appendFormat:@"Content-Type: %@\\r\\n\\r\\n", param[@"contentType"]];',2),e('[body appendFormat:@"%@", [NSString stringWithContentsOfFile:param[@"fileName"] encoding:NSUTF8StringEncoding error:&error]];',2),e("if (error) {",2),e('NSLog(@"%@", error);',3),e("}",2),e("} else {",1),e('[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"\\r\\n\\r\\n", param[@"name"]];',2),e('[body appendFormat:@"%@", param[@"value"]];',2),e("}",1),e("}"),e('[body appendFormat:@"\\r\\n--%@--\\r\\n", boundary];'),e("NSData *postData = [body dataUsingEncoding:NSUTF8StringEncoding];");break;default:a(),e(`NSData *postData = [[NSData alloc] initWithData:[@"${r.text}" dataUsingEncoding:NSUTF8StringEncoding]];`)}return a(),e(`NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"${n}"]`),e("                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy"),e(`                                                   timeoutInterval:${c.timeout.toFixed(1)}];`),e(`[request setHTTPMethod:@"${o}"];`),l.hasHeaders&&e("[request setAllHTTPHeaderFields:headers];"),l.hasBody&&e("[request setHTTPBody:postData];"),a(),e("NSURLSession *session = [NSURLSession sharedSession];"),e("NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request"),e("                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {"),e("                                            if (error) {",1),e('                                            NSLog(@"%@", error);',2),e("                                            } else {",1),e("                                            NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;",2),e('                                            NSLog(@"%@", httpResponse);',2),e("                                            }",1),e("                                            }];"),e("[dataTask resume];"),s()}},_n={info:{key:"objc",title:"Objective-C",extname:".m",default:"nsurlsession"},clientsById:{nsurlsession:An}},Un={info:{key:"cohttp",title:"CoHTTP",link:"https://github.com/mirage/ocaml-cohttp",description:"Cohttp is a very lightweight HTTP server using Lwt or Async for OCaml"},convert:({fullUrl:t,allHeaders:r,postData:o,method:n},i)=>{const c={indent:"  ",...i},e=["get","post","head","delete","patch","put","options"],{push:s,blank:a,join:l}=new R({indent:c.indent});s("open Cohttp_lwt_unix"),s("open Cohttp"),s("open Lwt"),a(),s(`let uri = Uri.of_string "${t}" in`);const p=Object.keys(r);p.length===1?s(`let headers = Header.add (Header.init ()) "${p[0]}" "${U(r[p[0]])}" in`):p.length>1&&(s("let headers = Header.add_list (Header.init ()) ["),p.forEach(T=>{s(`("${T}", "${U(r[T])}");`,1)}),s("] in")),o.text&&s(`let body = Cohttp_lwt_body.of_string ${JSON.stringify(o.text)} in`),a();const d=p.length?"~headers ":"",y=o.text?"~body ":"",$=e.includes(n.toLowerCase())?`\`${n.toUpperCase()}`:`(Code.method_of_string "${n}")`;return s(`Client.call ${d}${y}${$} uri`),s(">>= fun (res, body_stream) ->"),s("(* Do stuff with the result *)",1),l()}},Ln={info:{key:"ocaml",title:"OCaml",extname:".ml",default:"cohttp"},clientsById:{cohttp:Un}},P=(t,r,o)=>{switch(o=o||"",r=r||"",Object.prototype.toString.call(t)){case"[object Boolean]":return t;case"[object Null]":return"null";case"[object Undefined]":return"null";case"[object String]":return`'${oe(t,{delimiter:"'",escapeNewlines:!1})}'`;case"[object Number]":return t.toString();case"[object Array]":{const n=t.map(i=>P(i,`${r}${r}`,r)).join(`,
${r}`);return`[
${r}${n}
${o}]`}case"[object Object]":{const n=[];for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.push(`${P(i,r)} => ${P(t[i],`${r}${r}`,r)}`);return`[
${r}${n.join(`,
${r}`)}
${o}]`}default:return"null"}},nt=["ACL","BASELINE_CONTROL","CHECKIN","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LABEL","LOCK","MERGE","MKACTIVITY","MKCOL","MKWORKSPACE","MOVE","OPTIONS","POST","PROPFIND","PROPPATCH","PUT","REPORT","TRACE","UNCHECKOUT","UNLOCK","UPDATE","VERSION_CONTROL"],Hn={info:{key:"curl",title:"cURL",link:"http://php.net/manual/en/book.curl.php",description:"PHP with ext-curl"},convert:({uriObj:t,postData:r,fullUrl:o,method:n,httpVersion:i,cookies:c,headersObj:e},s={})=>{const{closingTag:a=!1,indent:l="  ",maxRedirects:p=10,namedErrors:d=!1,noTags:y=!1,shortTags:$=!1,timeout:T=30}=s,{push:j,blank:u,join:b}=new R({indent:l});y||(j($?"<?":"<?php"),u()),j("$curl = curl_init();"),u();const w=[{escape:!0,name:"CURLOPT_PORT",value:t.port},{escape:!0,name:"CURLOPT_URL",value:o},{escape:!1,name:"CURLOPT_RETURNTRANSFER",value:"true"},{escape:!0,name:"CURLOPT_ENCODING",value:""},{escape:!1,name:"CURLOPT_MAXREDIRS",value:p},{escape:!1,name:"CURLOPT_TIMEOUT",value:T},{escape:!1,name:"CURLOPT_HTTP_VERSION",value:i==="HTTP/1.0"?"CURL_HTTP_VERSION_1_0":"CURL_HTTP_VERSION_1_1"},{escape:!0,name:"CURLOPT_CUSTOMREQUEST",value:n},{escape:!r.jsonObj,name:"CURLOPT_POSTFIELDS",value:r?r.jsonObj?`json_encode(${P(r.jsonObj,l.repeat(2),l)})`:r.text:void 0}];j("curl_setopt_array($curl, [");const E=new R({indent:l,join:`
${l}`});w.forEach(({value:q,name:F,escape:G})=>{q!=null&&E.push(`${F} => ${G?JSON.stringify(q):q},`)});const N=c.map(q=>`${encodeURIComponent(q.name)}=${encodeURIComponent(q.value)}`);N.length&&E.push(`CURLOPT_COOKIE => "${N.join("; ")}",`);const C=Object.keys(e).sort().map(q=>`"${q}: ${U(e[q])}"`);return C.length&&(E.push("CURLOPT_HTTPHEADER => ["),E.push(C.join(`,
${l}${l}`),1),E.push("],")),j(E.join(),1),j("]);"),u(),j("$response = curl_exec($curl);"),j("$err = curl_error($curl);"),u(),j("curl_close($curl);"),u(),j("if ($err) {"),j(d?'echo array_flip(get_defined_constants(true)["curl"])[$err];':'echo "cURL Error #:" . $err;',1),j("} else {"),j("echo $response;",1),j("}"),!y&&a&&(u(),j("?>")),b()}},In={info:{key:"guzzle",title:"Guzzle",link:"http://docs.guzzlephp.org/en/stable/",description:"PHP with Guzzle"},convert:({postData:t,fullUrl:r,method:o,cookies:n,headersObj:i},c)=>{var j;const e={closingTag:!1,indent:"  ",noTags:!1,shortTags:!1,...c},{push:s,blank:a,join:l}=new R({indent:e.indent}),{code:p,push:d,join:y}=new R({indent:e.indent});switch(e.noTags||s(e.shortTags?"<?":"<?php"),s("require_once('vendor/autoload.php');"),a(),t.mimeType){case"application/x-www-form-urlencoded":d(`'form_params' => ${P(t.paramsObj,e.indent+e.indent,e.indent)},`,1);break;case"multipart/form-data":{const u=[];if(t.params&&t.params.forEach(b=>{if(b.fileName){const w={name:b.name,filename:b.fileName,contents:b.value};b.contentType&&(w.headers={"Content-Type":b.contentType}),u.push(w)}else b.value&&u.push({name:b.name,contents:b.value})}),u.length&&(d(`'multipart' => ${P(u,e.indent+e.indent,e.indent)}`,1),pe(i,"content-type")&&(j=W(i,"content-type"))!=null&&j.indexOf("boundary"))){const b=I(i,"content-type");b&&delete i[b]}break}default:t.text&&d(`'body' => ${P(t.text)},`,1)}const $=Object.keys(i).sort().map(function(u){return`${e.indent}${e.indent}'${u}' => '${ie(i[u])}',`}),T=n.map(u=>`${encodeURIComponent(u.name)}=${encodeURIComponent(u.value)}`).join("; ");return T.length&&$.push(`${e.indent}${e.indent}'cookie' => '${ie(T)}',`),$.length&&(d("'headers' => [",1),d($.join(`
`)),d("],",1)),s("$client = new \\GuzzleHttp\\Client();"),a(),p.length?(s(`$response = $client->request('${o}', '${r}', [`),s(y()),s("]);")):s(`$response = $client->request('${o}', '${r}');`),a(),s("echo $response->getBody();"),!e.noTags&&e.closingTag&&(a(),s("?>")),l()}},Bn={info:{key:"http1",title:"HTTP v1",link:"http://php.net/manual/en/book.http.php",description:"PHP with pecl/http v1"},convert:({method:t,url:r,postData:o,queryObj:n,headersObj:i,cookiesObj:c},e={})=>{const{closingTag:s=!1,indent:a="  ",noTags:l=!1,shortTags:p=!1}=e,{push:d,blank:y,join:$}=new R({indent:a});switch(l||(d(p?"<?":"<?php"),y()),nt.includes(t.toUpperCase())||d(`HttpRequest::methodRegister('${t}');`),d("$request = new HttpRequest();"),d(`$request->setUrl(${P(r)});`),nt.includes(t.toUpperCase())?d(`$request->setMethod(HTTP_METH_${t.toUpperCase()});`):d(`$request->setMethod(HttpRequest::HTTP_METH_${t.toUpperCase()});`),y(),Object.keys(n).length&&(d(`$request->setQueryData(${P(n,a)});`),y()),Object.keys(i).length&&(d(`$request->setHeaders(${P(i,a)});`),y()),Object.keys(c).length&&(d(`$request->setCookies(${P(c,a)});`),y()),o.mimeType){case"application/x-www-form-urlencoded":d(`$request->setContentType(${P(o.mimeType)});`),d(`$request->setPostFields(${P(o.paramsObj,a)});`),y();break;case"application/json":d(`$request->setContentType(${P(o.mimeType)});`),d(`$request->setBody(json_encode(${P(o.jsonObj,a)}));`),y();break;default:o.text&&(d(`$request->setBody(${P(o.text)});`),y())}return d("try {"),d("$response = $request->send();",1),y(),d("echo $response->getBody();",1),d("} catch (HttpException $ex) {"),d("echo $ex;",1),d("}"),!l&&s&&(y(),d("?>")),$()}},Fn={info:{key:"http2",title:"HTTP v2",link:"http://devel-m6w6.rhcloud.com/mdref/http",description:"PHP with pecl/http v2"},convert:({postData:t,headersObj:r,method:o,queryObj:n,cookiesObj:i,url:c},e={})=>{var j;const{closingTag:s=!1,indent:a="  ",noTags:l=!1,shortTags:p=!1}=e,{push:d,blank:y,join:$}=new R({indent:a});let T=!1;switch(l||(d(p?"<?":"<?php"),y()),d("$client = new http\\Client;"),d("$request = new http\\Client\\Request;"),y(),t.mimeType){case"application/x-www-form-urlencoded":d("$body = new http\\Message\\Body;"),d(`$body->append(new http\\QueryString(${P(t.paramsObj,a)}));`),y(),T=!0;break;case"multipart/form-data":{if(!t.params)break;const u=[],b={};t.params.forEach(({name:N,fileName:C,value:q,contentType:F})=>{if(C){u.push({name:N,type:F,file:C,data:q});return}q&&(b[N]=q)});const w=Object.keys(b).length?P(b,a):"null",E=u.length?P(u,a):"null";if(d("$body = new http\\Message\\Body;"),d(`$body->addForm(${w}, ${E});`),pe(r,"content-type")&&(j=W(r,"content-type"))!=null&&j.indexOf("boundary")){const N=I(r,"content-type");N&&delete r[N]}y(),T=!0;break}case"application/json":d("$body = new http\\Message\\Body;"),d(`$body->append(json_encode(${P(t.jsonObj,a)}));`),T=!0;break;default:t.text&&(d("$body = new http\\Message\\Body;"),d(`$body->append(${P(t.text)});`),y(),T=!0)}return d(`$request->setRequestUrl(${P(c)});`),d(`$request->setRequestMethod(${P(o)});`),T&&(d("$request->setBody($body);"),y()),Object.keys(n).length&&(d(`$request->setQuery(new http\\QueryString(${P(n,a)}));`),y()),Object.keys(r).length&&(d(`$request->setHeaders(${P(r,a)});`),y()),Object.keys(i).length&&(y(),d(`$client->setCookies(${P(i,a)});`),y()),d("$client->enqueue($request)->send();"),d("$response = $client->getResponse();"),y(),d("echo $response->getBody();"),!l&&s&&(y(),d("?>")),$()}},Mn={info:{key:"php",title:"PHP",extname:".php",default:"curl",cli:"php %s"},clientsById:{curl:Hn,guzzle:In,http1:Bn,http2:Fn}},ht=t=>({method:o,headersObj:n,cookies:i,uriObj:c,fullUrl:e,postData:s,allHeaders:a})=>{const{push:l,join:p}=new R;if(!["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].includes(o.toUpperCase()))return"Method not supported";const y=[],$=Object.keys(n);return $.length&&(l("$headers=@{}"),$.forEach(T=>{T!=="connection"&&l(`$headers.Add("${T}", "${oe(n[T],{escapeChar:"`"})}")`)}),y.push("-Headers $headers")),i.length&&(l("$session = New-Object Microsoft.PowerShell.Commands.WebRequestSession"),i.forEach(T=>{l("$cookie = New-Object System.Net.Cookie"),l(`$cookie.Name = '${T.name}'`),l(`$cookie.Value = '${T.value}'`),l(`$cookie.Domain = '${c.host}'`),l("$session.Cookies.Add($cookie)")}),y.push("-WebSession $session")),s.text&&(y.push(`-ContentType '${oe(W(a,"content-type"),{delimiter:"'",escapeChar:"`"})}'`),y.push(`-Body '${s.text}'`)),l(`$response = ${t} -Uri '${e}' -Method ${o} ${y.join(" ")}`.trim()),p()},Jn={info:{key:"restmethod",title:"Invoke-RestMethod",link:"https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-RestMethod",description:"Powershell Invoke-RestMethod client"},convert:ht("Invoke-RestMethod")},Vn={info:{key:"webrequest",title:"Invoke-WebRequest",link:"https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-WebRequest",description:"Powershell Invoke-WebRequest client"},convert:ht("Invoke-WebRequest")},zn={info:{key:"powershell",title:"Powershell",extname:".ps1",default:"webrequest"},clientsById:{webrequest:Vn,restmethod:Jn}};function rt(t,r,o,n,i){const c=n.repeat(i),e=n.repeat(i-1),s=o?`,
${c}`:", ",a=t==="object"?"{":"[",l=t==="object"?"}":"]";return o?`${a}
${c}${r.join(s)}
${e}${l}`:t==="object"&&r.length>0?`${a} ${r.join(s)} ${l}`:`${a}${r.join(s)}${l}`}var D=(t,r,o)=>{switch(o=o===void 0?1:o+1,Object.prototype.toString.call(t)){case"[object Number]":return t;case"[object Array]":{let n=!1;const i=t.map(c=>(Object.prototype.toString.call(c)==="[object Object]"&&(n=Object.keys(c).length>1),D(c,r,o)));return rt("array",i,n,r.indent,o)}case"[object Object]":{const n=[];for(const i in t)n.push(`"${i}": ${D(t[i],r,o)}`);return rt("object",n,r.pretty&&n.length>1,r.indent,o)}case"[object Null]":return"None";case"[object Boolean]":return t?"True":"False";default:return t==null?"":`"${t.toString().replace(/"/g,'\\"')}"`}},Wn=["HEAD","GET","POST","PUT","PATCH","DELETE","OPTIONS"],Gn={info:{key:"requests",title:"Requests",link:"http://docs.python-requests.org/en/latest/api/#requests.request",description:"Requests HTTP library"},convert:({fullUrl:t,postData:r,allHeaders:o,method:n},i)=>{const c={indent:"    ",pretty:!0,...i},{push:e,blank:s,join:a,addPostProcessor:l}=new R({indent:c.indent});e("import requests"),s(),e(`url = "${t}"`),s();const p=o;let d={};const y={};let $=!1,T=!1,j=!1;switch(r.mimeType){case"application/json":r.jsonObj&&(e(`payload = ${D(r.jsonObj,c)}`),j=!0,T=!0);break;case"multipart/form-data":if(!r.params)break;if(d={},r.params.forEach(w=>{w.fileName?(w.contentType?y[w.name]=`('${w.fileName}', open('${w.fileName}', 'rb'), '${w.contentType}')`:y[w.name]=`('${w.fileName}', open('${w.fileName}', 'rb'))`,$=!0):(d[w.name]=w.value,T=!0)}),$){e(`files = ${D(y,c)}`),T&&e(`payload = ${D(d,c)}`);const w=I(p,"content-type");w&&delete p[w]}else{const w=JSON.stringify(r.text);w&&(e(`payload = ${w}`),T=!0)}l(w=>w.replace(/"\('(.+)', open\('(.+)', 'rb'\)\)"/g,'("$1", open("$2", "rb"))').replace(/"\('(.+)', open\('(.+)', 'rb'\), '(.+)'\)"/g,'("$1", open("$2", "rb"), "$3")'));break;default:{if(r.mimeType==="application/x-www-form-urlencoded"&&r.paramsObj){e(`payload = ${D(r.paramsObj,c)}`),T=!0;break}const w=JSON.stringify(r.text);w&&(e(`payload = ${w}`),T=!0)}}const u=Object.keys(p).length;if(u===0&&(T||$))s();else if(u===1)Object.keys(p).forEach(w=>{e(`headers = {"${w}": "${U(p[w])}"}`),s()});else if(u>1){let w=1;e("headers = {"),Object.keys(p).forEach(E=>{e(w!==u?`"${E}": "${U(p[E])}",`:`"${E}": "${U(p[E])}"`,1),w+=1}),e("}"),s()}let b=Wn.includes(n)?`response = requests.${n.toLowerCase()}(url`:`response = requests.request("${n}", url`;return T&&(j?b+=", json=payload":b+=", data=payload"),$&&(b+=", files=files"),u>0&&(b+=", headers=headers"),b+=")",e(b),s(),e("print(response.text)"),a()}},Kn={info:{key:"python",title:"Python",extname:".py",default:"requests",cli:"python3 %s"},clientsById:{requests:Gn}},Qn={info:{key:"httr",title:"httr",link:"https://cran.r-project.org/web/packages/httr/vignettes/quickstart.html",description:"httr: Tools for Working with URLs and HTTP"},convert:({url:t,queryObj:r,queryString:o,postData:n,allHeaders:i,method:c})=>{const{push:e,blank:s,join:a}=new R;e("library(httr)"),s(),e(`url <- "${t}"`),s();const l=r;delete r.key;const p=Object.keys(l).length;o.length===1?(e(`queryString <- list(${Object.keys(l)} = "${Object.values(l).toString()}")`),s()):o.length>1&&(e("queryString <- list("),Object.keys(l).forEach((C,q)=>{q!==p-1?e(`  ${C} = "${l[C].toString()}",`):e(`  ${C} = "${l[C].toString()}"`)}),e(")"),s());const d=JSON.stringify(n.text);if(d&&(e(`payload <- ${d}`),s()),n.text||n.jsonObj||n.params)switch(n.mimeType){case"application/x-www-form-urlencoded":e('encode <- "form"'),s();break;case"application/json":e('encode <- "json"'),s();break;case"multipart/form-data":e('encode <- "multipart"'),s();break;default:e('encode <- "raw"'),s();break}const y=W(i,"cookie"),$=W(i,"accept"),T=y?`set_cookies(\`${String(y).replace(/;/g,'", `').replace(/` /g,"`").replace(/[=]/g,'` = "')}")`:void 0,j=$?`accept("${U($)}")`:void 0,u=`content_type("${U(n.mimeType)}")`,b=Object.entries(i).filter(([C])=>!["cookie","accept","content-type"].includes(C.toLowerCase())).map(([C,q])=>`'${C}' = '${ie(q)}'`).join(", "),w=b?`add_headers(${b})`:void 0;let E=`response <- VERB("${c}", url`;d&&(E+=", body = payload"),o.length&&(E+=", query = queryString");const N=[w,u,j,T].filter(C=>!!C).join(", ");return N&&(E+=`, ${N}`),(n.text||n.jsonObj||n.params)&&(E+=", encode = encode"),E+=")",e(E),s(),e('content(response, "text")'),a()}},Yn={info:{key:"r",title:"R",extname:".r",default:"httr"},clientsById:{httr:Qn}},Xn={info:{key:"native",title:"net::http",link:"http://ruby-doc.org/stdlib-2.2.1/libdoc/net/http/rdoc/Net/HTTP.html",description:"Ruby HTTP client"},convert:({uriObj:t,method:r,fullUrl:o,postData:n,allHeaders:i})=>{const{push:c,blank:e,join:s}=new R;c("require 'uri'"),c("require 'net/http'"),e();const a=r.toUpperCase(),l=["GET","POST","HEAD","DELETE","PATCH","PUT","OPTIONS","COPY","LOCK","UNLOCK","MOVE","TRACE"],p=a.charAt(0)+a.substring(1).toLowerCase();l.includes(a)||(c(`class Net::HTTP::${p} < Net::HTTPRequest`),c(`  METHOD = '${a.toUpperCase()}'`),c(`  REQUEST_HAS_BODY = '${n.text?"true":"false"}'`),c("  RESPONSE_HAS_BODY = true"),c("end"),e()),c(`url = URI("${o}")`),e(),c("http = Net::HTTP.new(url.host, url.port)"),t.protocol==="https:"&&c("http.use_ssl = true"),e(),c(`request = Net::HTTP::${p}.new(url)`);const d=Object.keys(i);return d.length&&d.forEach(y=>{c(`request["${y}"] = '${ie(i[y])}'`)}),n.text&&c(`request.body = ${JSON.stringify(n.text)}`),e(),c("response = http.request(request)"),c("puts response.read_body"),s()}},Zn={info:{key:"ruby",title:"Ruby",extname:".rb",default:"native"},clientsById:{native:Xn}},L=(t="")=>/^[a-z0-9-_/.@%^=:]+$/i.test(t)?t:`'${t.replace(/'/g,"'\\''")}'`,Dn=t=>t.replace(/\r/g,"\\r").replace(/\n/g,"\\n"),er={"http1.0":"0","url ":"",cookie:"b",data:"d",form:"F",globoff:"g",header:"H",insecure:"k",request:"X"},tr=t=>r=>{if(t){const o=er[r];return o?`-${o}`:""}return`--${r}`},nr={info:{key:"curl",title:"cURL",link:"http://curl.haxx.se/",description:"cURL is a command line tool and library for transferring data with URL syntax"},convert:({fullUrl:t,method:r,httpVersion:o,headersObj:n,allHeaders:i,postData:c},e={})=>{var u;const{indent:s="  ",short:a=!1,binary:l=!1,globOff:p=!1}=e,d="  ",{push:y,join:$}=new R({...typeof s=="string"?{indent:s}:{},join:s!==!1?` \\
${s}`:" "}),T=tr(a);let j=L(t);if(y(`curl ${T("request")} ${r}`),p&&(j=unescape(j),y(T("globoff"))),y(`${T("url ")}${j}`),o==="HTTP/1.0"&&y(T("http1.0")),W(i,"accept-encoding")&&y("--compressed"),c.mimeType==="multipart/form-data"){const b=I(n,"content-type");if(b){const w=n[b];if(b&&w){const E=String(w).replace(/; boundary.+?(?=(;|$))/,"");n[b]=E,i[b]=E}}}switch(Object.keys(n).sort().forEach(b=>{const w=`${b}: ${n[b]}`;y(`${T("header")} ${L(w)}`)}),i.cookie&&y(`${T("cookie")} ${L(i.cookie)}`),c.mimeType){case"multipart/form-data":(u=c.params)==null||u.forEach(w=>{let E="";w.fileName?E=`${w.name}=@${w.fileName}`:E=`${w.name}=${w.value}`,y(`${T("form")} ${L(E)}`)});break;case"application/x-www-form-urlencoded":c.params?c.params.forEach(w=>{const E=w.name,N=encodeURIComponent(w.name),C=N!==E;y(`${l?"--data-binary":`--data${C?"-urlencode":""}`} ${L(`${C?N:E}=${w.value}`)}`)}):y(`${l?"--data-binary":T("data")} ${L(c.text)}`);break;default:if(!c.text)break;let b=!1;if(en(c.mimeType)&&c.text.length>20)try{const w=JSON.parse(c.text);b=!0,c.text.indexOf("'")>0?y(`${l?"--data-binary":T("data")} @- <<EOF
${JSON.stringify(w,null,d)}
EOF`):y(`${l?"--data-binary":T("data")} '
${JSON.stringify(w,null,d)}
'`)}catch{}b||y(`${l?"--data-binary":T("data")} ${L(c.text)}`)}return $()}},rr={info:{key:"httpie",title:"HTTPie",link:"http://httpie.org/",description:"a CLI, cURL-like tool for humans"},convert:({allHeaders:t,postData:r,queryObj:o,fullUrl:n,method:i,url:c},e)=>{const s={body:!1,cert:!1,headers:!1,indent:"  ",pretty:!1,print:!1,queryParams:!1,short:!1,style:!1,timeout:!1,verbose:!1,verify:!1,...e},{push:a,join:l,unshift:p}=new R({indent:s.indent,join:s.indent!==!1?` \\
${s.indent}`:" "});let d=!1;const y=[];s.headers&&y.push(s.short?"-h":"--headers"),s.body&&y.push(s.short?"-b":"--body"),s.verbose&&y.push(s.short?"-v":"--verbose"),s.print&&y.push(`${s.short?"-p":"--print"}=${s.print}`),s.verify&&y.push(`--verify=${s.verify}`),s.cert&&y.push(`--cert=${s.cert}`),s.pretty&&y.push(`--pretty=${s.pretty}`),s.style&&y.push(`--style=${s.style}`),s.timeout&&y.push(`--timeout=${s.timeout}`),s.queryParams&&Object.keys(o).forEach(T=>{const j=o[T];Array.isArray(j)?j.forEach(u=>{a(`${T}==${L(u)}`)}):a(`${T}==${L(j)}`)}),Object.keys(t).sort().forEach(T=>{a(`${T}:${L(t[T])}`)}),r.mimeType==="application/x-www-form-urlencoded"?r.params&&r.params.length&&(y.push(s.short?"-f":"--form"),r.params.forEach(T=>{a(`${T.name}=${L(T.value)}`)})):d=!0;const $=y.length?`${y.join(" ")} `:"";if(c=L(s.queryParams?c:n),p(`http ${$}${i} ${c}`),d&&r.text){const T=L(r.text);p(`echo ${T} | `)}return l()}},sr={info:{key:"wget",title:"Wget",link:"https://www.gnu.org/software/wget/",description:"a free software package for retrieving files using HTTP, HTTPS"},convert:({method:t,postData:r,allHeaders:o,fullUrl:n},i)=>{const c={indent:"  ",short:!1,verbose:!1,...i},{push:e,join:s}=new R({...typeof c.indent=="string"?{indent:c.indent}:{},join:c.indent!==!1?` \\
${c.indent}`:" "});return c.verbose?e(`wget ${c.short?"-v":"--verbose"}`):e(`wget ${c.short?"-q":"--quiet"}`),e(`--method ${L(t)}`),Object.keys(o).forEach(a=>{const l=`${a}: ${o[a]}`;e(`--header ${L(l)}`)}),r.text&&e(`--body-data ${Dn(L(r.text))}`),e(c.short?"-O":"--output-document"),e(`- ${L(n)}`),s()}},or={info:{key:"shell",title:"Shell",extname:".sh",default:"curl",cli:"%s"},clientsById:{curl:nr,httpie:rr,wget:sr}},st=(t,r)=>r.repeat(t),ot=(t,r,o,n)=>{const i=st(n,o),c=st(n-1,o),e=r?`,
${i}`:", ";return r?`[
${i}${t.join(e)}
${c}]`:`[${t.join(e)}]`},Oe=(t,r,o)=>`let ${t} = ${Ae(r,o)}`,Ae=(t,r,o)=>{switch(o=o===void 0?1:o+1,Object.prototype.toString.call(t)){case"[object Number]":return t;case"[object Array]":{let n=!1;const i=t.map(c=>(Object.prototype.toString.call(c)==="[object Object]"&&(n=Object.keys(c).length>1),Ae(c,r,o)));return ot(i,n,r.indent,o)}case"[object Object]":{const n=[];for(const i in t)n.push(`"${i}": ${Ae(t[i],r,o)}`);return ot(n,r.pretty&&n.length>1,r.indent,o)}case"[object Boolean]":return t.toString();default:return t==null?"":`"${t.toString().replace(/"/g,'\\"')}"`}},ir={info:{key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"},convert:({allHeaders:t,postData:r,fullUrl:o,method:n},i)=>{var p;const c={indent:"  ",pretty:!0,timeout:"10",...i},{push:e,blank:s,join:a}=new R({indent:c.indent}),l={hasHeaders:!1,hasBody:!1};if(e("import Foundation"),Object.keys(t).length&&(l.hasHeaders=!0,s(),e(Oe("headers",t,c))),r.text||r.jsonObj||r.params)switch(l.hasBody=!0,r.mimeType){case"application/x-www-form-urlencoded":if(s(),(p=r.params)!=null&&p.length){const[d,...y]=r.params;e(`let postData = NSMutableData(data: "${d.name}=${d.value}".data(using: String.Encoding.utf8)!)`),y.forEach(({name:$,value:T})=>{e(`postData.append("&${$}=${T}".data(using: String.Encoding.utf8)!)`)})}else l.hasBody=!1;break;case"application/json":r.jsonObj&&(e(`${Oe("parameters",r.jsonObj,c)} as [String : Any]`),s(),e("let postData = JSONSerialization.data(withJSONObject: parameters, options: [])"));break;case"multipart/form-data":e(Oe("parameters",r.params,c)),s(),e(`let boundary = "${r.boundary}"`),s(),e('var body = ""'),e("var error: NSError? = nil"),e("for param in parameters {"),e('let paramName = param["name"]!',1),e('body += "--\\(boundary)\\r\\n"',1),e('body += "Content-Disposition:form-data; name=\\"\\(paramName)\\""',1),e('if let filename = param["fileName"] {',1),e('let contentType = param["content-type"]!',2),e("let fileContent = String(contentsOfFile: filename, encoding: String.Encoding.utf8)",2),e("if (error != nil) {",2),e("print(error as Any)",3),e("}",2),e('body += "; filename=\\"\\(filename)\\"\\r\\n"',2),e('body += "Content-Type: \\(contentType)\\r\\n\\r\\n"',2),e("body += fileContent",2),e('} else if let paramValue = param["value"] {',1),e('body += "\\r\\n\\r\\n\\(paramValue)"',2),e("}",1),e("}");break;default:s(),e(`let postData = NSData(data: "${r.text}".data(using: String.Encoding.utf8)!)`)}return s(),e(`let request = NSMutableURLRequest(url: NSURL(string: "${o}")! as URL,`),e("                                        cachePolicy: .useProtocolCachePolicy,"),e(`                                    timeoutInterval: ${parseInt(c.timeout,10).toFixed(1)})`),e(`request.httpMethod = "${n}"`),l.hasHeaders&&e("request.allHTTPHeaderFields = headers"),l.hasBody&&e("request.httpBody = postData as Data"),s(),e("let session = URLSession.shared"),e("let dataTask = session.dataTask(with: request as URLRequest, completionHandler: { (data, response, error) -> Void in"),e("if (error != nil) {",1),e("print(error as Any)",2),e("} else {",1),e("let httpResponse = response as? HTTPURLResponse",2),e("print(httpResponse)",2),e("}",1),e("})"),s(),e("dataTask.resume()"),a()}},ar={info:{key:"swift",title:"Swift",extname:".swift",default:"nsurlsession"},clientsById:{nsurlsession:ir}},mt={c:Dt,clojure:rn,csharp:ln,go:fn,http:pn,java:gn,javascript:On,json:En,kotlin:Cn,node:Pn,objc:_n,ocaml:Ln,php:Mn,powershell:zn,python:Kn,r:Yn,ruby:Zn,shell:or,swift:ar},Se=_t(),Ee,it;function cr(){return it||(it=1,Ee=typeof self=="object"?self.FormData:window.FormData),Ee}var lr=cr();const ur=Ue(lr);var ke,at;function fr(){if(at)return ke;at=1;var t=Pt().Stream;return ke=function(r,o){var n=new t,i=0,c=0,e=!1,s=!1,a=!1,l=0,p=!1;o=o||{};var d=o.failures?"failure":"error",y={};n.writable=!0,n.readable=!0;function $(b,w){var E=l+1;if(w===E?(b!==void 0&&n.emit.apply(n,["data",b]),l++,E++):y[w]=b,y.hasOwnProperty(E)){var N=y[E];return delete y[E],$(N,E)}c++,i===c&&(s&&(s=!1,n.emit("drain")),e&&u())}function T(b,w,E){a||(p=!0,(!b||o.failures)&&$(w,E),b&&n.emit.apply(n,[d,b]),p=!1)}function j(b,w,E){return r.call(null,b,function(N,C){E(N,C,w)})}n.write=function(b){if(e)throw new Error("map stream is not writable");p=!1,i++;try{var w=j(b,i,T);return s=w===!1,!s}catch(E){if(p)throw E;return T(E),!s}};function u(b){if(e=!0,n.writable=!1,b!==void 0)return $(b,i);i==c&&(n.readable=!1,n.emit("end"),n.destroy())}return n.end=function(b){e||u(b)},n.destroy=function(){e=a=!0,n.writable=n.readable=s=!1,z.nextTick(function(){n.emit("close")})},n.pause=function(){s=!0},n.resume=function(){s=!1},n},ke}var dr=fr();const pr=Ue(dr);var se=`\r
`,_e="-".repeat(2),hr=Symbol.toStringTag,He=t=>typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[hr]),mr=t=>`${_e}${t}${_e}${se.repeat(2)}`,yr=(t,r,o)=>{let n="";return n+=`${_e}${t}${se}`,n+=`Content-Disposition: form-data; name="${r}"`,He(o)&&(n+=`; filename="${o.name}"${se}`,n+=`Content-Type: ${o.type||"application/octet-stream"}`),`${n}${se.repeat(2)}`},br=function*(t,r){for(const[o,n]of t)yield yr(r,o,n),He(n)?yield*n.stream():yield n,yield se;yield mr(r)},gr=t=>typeof t=="object"&&"log"in t&&typeof t.log=="object"&&"entries"in t.log&&Array.isArray(t.log.entries),$r=class{constructor(t,r={}){this.requests=[],this.prepare=(i,c)=>{var T,j,u;const e={...i,fullUrl:"",uriObj:{},queryObj:{},headersObj:{},cookiesObj:{},allHeaders:{}};if(e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(We,{})),e.headers&&e.headers.length){const b=/^HTTP\/2/;e.headersObj=e.headers.reduce((w,{name:E,value:N})=>{const C=b.exec(e.httpVersion)?E.toLocaleLowerCase():E;return{...w,[C]:N}},{})}e.cookies&&e.cookies.length&&(e.cookiesObj=e.cookies.reduceRight((b,{name:w,value:E})=>({...b,[w]:E}),{}));const s=(T=e.cookies)==null?void 0:T.map(({name:b,value:w})=>c.harIsAlreadyEncoded?`${b}=${w}`:`${encodeURIComponent(b)}=${encodeURIComponent(w)}`);switch(s!=null&&s.length&&(e.allHeaders.cookie=s.join("; ")),e.postData.mimeType){case"multipart/mixed":case"multipart/related":case"multipart/form-data":case"multipart/alternative":if(e.postData.text="",e.postData.mimeType="multipart/form-data",(j=e.postData)!=null&&j.params){const b=new ur,w=typeof b[Symbol.iterator]=="function",E="---011000010111000001101001";if(w||(b._boundary=E),(u=e.postData)==null||u.params.forEach(C=>{const q=C.name,F=C.value||"",G=C.fileName||null;w?He(F)?b.append(q,F,G):b.append(q,F):b.append(q,F,{filename:G,contentType:C.contentType||null})}),w)for(const C of br(b,E))e.postData.text+=C;else b.pipe(pr(C=>{e.postData.text+=C}));e.postData.boundary=E;const N=I(e.headersObj,"content-type")||"content-type";e.headersObj[N]=`multipart/form-data; boundary=${E}`}break;case"application/x-www-form-urlencoded":e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(We,{}),e.postData.text=ye.stringify(e.postData.paramsObj)):e.postData.text="";break;case"text/json":case"text/x-json":case"application/json":case"application/x-json":if(e.postData.mimeType="application/json",e.postData.text)try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch{e.postData.mimeType="text/plain"}break}const a={...e.allHeaders,...e.headersObj},l=Se.parse(e.url,!0,!0);e.queryObj={...e.queryObj,...l.query};let p;c.harIsAlreadyEncoded?p=ye.stringify(e.queryObj,{encode:!1,indices:!1}):p=ye.stringify(e.queryObj,{indices:!1});const d={...l,query:e.queryObj,search:p,path:p?`${l.pathname}?${p}`:l.pathname},y=Se.format({...l,query:null,search:null}),$=Se.format({...l,...d});return{...e,allHeaders:a,fullUrl:$,url:y,uriObj:d}},this.convert=(i,c,e)=>{!e&&c&&(e=c);const s=mt[i];if(!s)return!1;const{convert:a}=s.clientsById[c||s.info.default],l=this.requests.map(p=>a(p,e));return l.length===1?l[0]:l};let o=[];const n={harIsAlreadyEncoded:!1,...r};this.requests=[],gr(t)?o=t.log.entries:o=[{request:t}],o.forEach(({request:i})=>{var e;const c={bodySize:0,headersSize:0,headers:[],cookies:[],httpVersion:"HTTP/1.1",queryString:[],postData:{mimeType:((e=i.postData)==null?void 0:e.mimeType)||"application/octet-stream"},...i};c.postData&&!c.postData.mimeType&&(c.postData.mimeType="application/octet-stream"),this.requests.push(this.prepare(c,n))})}},jr=At();/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */function re(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let o="",n=!1;const i=t.match(/^-+/);for(let c=i?i[0].length:0;c<t.length;c++){let e=t.charAt(c);n&&(n=!1,e=e.toUpperCase()),c!==0&&(e==="-"||e==="_")?n=!0:e!=="-"&&e!=="_"&&(o+=e)}return o}}function yt(t,r){const o=t.toLowerCase();r=r||"-";let n="";for(let i=0;i<t.length;i++){const c=o.charAt(i),e=t.charAt(i);c!==e&&i>0?n+=`${r}${o.charAt(i)}`:n+=e}return n}function bt(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */function Tr(t){if(Array.isArray(t))return t.map(e=>typeof e!="string"?e+"":e);t=t.trim();let r=0,o=null,n=null,i=null;const c=[];for(let e=0;e<t.length;e++){if(o=n,n=t.charAt(e),n===" "&&!i){o!==" "&&r++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),c[r]||(c[r]=""),c[r]+=n}return c}/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */var J;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(J||(J={}));/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */let Y;class wr{constructor(r){Y=r}parse(r,o){const n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},o),i=Tr(r),c=typeof r=="string",e=Or(Object.assign(Object.create(null),n.alias)),s=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),a=Object.assign(Object.create(null),n.default),l=n.configObjects||[],p=n.envPrefix,d=s["populate--"],y=d?"--":"_",$=Object.create(null),T=Object.create(null),j=n.__||Y.format,u={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},b=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,w=new RegExp("^--"+s["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(f){const m=typeof f=="object"?f.key:f,O=Object.keys(f).map(function(g){return{boolean:"bools",string:"strings",number:"numbers"}[g]}).filter(Boolean).pop();O&&(u[O][m]=!0),u.arrays[m]=!0,u.keys.push(m)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(f){u.bools[f]=!0,u.keys.push(f)}),[].concat(n.string||[]).filter(Boolean).forEach(function(f){u.strings[f]=!0,u.keys.push(f)}),[].concat(n.number||[]).filter(Boolean).forEach(function(f){u.numbers[f]=!0,u.keys.push(f)}),[].concat(n.count||[]).filter(Boolean).forEach(function(f){u.counts[f]=!0,u.keys.push(f)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(f){u.normalize[f]=!0,u.keys.push(f)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([f,m])=>{typeof m=="number"&&(u.nargs[f]=m,u.keys.push(f))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([f,m])=>{typeof m=="function"&&(u.coercions[f]=m,u.keys.push(f))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(f){u.configs[f]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([f,m])=>{(typeof m=="boolean"||typeof m=="function")&&(u.configs[f]=m)})),Et(n.key,e,n.default,u.arrays),Object.keys(a).forEach(function(f){(u.aliases[f]||[]).forEach(function(m){a[m]=a[f]})});let E=null;Nt();let N=[];const C=Object.assign(Object.create(null),{_:[]}),q={};for(let f=0;f<i.length;f++){const m=i[f],O=m.replace(/^-{3,}/,"---");let g,h,k,S,v,_;if(m!=="--"&&/^-/.test(m)&&le(m))F(m);else if(O.match(/^---+(=|$)/)){F(m);continue}else if(m.match(/^--.+=/)||!s["short-option-groups"]&&m.match(/^-.+=/))S=m.match(/^--?([^=]+)=([\s\S]*)$/),S!==null&&Array.isArray(S)&&S.length>=3&&(x(S[1],u.arrays)?f=ae(f,S[1],i,S[2]):x(S[1],u.nargs)!==!1?f=G(f,S[1],i,S[2]):A(S[1],S[2],!0));else if(m.match(w)&&s["boolean-negation"])S=m.match(w),S!==null&&Array.isArray(S)&&S.length>=2&&(h=S[1],A(h,x(h,u.arrays)?[!1]:!1));else if(m.match(/^--.+/)||!s["short-option-groups"]&&m.match(/^-[^-]+/))S=m.match(/^--?(.+)/),S!==null&&Array.isArray(S)&&S.length>=2&&(h=S[1],x(h,u.arrays)?f=ae(f,h,i):x(h,u.nargs)!==!1?f=G(f,h,i):(v=i[f+1],v!==void 0&&(!v.match(/^-/)||v.match(b))&&!x(h,u.bools)&&!x(h,u.counts)||/^(true|false)$/.test(v)?(A(h,v),f++):A(h,X(h))));else if(m.match(/^-.\..+=/))S=m.match(/^-([^=]+)=([\s\S]*)$/),S!==null&&Array.isArray(S)&&S.length>=3&&A(S[1],S[2]);else if(m.match(/^-.\..+/)&&!m.match(b))v=i[f+1],S=m.match(/^-(.\..+)/),S!==null&&Array.isArray(S)&&S.length>=2&&(h=S[1],v!==void 0&&!v.match(/^-/)&&!x(h,u.bools)&&!x(h,u.counts)?(A(h,v),f++):A(h,X(h)));else if(m.match(/^-[^-]+/)&&!m.match(b)){k=m.slice(1,-1).split(""),g=!1;for(let B=0;B<k.length;B++){if(v=m.slice(B+2),k[B+1]&&k[B+1]==="="){_=m.slice(B+3),h=k[B],x(h,u.arrays)?f=ae(f,h,i,_):x(h,u.nargs)!==!1?f=G(f,h,i,_):A(h,_),g=!0;break}if(v==="-"){A(k[B],v);continue}if(/[A-Za-z]/.test(k[B])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(v)&&x(v,u.bools)===!1){A(k[B],v),g=!0;break}if(k[B+1]&&k[B+1].match(/\W/)){A(k[B],v),g=!0;break}else A(k[B],X(k[B]))}h=m.slice(-1)[0],!g&&h!=="-"&&(x(h,u.arrays)?f=ae(f,h,i):x(h,u.nargs)!==!1?f=G(f,h,i):(v=i[f+1],v!==void 0&&(!/^(-|--)[^-]/.test(v)||v.match(b))&&!x(h,u.bools)&&!x(h,u.counts)||/^(true|false)$/.test(v)?(A(h,v),f++):A(h,X(h))))}else if(m.match(/^-[0-9]$/)&&m.match(b)&&x(m.slice(1),u.bools))h=m.slice(1),A(h,X(h));else if(m==="--"){N=i.slice(f+1);break}else if(s["halt-at-non-option"]){N=i.slice(f);break}else F(m)}Be(C,!0),Be(C,!1),Tt(C),wt(),Fe(C,u.aliases,a,!0),Ot(C),s["set-placeholder-key"]&&St(C),Object.keys(u.counts).forEach(function(f){te(C,f.split("."))||A(f,0)}),d&&N.length&&(C[y]=[]),N.forEach(function(f){C[y].push(f)}),s["camel-case-expansion"]&&s["strip-dashed"]&&Object.keys(C).filter(f=>f!=="--"&&f.includes("-")).forEach(f=>{delete C[f]}),s["strip-aliased"]&&[].concat(...Object.keys(e).map(f=>e[f])).forEach(f=>{s["camel-case-expansion"]&&f.includes("-")&&delete C[f.split(".").map(m=>re(m)).join(".")],delete C[f]});function F(f){const m=ce("_",f);(typeof m=="string"||typeof m=="number")&&C._.push(m)}function G(f,m,O,g){let h,k=x(m,u.nargs);if(k=typeof k!="number"||isNaN(k)?1:k,k===0)return K(g)||(E=Error(j("Argument unexpected for: %s",m))),A(m,X(m)),f;let S=K(g)?0:1;if(s["nargs-eats-options"])O.length-(f+1)+S<k&&(E=Error(j("Not enough arguments following: %s",m))),S=k;else{for(h=f+1;h<O.length&&(!O[h].match(/^-[^0-9]/)||O[h].match(b)||le(O[h]));h++)S++;S<k&&(E=Error(j("Not enough arguments following: %s",m)))}let v=Math.min(S,k);for(!K(g)&&v>0&&(A(m,g),v--),h=f+1;h<v+f+1;h++)A(m,O[h]);return f+v}function ae(f,m,O,g){let h=[],k=g||O[f+1];const S=x(m,u.nargs);if(x(m,u.bools)&&!/^(true|false)$/.test(k))h.push(!0);else if(K(k)||K(g)&&/^-/.test(k)&&!b.test(k)&&!le(k)){if(a[m]!==void 0){const v=a[m];h=Array.isArray(v)?v:[v]}}else{K(g)||h.push(he(m,g,!0));for(let v=f+1;v<O.length&&!(!s["greedy-arrays"]&&h.length>0||S&&typeof S=="number"&&h.length>=S||(k=O[v],/^-/.test(k)&&!b.test(k)&&!le(k)));v++)f=v,h.push(he(m,k,c))}return typeof S=="number"&&(S&&h.length<S||isNaN(S)&&h.length===0)&&(E=Error(j("Not enough arguments following: %s",m))),A(m,h),f}function A(f,m,O=c){if(/-/.test(f)&&s["camel-case-expansion"]){const k=f.split(".").map(function(S){return re(S)}).join(".");Ie(f,k)}const g=he(f,m,O),h=f.split(".");ne(C,h,g),u.aliases[f]&&u.aliases[f].forEach(function(k){const S=k.split(".");ne(C,S,g)}),h.length>1&&s["dot-notation"]&&(u.aliases[h[0]]||[]).forEach(function(k){let S=k.split(".");const v=[].concat(h);v.shift(),S=S.concat(v),(u.aliases[f]||[]).includes(S.join("."))||ne(C,S,g)}),x(f,u.normalize)&&!x(f,u.arrays)&&[f].concat(u.aliases[f]||[]).forEach(function(S){Object.defineProperty(q,S,{enumerable:!0,get(){return m},set(v){m=typeof v=="string"?Y.normalize(v):v}})})}function Ie(f,m){u.aliases[f]&&u.aliases[f].length||(u.aliases[f]=[m],$[m]=!0),u.aliases[m]&&u.aliases[m].length||Ie(m,f)}function he(f,m,O){O&&(m=Sr(m)),(x(f,u.bools)||x(f,u.counts))&&typeof m=="string"&&(m=m==="true");let g=Array.isArray(m)?m.map(function(h){return ce(f,h)}):ce(f,m);return x(f,u.counts)&&(K(g)||typeof g=="boolean")&&(g=Ce()),x(f,u.normalize)&&x(f,u.arrays)&&(Array.isArray(m)?g=m.map(h=>Y.normalize(h)):g=Y.normalize(m)),g}function ce(f,m){return!s["parse-positional-numbers"]&&f==="_"||!x(f,u.strings)&&!x(f,u.bools)&&!Array.isArray(m)&&(bt(m)&&s["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${m}`)))||!K(m)&&x(f,u.numbers))&&(m=Number(m)),m}function Tt(f){const m=Object.create(null);Fe(m,u.aliases,a),Object.keys(u.configs).forEach(function(O){const g=f[O]||m[O];if(g)try{let h=null;const k=Y.resolve(Y.cwd(),g),S=u.configs[O];if(typeof S=="function"){try{h=S(k)}catch(v){h=v}if(h instanceof Error){E=h;return}}else h=Y.require(k);me(h)}catch(h){h.name==="PermissionDenied"?E=h:f[O]&&(E=Error(j("Invalid JSON config file: %s",g)))}})}function me(f,m){Object.keys(f).forEach(function(O){const g=f[O],h=m?m+"."+O:O;typeof g=="object"&&g!==null&&!Array.isArray(g)&&s["dot-notation"]?me(g,h):(!te(C,h.split("."))||x(h,u.arrays)&&s["combine-arrays"])&&A(h,g)})}function wt(){typeof l<"u"&&l.forEach(function(f){me(f)})}function Be(f,m){if(typeof p>"u")return;const O=typeof p=="string"?p:"",g=Y.env();Object.keys(g).forEach(function(h){if(O===""||h.lastIndexOf(O,0)===0){const k=h.split("__").map(function(S,v){return v===0&&(S=S.substring(O.length)),re(S)});(m&&u.configs[k.join(".")]||!m)&&!te(f,k)&&A(k.join("."),g[h])}})}function Ot(f){let m;const O=new Set;Object.keys(f).forEach(function(g){if(!O.has(g)&&(m=x(g,u.coercions),typeof m=="function"))try{const h=ce(g,m(f[g]));[].concat(u.aliases[g]||[],g).forEach(k=>{O.add(k),f[k]=h})}catch(h){E=h}})}function St(f){return u.keys.forEach(m=>{~m.indexOf(".")||typeof f[m]>"u"&&(f[m]=void 0)}),f}function Fe(f,m,O,g=!1){Object.keys(O).forEach(function(h){te(f,h.split("."))||(ne(f,h.split("."),O[h]),g&&(T[h]=!0),(m[h]||[]).forEach(function(k){te(f,k.split("."))||ne(f,k.split("."),O[h])}))})}function te(f,m){let O=f;s["dot-notation"]||(m=[m.join(".")]),m.slice(0,-1).forEach(function(h){O=O[h]||{}});const g=m[m.length-1];return typeof O!="object"?!1:g in O}function ne(f,m,O){let g=f;s["dot-notation"]||(m=[m.join(".")]),m.slice(0,-1).forEach(function(_){_=ct(_),typeof g=="object"&&g[_]===void 0&&(g[_]={}),typeof g[_]!="object"||Array.isArray(g[_])?(Array.isArray(g[_])?g[_].push({}):g[_]=[g[_],{}],g=g[_][g[_].length-1]):g=g[_]});const h=ct(m[m.length-1]),k=x(m.join("."),u.arrays),S=Array.isArray(O);let v=s["duplicate-arguments-array"];!v&&x(h,u.nargs)&&(v=!0,(!K(g[h])&&u.nargs[h]===1||Array.isArray(g[h])&&g[h].length===u.nargs[h])&&(g[h]=void 0)),O===Ce()?g[h]=Ce(g[h]):Array.isArray(g[h])?v&&k&&S?g[h]=s["flatten-duplicate-arrays"]?g[h].concat(O):(Array.isArray(g[h][0])?g[h]:[g[h]]).concat([O]):!v&&!!k==!!S?g[h]=O:g[h]=g[h].concat([O]):g[h]===void 0&&k?g[h]=S?O:[O]:v&&!(g[h]===void 0||x(h,u.counts)||x(h,u.bools))?g[h]=[g[h],O]:g[h]=O}function Et(...f){f.forEach(function(m){Object.keys(m||{}).forEach(function(O){u.aliases[O]||(u.aliases[O]=[].concat(e[O]||[]),u.aliases[O].concat(O).forEach(function(g){if(/-/.test(g)&&s["camel-case-expansion"]){const h=re(g);h!==O&&u.aliases[O].indexOf(h)===-1&&(u.aliases[O].push(h),$[h]=!0)}}),u.aliases[O].concat(O).forEach(function(g){if(g.length>1&&/[A-Z]/.test(g)&&s["camel-case-expansion"]){const h=yt(g,"-");h!==O&&u.aliases[O].indexOf(h)===-1&&(u.aliases[O].push(h),$[h]=!0)}}),u.aliases[O].forEach(function(g){u.aliases[g]=[O].concat(u.aliases[O].filter(function(h){return g!==h}))}))})})}function x(f,m){const O=[].concat(u.aliases[f]||[],f),g=Object.keys(m),h=O.find(k=>g.includes(k));return h?m[h]:!1}function Me(f){const m=Object.keys(u);return[].concat(m.map(g=>u[g])).some(function(g){return Array.isArray(g)?g.includes(f):g[f]})}function kt(f,...m){return[].concat(...m).some(function(g){const h=f.match(g);return h&&Me(h[1])})}function Ct(f){if(f.match(b)||!f.match(/^-[^-]+/))return!1;let m=!0,O;const g=f.slice(1).split("");for(let h=0;h<g.length;h++){if(O=f.slice(h+2),!Me(g[h])){m=!1;break}if(g[h+1]&&g[h+1]==="="||O==="-"||/[A-Za-z]/.test(g[h])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(O)||g[h+1]&&g[h+1].match(/\W/))break}return m}function le(f){return s["unknown-options-as-args"]&&vt(f)}function vt(f){return f=f.replace(/^-{3,}/,"--"),f.match(b)||Ct(f)?!1:!kt(f,/^-+([^=]+?)=[\s\S]*$/,w,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function X(f){return!x(f,u.bools)&&!x(f,u.counts)&&`${f}`in a?a[f]:xt(Rt(f))}function xt(f){return{[J.BOOLEAN]:!0,[J.STRING]:"",[J.NUMBER]:void 0,[J.ARRAY]:[]}[f]}function Rt(f){let m=J.BOOLEAN;return x(f,u.strings)?m=J.STRING:x(f,u.numbers)?m=J.NUMBER:x(f,u.bools)?m=J.BOOLEAN:x(f,u.arrays)&&(m=J.ARRAY),m}function K(f){return f===void 0}function Nt(){Object.keys(u.counts).find(f=>x(f,u.arrays)?(E=Error(j("Invalid configuration: %s, opts.count excludes opts.array.",f)),!0):x(f,u.nargs)?(E=Error(j("Invalid configuration: %s, opts.count excludes opts.narg.",f)),!0):!1)}return{aliases:Object.assign({},u.aliases),argv:Object.assign(q,C),configuration:s,defaulted:Object.assign({},T),error:E,newAliases:Object.assign({},$)}}}function Or(t){const r=[],o=Object.create(null);let n=!0;for(Object.keys(t).forEach(function(i){r.push([].concat(t[i],i))});n;){n=!1;for(let i=0;i<r.length;i++)for(let c=i+1;c<r.length;c++)if(r[i].filter(function(s){return r[c].indexOf(s)!==-1}).length){r[i]=r[i].concat(r[c]),r.splice(c,1),n=!0;break}}return r.forEach(function(i){i=i.filter(function(e,s,a){return a.indexOf(e)===s});const c=i.pop();c!==void 0&&typeof c=="string"&&(o[c]=i)}),o}function Ce(t){return t!==void 0?t+1:1}function ct(t){return t==="__proto__"?"___proto___":t}function Sr(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var Er=Vt(),de={};/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */var ve,xe,Re;const lt=z&&de&&de.YARGS_MIN_NODE_VERSION?Number(de.YARGS_MIN_NODE_VERSION):12,ut=(xe=(ve=z===null||z===void 0?void 0:z.versions)===null||ve===void 0?void 0:ve.node)!==null&&xe!==void 0?xe:(Re=z===null||z===void 0?void 0:z.version)===null||Re===void 0?void 0:Re.slice(1);if(ut&&Number(ut.match(/^([^.]+)/)[1])<lt)throw Error(`yargs parser supports a minimum Node.js version of ${lt}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);const kr=z?de:{},gt=new wr({cwd:z.cwd,env:()=>kr,format:jr.format,normalize:Je.normalize,resolve:Je.resolve,require:t=>{if(typeof require<"u")return require(t);if(t.match(/\.json$/))return JSON.parse(Er.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),ee=function(r,o){return gt.parse(r.slice(),o).argv};ee.detailed=function(t,r){return gt.parse(t.slice(),r)};ee.camelCase=re;ee.decamelize=yt;ee.looksLikeNumber=bt;const ft=t=>{const r=[];for(const[o,n]of t.entries())r.push({name:o,value:n});return r},Ne=(t,r)=>{const o=[];return Le.isString(t)&&(t=t.split(";").map(n=>n.trim())),t.forEach(n=>{const i=n.split(r).map(c=>c.trim());i.length>1&&o.push({name:i[0],value:i[1]})}),o},Cr=t=>{const r=[],o=t.split("Content-Disposition");return o.shift(),o.forEach(n=>{const i=n.match(/name="(.*?)"([\s\S]+)\r\n------/i);if(i!==null){const c=i[2].replace(`\r
\r
`,"");r.push({name:i[1],value:c.includes('filename="')?"":c})}}),r},vr=t=>{var a,l;let r="GET",o="";const n="HTTP/1.1",i=[],c=[],e=[],s={};for(const p of Object.keys(t)){if(["_","__"].includes(p))continue;const d=t[p];switch(p){case"url":o=d;const y=new URL(d);i.push(...ft(y.searchParams));break;case"A":case"user-agent":c.push({name:"User-Agent",value:d});break;case"H":case"header":Ne(d,":").forEach(({name:j,value:u})=>{j.toLowerCase()==="content-type"&&(u=u.includes("multipart/form-data")?"multipart/form-data":u,s.mimeType=u),j.toLowerCase()==="cookie"?e.push(...Ne(u,"=")):c.push({name:j,value:u})});break;case"b":case"cookie":e.push(...Ne(d,"="));break;case"d":case"data":case"data-raw":r="POST";const T=(a=d.match(/\$'(.*?)'/))==null?void 0:a[1];s.text=(T||d).replaceAll("\\n",`
`).replaceAll("\\r","\r");break;case"json":r="POST",s.mimeType="text/plain",s.text=d,c.push({name:"Content-Type",value:"application/json"}),c.push({name:"Accept",value:"application/json"});break;case"data-urlencode":r="POST",s.mimeType="application/x-www-form-urlencoded",s.text=d;break;case"X":case"request":r=d;break;default:console.log("ignore",p,t[p]);break}}return r==="POST"&&s.mimeType&&(s.mimeType==="application/x-www-form-urlencoded"&&(s.params=ft(new URLSearchParams(s.text)),delete s.text),(l=s.mimeType)!=null&&l.includes("multipart/form-data")&&(s.params=Cr(s.text),delete s.text)),{method:r,url:o,httpVersion:n,queryString:i,headers:c,cookies:e,postData:s}},xr=t=>{let r=ee(t);if(t=t.replace(/\\\n\r?/g," "),!("url"in r)){if(!r._[1].includes("http"))throw new Error("Invalid curl command");t=t.replace(r._[1],`--url ${r._[1]}`),r=ee(t)}if(!r._.includes("curl"))throw new Error("Invalid curl command");return{entries:[{request:vr(r)}]}},Rr=(t,r)=>{const o=jt(r);if(o.clientId==="custom-define-data-schema")return t.log.entries.map(i=>{var p,d,y,$,T,j;const c=Object.fromEntries(((p=i.request.headers)==null?void 0:p.map(({name:u,value:b})=>[u,b]))||[]),e=Object.fromEntries(((d=i.request.cookies)==null?void 0:d.map(({name:u,value:b})=>[u,b]))||[]),s=Object.fromEntries(((y=i.request.queryString)==null?void 0:y.map(({name:u,value:b})=>[u,b]))||[]),a=(($=i.request.postData)!=null&&$.params?Object.fromEntries(i.request.postData.params.map(({name:u,value:b})=>[u,b])||[]):(T=i.request.postData)==null?void 0:T.text)||{},l={url:i.request.url,method:i.request.method,httpVersion:i.request.httpVersion};return[`const request = ${JSON.stringify(l,null,4)};`,`const queryString = ${JSON.stringify(s,null,4)};`,...((j=i.request.method)==null?void 0:j.toLowerCase())==="post"&&a?[`const postData = ${JSON.stringify(a,null,4)};`]:[],`const headers = ${JSON.stringify(c,null,4)};`,`const cookies = ${JSON.stringify(e,null,4)};`].join(`

`)});const n=new $r(t).convert(o.targetId,o.clientId);return n===!1?[""]:Le.isArray(n)?n:[n]},$t=(()=>{const t=[];for(const r of Object.values(mt)){const o=Object.values(r.clientsById).length<2;for(const n of Object.values(r.clientsById))t.push({value:`${r.info.key}-|-${n.info.key}`,label:o?r.info.title:`${r.info.title} - ${n.info.title}`,url:n.info.link,description:n.info.description,clientId:n.info.key,targetId:r.info.key})}return t.push({value:"javascript-|-custom-define-data-schema",label:"Data Schema",url:"",description:"",clientId:"custom-define-data-schema",targetId:"javascript"}),t.sort((r,o)=>r.label.localeCompare(o.label))})(),jt=t=>{for(const r of $t)if(t===r.value)return r;throw new Error("Error Target")},Nr=(t,r,o)=>{t=t.trim();const n=r==="cURL"?xr(t):Ut.parse(t,{JSON_REPAIR:!0});let i={log:{version:"",creator:{name:"",version:""},entries:[]}};return n.entries?i.log=n:n.url?i.log.entries.push(n):i=n,Rr(i,o).map((c,e)=>{var s,a,l;return{value:c,url:((l=(a=(s=i.log.entries)==null?void 0:s[e])==null?void 0:a.request.url)==null?void 0:l.substring(0,50))||""}})},Fr=Lt({__name:"HttpSnippet",async setup(t){let r,o;const n=zt(([r,o]=Ht(()=>Wt({input:"",source:"cURL",target:"javascript-|-axios"},{paste:!1})),r=await r,o(),r)),i=Ve(()=>jt(n.current.target));let c=It(0);const e=Ve(()=>{if(n.current.input==="")return[{value:"",url:""}];try{const s=Nr(n.current.input,n.current.source,n.current.target);return n.save(),s}catch(s){return console.log(s),[{value:$error(s),url:""}]}});return Bt(()=>({output:e.value}),()=>{c.value=0},{immediate:!0,deep:!0}),(s,a)=>{const l=Z("Editor"),p=Z("HelpTip"),d=Z("Select"),y=Z("Align"),$=Z("Display"),T=Z("HeightResize"),j=Jt("row");return Ft((ge(),be(T,null,{default:Q(({height:u})=>[V($,{position:"bottom-right"},{extra:Q(()=>[V(y,null,{default:Q(()=>[V(p,{link:M(n).current.source==="cURL"?"https://everything.curl.dev/usingcurl/copyas":"http://www.softwareishard.com/blog/har-12-spec/#request"},null,8,["link"]),V(d,{size:"small",options:["cURL","HAR"],modelValue:M(n).current.source,"onUpdate:modelValue":a[1]||(a[1]=b=>M(n).current.source=b)},null,8,["modelValue"])]),_:1})]),default:Q(()=>[V(l,{lang:M(n).current.source==="cURL"?"shell":"json",modelValue:M(n).current.input,"onUpdate:modelValue":a[0]||(a[0]=b=>M(n).current.input=b),height:u,placeholder:s.$t("main_ui_output")},null,8,["lang","modelValue","height","placeholder"])]),_:2},1024),V($,{position:"bottom-right"},{extra:Q(()=>[V(y,null,{default:Q(()=>[i.value.url!==""?(ge(),be(p,{key:0,link:i.value.url},null,8,["link"])):ze("",!0),V(d,{dialog:"",size:"small",options:M($t),modelValue:M(n).current.target,"onUpdate:modelValue":a[3]||(a[3]=b=>M(n).current.target=b)},null,8,["options","modelValue"])]),_:1})]),default:Q(()=>[V($,{position:"top-right"},{extra:Q(()=>[e.value.length>1?(ge(),be(d,{key:0,size:"small",options:M(Le.range)(0,e.value.length).map(b=>({value:b,label:`Entry ${b+1}`,description:e.value[b].url})),modelValue:M(c),"onUpdate:modelValue":a[2]||(a[2]=b=>Mt(c)?c.value=b:c=b)},null,8,["options","modelValue"])):ze("",!0)]),default:Q(()=>[V(l,{lang:i.value.targetId,"model-value":e.value[M(c)].value,height:u,placeholder:s.$t("main_ui_output")},null,8,["lang","model-value","height","placeholder"])]),_:2},1024)]),_:2},1024)]),_:1})),[[j,"1-1"]])}}});export{Fr as default};
