import{K as Re,J as Tt,O as z,aQ as me,aR as He,G as Ne,L as wt,d as Ot,y as St,z as Ie,I as kt,D as Et,A as Ct,c as ye,w as Q,r as Z,B as vt,f as be,v as V,j as M,m as Be,R as xt}from"./tool-DSbfN7DA.js";import{u as ge}from"./url-BX5cK3VZ.js";import{s as Rt}from"./index-Ze-ii78z.js";import{u as Nt}from"./pipeline-BcG7jJj_.js";import{r as Pt}from"./empty-CnIz-OQ7.js";import{u as qt,i as At}from"./action-C3oKcPgI.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./punycode-Cjqajd__.js";import"./string_decoder-CsjAcY2A.js";var Fe=(t,n)=>{const s=t[n.name];return s===void 0?(t[n.name]=n.value,t):Array.isArray(s)?(s.push(n.value),t):(t[n.name]=[s,n.value],t)},Me="",Je=`
`,R=class{constructor({indent:t,join:n}={}){this.postProcessors=[],this.code=[],this.indentationCharacter=Me,this.lineJoin=Je,this.indentLine=(s,r=0)=>`${this.indentationCharacter.repeat(r)}${s}`,this.unshift=(s,r)=>{const a=this.indentLine(s,r);this.code.unshift(a)},this.push=(s,r)=>{const a=this.indentLine(s,r);this.code.push(a)},this.blank=()=>{this.code.push("")},this.join=()=>{const s=this.code.join(this.lineJoin);return this.postProcessors.reduce((a,o)=>o(a),s)},this.addPostProcessor=s=>{this.postProcessors=[...this.postProcessors,s]},this.indentationCharacter=t||Me,this.lineJoin=n??Je}},_t=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Ut=function(t){var n=typeof t;return t!==null&&(n==="object"||n==="function")},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=t=>Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n));const Lt=_t,Ht=Ut,It=Pe.default;var Bt=(t,n,s)=>{const r=[];return function a(o,e,i){e=e||{},e.indent=e.indent||"	",i=i||"";let c;e.inlineCharacterLimit===void 0?c={newLine:`
`,newLineOrSpace:`
`,pad:i,indent:i+e.indent}:c={newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const u=d=>{if(e.inlineCharacterLimit===void 0)return d;const p=d.replace(new RegExp(c.newLine,"g"),"").replace(new RegExp(c.newLineOrSpace,"g")," ").replace(new RegExp(c.pad+"|"+c.indent,"g"),"");return p.length<=e.inlineCharacterLimit?p:d.replace(new RegExp(c.newLine+"|"+c.newLineOrSpace,"g"),`
`).replace(new RegExp(c.pad,"g"),i).replace(new RegExp(c.indent,"g"),i+e.indent)};if(r.indexOf(o)!==-1)return'"[Circular]"';if(o==null||typeof o=="number"||typeof o=="boolean"||typeof o=="function"||typeof o=="symbol"||Lt(o))return String(o);if(o instanceof Date)return`new Date('${o.toISOString()}')`;if(Array.isArray(o)){if(o.length===0)return"[]";r.push(o);const d="["+c.newLine+o.map((p,m)=>{const T=o.length-1===m?c.newLine:","+c.newLineOrSpace;let $=a(p,e,i+e.indent);return e.transform&&($=e.transform(o,m,$)),c.indent+$+T}).join("")+c.pad+"]";return r.pop(),u(d)}if(Ht(o)){let d=Object.keys(o).concat(It(o));if(e.filter&&(d=d.filter(m=>e.filter(o,m))),d.length===0)return"{}";r.push(o);const p="{"+c.newLine+d.map((m,T)=>{const $=d.length-1===T?c.newLine:","+c.newLineOrSpace,j=typeof m=="symbol",l=!j&&/^[a-z$_][a-z$_0-9]*$/i.test(m),b=j||l?m:a(m,e);let w=a(o[m],e,i+e.indent);return e.transform&&(w=e.transform(o,m,w)),c.indent+String(b)+": "+w+$}).join("")+c.pad+"}";return r.pop(),u(p)}return o=String(o).replace(/[\r\n]/g,d=>d===`
`?"\\n":"\\r"),e.singleQuotes===!1?(o=o.replace(/"/g,'\\"'),`"${o}"`):(o=o.replace(/\\?'/g,"\\'"),`'${o}'`)}(t,n,s)};const H=Re(Bt);function oe(t,n={}){const{delimiter:s='"',escapeChar:r="\\",escapeNewlines:a=!0}=n;return[...t.toString()].map(e=>e==="\b"?`${r}b`:e==="	"?`${r}t`:e===`
`?a?`${r}n`:e:e==="\f"?`${r}f`:e==="\r"?a?`${r}r`:e:e===r?r+r:e===s?r+s:e<" "||e>"~"?JSON.stringify(e).slice(1,-1):e).join("")}var ie=t=>oe(t,{delimiter:"'"}),U=t=>oe(t,{delimiter:'"'}),Ft={info:{key:"libcurl",title:"Libcurl",link:"http://curl.haxx.se/libcurl",description:"Simple REST and HTTP API Client for C"},convert:({method:t,fullUrl:n,headersObj:s,allHeaders:r,postData:a})=>{const{push:o,blank:e,join:i}=new R;o("CURL *hnd = curl_easy_init();"),e(),o(`curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "${t.toUpperCase()}");`),o("curl_easy_setopt(hnd, CURLOPT_WRITEDATA, stdout);"),o(`curl_easy_setopt(hnd, CURLOPT_URL, "${n}");`);const c=Object.keys(s);return c.length&&(e(),o("struct curl_slist *headers = NULL;"),c.forEach(u=>{o(`headers = curl_slist_append(headers, "${u}: ${U(s[u])}");`)}),o("curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);")),r.cookie&&(e(),o(`curl_easy_setopt(hnd, CURLOPT_COOKIE, "${r.cookie}");`)),a.text&&(e(),o(`curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, ${JSON.stringify(a.text)});`)),e(),o("CURLcode ret = curl_easy_perform(hnd);"),i()}},Mt={info:{key:"c",title:"C",extname:".c",default:"libcurl",cli:"c"},clientsById:{libcurl:Ft}},I=(t,n)=>Object.keys(t).find(s=>s.toLowerCase()===n.toLowerCase()),W=(t,n)=>{const s=I(t,n);if(s)return t[s]},de=(t,n)=>!!I(t,n),Jt=t=>["application/json","application/x-json","text/json","text/x-json","+json"].some(n=>t.indexOf(n)>-1),Ve=class{constructor(t){this.name="",this.toString=()=>`:${this.name}`,this.name=t}},Vt=class{constructor(t){this.path="",this.toString=()=>`(clojure.java.io/file "${this.path}")`,this.path=t}},tt=t=>t===void 0?null:t===null?"null":t.constructor.name.toLowerCase(),nt=t=>t===void 0?!0:tt(t)==="object"?Object.keys(t).length===0:!1,ze=t=>(Object.keys(t).filter(n=>nt(t[n])).forEach(n=>{delete t[n]}),t),ue=(t,n)=>{const s=" ".repeat(t);return n.replace(/\n/g,`
${s}`)},Ee=t=>{switch(tt(t)){case"string":return`"${t.replace(/"/g,'\\"')}"`;case"file":return t.toString();case"keyword":return t.toString();case"null":return"nil";case"regexp":return`#"${t.source}"`;case"object":{const n=Object.keys(t).reduce((s,r)=>{const a=ue(r.length+2,Ee(t[r]));return`${s}:${r} ${a}
 `},"").trim();return`{${ue(1,n)}}`}case"array":{const n=t.reduce((s,r)=>`${s} ${Ee(r)}`,"").trim();return`[${ue(1,n)}]`}default:return t.toString()}},zt={info:{key:"clj_http",title:"clj-http",link:"https://github.com/dakrone/clj-http",description:"An idiomatic clojure http client wrapping the apache client."},convert:({queryObj:t,method:n,postData:s,url:r,allHeaders:a},o)=>{const{push:e,join:i}=new R({indent:o==null?void 0:o.indent}),c=["get","post","put","delete","patch","head","options"];if(n=n.toLowerCase(),!c.includes(n))return e("Method not supported"),i();const u={headers:a,"query-params":t};switch(s.mimeType){case"application/json":{u["content-type"]=new Ve("json"),u["form-params"]=s.jsonObj;const d=I(u.headers,"content-type");d&&delete u.headers[d]}break;case"application/x-www-form-urlencoded":{u["form-params"]=s.paramsObj;const d=I(u.headers,"content-type");d&&delete u.headers[d]}break;case"text/plain":{u.body=s.text;const d=I(u.headers,"content-type");d&&delete u.headers[d]}break;case"multipart/form-data":{if(s.params){u.multipart=s.params.map(p=>p.fileName&&!p.value?{name:p.name,content:new Vt(p.fileName)}:{name:p.name,content:p.value});const d=I(u.headers,"content-type");d&&delete u.headers[d]}break}}switch(W(u.headers,"accept")){case"application/json":{u.accept=new Ve("json");const d=I(u.headers,"accept");d&&delete u.headers[d]}break}if(e(`(require '[clj-http.client :as client])
`),nt(ze(u)))e(`(client/${n} "${r}")`);else{const d=11+n.length+r.length,p=ue(d,Ee(ze(u)));e(`(client/${n} "${r}" ${p})`)}return i()}},Wt={info:{key:"clojure",title:"Clojure",extname:".clj",default:"clj_http"},clientsById:{clj_http:zt}},Gt=t=>{let n=W(t,"accept-encoding");if(!n)return[];const s={gzip:"DecompressionMethods.GZip",deflate:"DecompressionMethods.Deflate"},r=[];return typeof n=="string"&&(n=[n]),n.forEach(a=>{a.split(",").forEach(o=>{const e=/\s*([^;\s]+)/.exec(o);if(e){const i=s[e[1]];i&&r.push(i)}})}),r},Kt={info:{key:"httpclient",title:"HttpClient",link:"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient",description:".NET Standard HTTP Client"},convert:({allHeaders:t,postData:n,method:s,fullUrl:r},a)=>{var T,$;const o={indent:"    ",...a},{push:e,join:i}=new R({indent:o.indent});e("using System.Net.Http.Headers;");let c="";const u=!!t.cookie,d=Gt(t);(u||d.length)&&(c="clientHandler",e("var clientHandler = new HttpClientHandler"),e("{"),u&&e("UseCookies = false,",1),d.length&&e(`AutomaticDecompression = ${d.join(" | ")},`,1),e("};")),e(`var client = new HttpClient(${c});`),e("var request = new HttpRequestMessage"),e("{");const p=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS","TRACE"];s=s.toUpperCase(),s&&p.includes(s)?s=`HttpMethod.${s[0]}${s.substring(1).toLowerCase()}`:s=`new HttpMethod("${s}")`,e(`Method = ${s},`,1),e(`RequestUri = new Uri("${r}"),`,1);const m=Object.keys(t).filter(j=>{switch(j.toLowerCase()){case"content-type":case"content-length":case"accept-encoding":return!1;default:return!0}});if(m.length&&(e("Headers =",1),e("{",1),m.forEach(j=>{e(`{ "${j}", "${U(t[j])}" },`,2)}),e("},",1)),n.text){const j=n.mimeType;switch(j){case"application/x-www-form-urlencoded":e("Content = new FormUrlEncodedContent(new Dictionary<string, string>",1),e("{",1),(T=n.params)==null||T.forEach(l=>{e(`{ "${l.name}", "${l.value}" },`,2)}),e("}),",1);break;case"multipart/form-data":e("Content = new MultipartFormDataContent",1),e("{",1),($=n.params)==null||$.forEach(l=>{e(`new StringContent(${JSON.stringify(l.value||"")})`,2),e("{",2),e("Headers =",3),e("{",3),l.contentType&&e(`ContentType = new MediaTypeHeaderValue("${l.contentType}"),`,4),e('ContentDisposition = new ContentDispositionHeaderValue("form-data")',4),e("{",4),e(`Name = "${l.name}",`,5),l.fileName&&e(`FileName = "${l.fileName}",`,5),e("}",4),e("}",3),e("},",2)}),e("},",1);break;default:e(`Content = new StringContent(${JSON.stringify(n.text||"")})`,1),e("{",1),e("Headers =",2),e("{",2),e(`ContentType = new MediaTypeHeaderValue("${j}")`,3),e("}",2),e("}",1);break}}return e("};"),e("using (var response = await client.SendAsync(request))"),e("{"),e("response.EnsureSuccessStatusCode();",1),e("var body = await response.Content.ReadAsStringAsync();",1),e("Console.WriteLine(body);",1),e("}"),i()}};function Qt(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()}var Yt={info:{key:"restsharp",title:"RestSharp",link:"http://restsharp.org/",description:"Simple REST and HTTP API Client for .NET"},convert:({method:t,fullUrl:n,headersObj:s,cookies:r,postData:a,uriObj:o})=>{const{push:e,join:i}=new R;if(!["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].includes(t.toUpperCase()))return"Method not supported";e(`using RestSharp;

`),e(`var options = new RestClientOptions("${n}");`),e("var client = new RestClient(options);"),e('var request = new RestRequest("");');const u=a.mimeType&&a.mimeType==="multipart/form-data";switch(u&&e("request.AlwaysMultipartFormData = true;"),Object.keys(s).forEach(d=>{if(a.mimeType&&d.toLowerCase()==="content-type"&&a.text){u&&a.boundary&&e(`request.FormBoundary = "${a.boundary}";`);return}e(`request.AddHeader("${d}", "${U(s[d])}");`)}),r.forEach(({name:d,value:p})=>{e(`request.AddCookie("${d}", "${U(p)}", "${o.pathname}", "${o.host}");`)}),a.mimeType){case"multipart/form-data":if(!a.params)break;a.params.forEach(d=>{d.fileName?e(`request.AddFile("${d.name}", "${d.fileName}");`):e(`request.AddParameter("${d.name}", "${d.value}");`)});break;case"application/x-www-form-urlencoded":if(!a.params)break;a.params.forEach(d=>{e(`request.AddParameter("${d.name}", "${d.value}");`)});break;case"application/json":{if(!a.text)break;const d=JSON.stringify(a.text);e(`request.AddJsonBody(${d}, false);`);break}default:if(!a.text)break;e(`request.AddStringBody("${a.text}", "${a.mimeType}");`)}return e(`var response = await client.${Qt(t)}Async(request);
`),e(`Console.WriteLine("{0}", response.Content);
`),i()}},Xt={info:{key:"csharp",title:"C#",extname:".cs",default:"restsharp",cli:"dotnet"},clientsById:{httpclient:Kt,restsharp:Yt}},Zt={info:{key:"native",title:"NewRequest",link:"http://golang.org/pkg/net/http/#NewRequest",description:"Golang HTTP client request"},convert:({postData:t,method:n,allHeaders:s,fullUrl:r},a={})=>{const{blank:o,push:e,join:i}=new R({indent:"	"}),{showBoilerplate:c=!0,checkErrors:u=!1,printBody:d=!0,timeout:p=-1}=a,m=u?"err":"_",T=c?1:0,$=()=>{u&&(e("if err != nil {",T),e("panic(err)",T+1),e("}",T))};c&&(e("package main"),o(),e("import ("),e('"fmt"',T),p>0&&e('"time"',T),t.text&&e('"strings"',T),e('"net/http"',T),d&&e('"io"',T),e(")"),o(),e("func main() {"),o());const j=p>0,l=j,b=l?"client":"http.DefaultClient";return l&&(e("client := http.Client{",T),j&&e(`Timeout: time.Duration(${p} * time.Second),`,T+1),e("}",T),o()),e(`url := "${r}"`,T),o(),t.text?(e(`payload := strings.NewReader(${JSON.stringify(t.text)})`,T),o(),e(`req, ${m} := http.NewRequest("${n}", url, payload)`,T),o()):(e(`req, ${m} := http.NewRequest("${n}", url, nil)`,T),o()),$(),Object.keys(s).length&&(Object.keys(s).forEach(w=>{e(`req.Header.Add("${w}", "${U(s[w])}")`,T)}),o()),e(`res, ${m} := ${b}.Do(req)`,T),$(),d&&(o(),e("defer res.Body.Close()",T),e(`body, ${m} := io.ReadAll(res.Body)`,T),$()),o(),d&&e("fmt.Println(string(body))",T),c&&(o(),e("}")),i()}},Dt={info:{key:"go",title:"Go",extname:".go",default:"native",cli:"go"},clientsById:{native:Zt}},We=`\r
`,en={info:{key:"http1.1",title:"HTTP/1.1",link:"https://tools.ietf.org/html/rfc7230",description:"HTTP/1.1 request string in accordance with RFC 7230"},convert:({method:t,fullUrl:n,uriObj:s,httpVersion:r,allHeaders:a,postData:o},e)=>{const i={absoluteURI:!1,autoContentLength:!0,autoHost:!0,...e},{blank:c,push:u,join:d}=new R({indent:"",join:We}),p=i.absoluteURI?n:s.path;u(`${t} ${p} ${r}`);const m=Object.keys(a);if(m.forEach(j=>{const l=j.toLowerCase().replace(/(^|-)(\w)/g,b=>b.toUpperCase());u(`${l}: ${a[j]}`)}),i.autoHost&&!m.includes("host")&&u(`Host: ${s.host}`),i.autoContentLength&&o.text&&!m.includes("content-length")){const j=Tt.byteLength(o.text,"ascii").toString();u(`Content-Length: ${j}`)}c();const T=d(),$=o.text||"";return`${T}${We}${$}`}},tn={info:{key:"http",title:"HTTP",extname:null,default:"1.1"},clientsById:{"http1.1":en}},nn={info:{key:"asynchttp",title:"AsyncHttp",link:"https://github.com/AsyncHttpClient/async-http-client",description:"Asynchronous Http and WebSocket Client library for Java"},convert:({method:t,allHeaders:n,postData:s,fullUrl:r},a)=>{const o={indent:"  ",...a},{blank:e,push:i,join:c}=new R({indent:o.indent});return i("AsyncHttpClient client = new DefaultAsyncHttpClient();"),i(`client.prepare("${t.toUpperCase()}", "${r}")`),Object.keys(n).forEach(u=>{i(`.setHeader("${u}", "${U(n[u])}")`,1)}),s.text&&i(`.setBody(${JSON.stringify(s.text)})`,1),i(".execute()",1),i(".toCompletableFuture()",1),i(".thenAccept(System.out::println)",1),i(".join();",1),e(),i("client.close();"),c()}},rn={info:{key:"nethttp",title:"java.net.http",link:"https://openjdk.java.net/groups/net/httpclient/intro.html",description:"Java Standardized HTTP Client API"},convert:({allHeaders:t,fullUrl:n,method:s,postData:r},a)=>{const o={indent:"  ",...a},{push:e,join:i}=new R({indent:o.indent});return e("HttpRequest request = HttpRequest.newBuilder()"),e(`.uri(URI.create("${n}"))`,2),Object.keys(t).forEach(c=>{e(`.header("${c}", "${U(t[c])}")`,2)}),r.text?e(`.method("${s.toUpperCase()}", HttpRequest.BodyPublishers.ofString(${JSON.stringify(r.text)}))`,2):e(`.method("${s.toUpperCase()}", HttpRequest.BodyPublishers.noBody())`,2),e(".build();",2),e("HttpResponse<String> response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());"),e("System.out.println(response.body());"),i()}},sn={info:{key:"okhttp",title:"OkHttp",link:"http://square.github.io/okhttp/",description:"An HTTP Request Client Library"},convert:({postData:t,method:n,fullUrl:s,allHeaders:r},a)=>{const o={indent:"  ",...a},{push:e,blank:i,join:c}=new R({indent:o.indent}),u=["GET","POST","PUT","DELETE","PATCH","HEAD"],d=["POST","PUT","DELETE","PATCH"];return e("OkHttpClient client = new OkHttpClient();"),i(),t.text&&(t.boundary?e(`MediaType mediaType = MediaType.parse("${t.mimeType}; boundary=${t.boundary}");`):e(`MediaType mediaType = MediaType.parse("${t.mimeType}");`),e(`RequestBody body = RequestBody.create(mediaType, ${JSON.stringify(t.text)});`)),e("Request request = new Request.Builder()"),e(`.url("${s}")`,1),u.includes(n.toUpperCase())?d.includes(n.toUpperCase())?t.text?e(`.${n.toLowerCase()}(body)`,1):e(`.${n.toLowerCase()}(null)`,1):e(`.${n.toLowerCase()}()`,1):t.text?e(`.method("${n.toUpperCase()}", body)`,1):e(`.method("${n.toUpperCase()}", null)`,1),Object.keys(r).forEach(p=>{e(`.addHeader("${p}", "${U(r[p])}")`,1)}),e(".build();",1),i(),e("Response response = client.newCall(request).execute();"),c()}},on={info:{key:"unirest",title:"Unirest",link:"http://unirest.io/java.html",description:"Lightweight HTTP Request Client Library"},convert:({method:t,allHeaders:n,postData:s,fullUrl:r},a)=>{const o={indent:"  ",...a},{join:e,push:i}=new R({indent:o.indent});return["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].includes(t.toUpperCase())?i(`HttpResponse<String> response = Unirest.${t.toLowerCase()}("${r}")`):i(`HttpResponse<String> response = Unirest.customMethod("${t.toUpperCase()}","${r}")`),Object.keys(n).forEach(u=>{i(`.header("${u}", "${U(n[u])}")`,1)}),s.text&&i(`.body(${JSON.stringify(s.text)})`,1),i(".asString();",1),e()}},an={info:{key:"java",title:"Java",extname:".java",default:"unirest"},clientsById:{asynchttp:nn,nethttp:rn,okhttp:sn,unirest:on}},cn={info:{key:"axios",title:"Axios",link:"https://github.com/axios/axios",description:"Promise based HTTP client for the browser and node.js"},convert:({allHeaders:t,method:n,url:s,queryObj:r,postData:a},o)=>{const e={indent:"  ",...o},{blank:i,push:c,join:u,addPostProcessor:d}=new R({indent:e.indent});c("import axios from 'axios';"),i();const p={method:n,url:s};switch(Object.keys(r).length&&(p.params=r),Object.keys(t).length&&(p.headers=t),a.mimeType){case"application/x-www-form-urlencoded":a.params&&(c("const encodedParams = new URLSearchParams();"),a.params.forEach(T=>{c(`encodedParams.set('${T.name}', '${T.value}');`)}),i(),p.data="encodedParams,",d(T=>T.replace(/'encodedParams,'/,"encodedParams,")));break;case"application/json":a.jsonObj&&(p.data=a.jsonObj);break;case"multipart/form-data":if(!a.params)break;c("const form = new FormData();"),a.params.forEach(T=>{c(`form.append('${T.name}', '${T.value||T.fileName||""}');`)}),i(),p.data="[form]";break;default:a.text&&(p.data=a.text)}const m=H(p,{indent:"  ",inlineCharacterLimit:80}).replace('"[form]"',"form");return c(`const options = ${m};`),i(),c("axios"),c(".request(options)",1),c(".then(function (response) {",1),c("console.log(response.data);",2),c("})",1),c(".catch(function (error) {",1),c("console.error(error);",2),c("});",1),u()}},ln={info:{key:"fetch",title:"fetch",link:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch",description:"Perform asynchronous HTTP requests with the Fetch API"},convert:({method:t,allHeaders:n,postData:s,fullUrl:r},a)=>{const o={indent:"  ",credentials:null,...a},{blank:e,join:i,push:c}=new R({indent:o.indent}),u={method:t};switch(Object.keys(n).length&&(u.headers=n),o.credentials!==null&&(u.credentials=o.credentials),s.mimeType){case"application/x-www-form-urlencoded":u.body=s.paramsObj?s.paramsObj:s.text;break;case"application/json":s.jsonObj&&(u.body=s.jsonObj);break;case"multipart/form-data":if(!s.params)break;const d=I(n,"content-type");d&&delete n[d],c("const form = new FormData();"),s.params.forEach(p=>{c(`form.append('${p.name}', '${p.value||p.fileName||""}');`)}),e();break;default:s.text&&(u.body=s.text)}return u.headers&&!Object.keys(u.headers).length&&delete u.headers,c(`const options = ${H(u,{indent:o.indent,inlineCharacterLimit:80,transform:(d,p,m)=>{if(p==="body"){if(s.mimeType==="application/x-www-form-urlencoded")return`new URLSearchParams(${m})`;if(s.mimeType==="application/json")return`JSON.stringify(${m})`}return m}})};`),e(),s.params&&s.mimeType==="multipart/form-data"&&(c("options.body = form;"),e()),c(`fetch('${r}', options)`),c(".then(response => response.json())",1),c(".then(response => console.log(response))",1),c(".catch(err => console.error(err));",1),i()}},un={info:{key:"jquery",title:"jQuery",link:"http://api.jquery.com/jquery.ajax/",description:"Perform an asynchronous HTTP (Ajax) requests with jQuery"},convert:({fullUrl:t,method:n,allHeaders:s,postData:r},a)=>{var p;const o={indent:"  ",...a},{blank:e,push:i,join:c}=new R({indent:o.indent}),u={async:!0,crossDomain:!0,url:t,method:n,headers:s};switch(r.mimeType){case"application/x-www-form-urlencoded":u.data=r.paramsObj?r.paramsObj:r.text;break;case"application/json":u.processData=!1,u.data=r.text;break;case"multipart/form-data":if(!r.params)break;if(i("const form = new FormData();"),r.params.forEach(m=>{i(`form.append('${m.name}', '${m.value||m.fileName||""}');`)}),u.processData=!1,u.contentType=!1,u.mimeType="multipart/form-data",u.data="[form]",de(s,"content-type")&&(p=W(s,"content-type"))!=null&&p.includes("boundary")){const m=I(s,"content-type");m&&delete u.headers[m]}e();break;default:r.text&&(u.data=r.text)}const d=H(u,{indent:o.indent}).replace("'[form]'","form");return i(`const settings = ${d};`),e(),i("$.ajax(settings).done(function (response) {"),i("console.log(response);",1),i("});"),c()}},fn={info:{key:"xhr",title:"XMLHttpRequest",link:"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest",description:"W3C Standard API that provides scripted client functionality"},convert:({postData:t,allHeaders:n,method:s,fullUrl:r},a)=>{var u;const o={indent:"  ",cors:!0,...a},{blank:e,push:i,join:c}=new R({indent:o.indent});switch(t.mimeType){case"application/json":i(`const data = JSON.stringify(${H(t.jsonObj,{indent:o.indent})});`),e();break;case"multipart/form-data":if(!t.params)break;if(i("const data = new FormData();"),t.params.forEach(d=>{i(`data.append('${d.name}', '${d.value||d.fileName||""}');`)}),de(n,"content-type")&&(u=W(n,"content-type"))!=null&&u.includes("boundary")){const d=I(n,"content-type");d&&delete n[d]}e();break;default:i(`const data = ${t.text?`'${t.text}'`:"null"};`),e()}return i("const xhr = new XMLHttpRequest();"),o.cors&&i("xhr.withCredentials = true;"),e(),i("xhr.addEventListener('readystatechange', function () {"),i("if (this.readyState === this.DONE) {",1),i("console.log(this.responseText);",2),i("}",1),i("});"),e(),i(`xhr.open('${s}', '${r}');`),Object.keys(n).forEach(d=>{i(`xhr.setRequestHeader('${d}', '${ie(n[d])}');`)}),e(),i("xhr.send(data);"),c()}},dn={info:{key:"javascript",title:"JavaScript",extname:".js",default:"xhr"},clientsById:{xhr:fn,axios:cn,fetch:ln,jquery:un}},pn={info:{key:"native",title:"Native JSON",link:"https://www.json.org/json-en.html",description:"A JSON represetation of any HAR payload."},convert:({postData:t},n)=>{const s={indent:"  ",...n};let r="";switch(t.mimeType){case"application/x-www-form-urlencoded":r=t.paramsObj?t.paramsObj:t.text;break;case"application/json":t.jsonObj&&(r=t.jsonObj);break;case"multipart/form-data":if(!t.params)break;const a={};t.params.forEach(o=>{a[o.name]=o.value}),r=a;break;default:t.text&&(r=t.text)}return typeof r>"u"||r===""?"No JSON body":JSON.stringify(r,null,s.indent)}},hn={info:{key:"json",title:"JSON",extname:".json",default:"native"},clientsById:{native:pn}},mn={info:{key:"okhttp",title:"OkHttp",link:"http://square.github.io/okhttp/",description:"An HTTP Request Client Library"},convert:({postData:t,fullUrl:n,method:s,allHeaders:r},a)=>{const o={indent:"  ",...a},{blank:e,join:i,push:c}=new R({indent:o.indent}),u=["GET","POST","PUT","DELETE","PATCH","HEAD"],d=["POST","PUT","DELETE","PATCH"];return c("val client = OkHttpClient()"),e(),t.text&&(t.boundary?c(`val mediaType = MediaType.parse("${t.mimeType}; boundary=${t.boundary}")`):c(`val mediaType = MediaType.parse("${t.mimeType}")`),c(`val body = RequestBody.create(mediaType, ${JSON.stringify(t.text)})`)),c("val request = Request.Builder()"),c(`.url("${n}")`,1),u.includes(s.toUpperCase())?d.includes(s.toUpperCase())?t.text?c(`.${s.toLowerCase()}(body)`,1):c(`.${s.toLowerCase()}(null)`,1):c(`.${s.toLowerCase()}()`,1):t.text?c(`.method("${s.toUpperCase()}", body)`,1):c(`.method("${s.toUpperCase()}", null)`,1),Object.keys(r).forEach(p=>{c(`.addHeader("${p}", "${U(r[p])}")`,1)}),c(".build()",1),e(),c("val response = client.newCall(request).execute()"),i()}},yn={info:{key:"kotlin",title:"Kotlin",extname:".kt",default:"okhttp"},clientsById:{okhttp:mn}},bn={info:{key:"axios",title:"Axios",link:"https://github.com/axios/axios",description:"Promise based HTTP client for the browser and node.js"},convert:({method:t,fullUrl:n,allHeaders:s,postData:r},a)=>{const o={indent:"  ",...a},{blank:e,join:i,push:c,addPostProcessor:u}=new R({indent:o.indent});c("const axios = require('axios');");const d={method:t,url:n};switch(Object.keys(s).length&&(d.headers=s),r.mimeType){case"application/x-www-form-urlencoded":r.params&&(c("const { URLSearchParams } = require('url');"),e(),c("const encodedParams = new URLSearchParams();"),r.params.forEach(m=>{c(`encodedParams.set('${m.name}', '${m.value}');`)}),e(),d.data="encodedParams,",u(m=>m.replace(/'encodedParams,'/,"encodedParams,")));break;case"application/json":e(),r.jsonObj&&(d.data=r.jsonObj);break;default:e(),r.text&&(d.data=r.text)}const p=H(d,{indent:"  ",inlineCharacterLimit:80});return c(`const options = ${p};`),e(),c("axios"),c(".request(options)",1),c(".then(function (response) {",1),c("console.log(response.data);",2),c("})",1),c(".catch(function (error) {",1),c("console.error(error);",2),c("});",1),i()}},gn={info:{key:"fetch",title:"Fetch",link:"https://github.com/bitinn/node-fetch",description:"Simplified HTTP node-fetch client"},convert:({method:t,fullUrl:n,postData:s,headersObj:r,cookies:a},o)=>{var j;const e={indent:"  ",...o};let i=!1;const{blank:c,push:u,join:d,unshift:p}=new R({indent:e.indent});u("const fetch = require('node-fetch');");const m=n,T={method:t};switch(Object.keys(r).length&&(T.headers=r),s.mimeType){case"application/x-www-form-urlencoded":p("const { URLSearchParams } = require('url');"),u("const encodedParams = new URLSearchParams();"),c(),(j=s.params)==null||j.forEach(b=>{u(`encodedParams.set('${b.name}', '${b.value}');`)}),T.body="encodedParams";break;case"application/json":s.jsonObj&&(T.body=s.jsonObj);break;case"multipart/form-data":if(!s.params)break;const l=I(r,"content-type");l&&delete r[l],p("const FormData = require('form-data');"),u("const formData = new FormData();"),c(),s.params.forEach(b=>{if(!b.fileName&&!b.fileName&&!b.contentType){u(`formData.append('${b.name}', '${b.value}');`);return}b.fileName&&(i=!0,u(`formData.append('${b.name}', fs.createReadStream('${b.fileName}'));`))});break;default:s.text&&(T.body=s.text)}if(a.length){const l=a.map(({name:b,value:w})=>`${encodeURIComponent(b)}=${encodeURIComponent(w)}`).join("; ");T.headers||(T.headers={}),T.headers.cookie=l}c(),u(`const url = '${m}';`),T.headers&&!Object.keys(T.headers).length&&delete T.headers;const $=H(T,{indent:"  ",inlineCharacterLimit:80,transform:(l,b,w)=>b==="body"&&s.mimeType==="application/json"?`JSON.stringify(${w})`:w});return u(`const options = ${$};`),c(),i&&p("const fs = require('fs');"),s.params&&s.mimeType==="multipart/form-data"&&(u("options.body = formData;"),c()),u("fetch(url, options)"),u(".then(res => res.json())",1),u(".then(json => console.log(json))",1),u(".catch(err => console.error('error:' + err));",1),d().replace(/'encodedParams'/,"encodedParams").replace(/"fs\.createReadStream\(\\"(.+)\\"\)"/,'fs.createReadStream("$1")')}},$n={info:{key:"native",title:"HTTP",link:"http://nodejs.org/api/http.html#http_http_request_options_callback",description:"Node.js native HTTP interface"},convert:({uriObj:t,method:n,allHeaders:s,postData:r},a={})=>{var p;const{indent:o="  "}=a,{blank:e,join:i,push:c,unshift:u}=new R({indent:o}),d={method:n,hostname:t.hostname,port:t.port,path:t.path,headers:s};switch(c(`const http = require('${(p=t.protocol)==null?void 0:p.replace(":","")}');`),e(),c(`const options = ${H(d,{indent:o})};`),e(),c("const req = http.request(options, function (res) {"),c("const chunks = [];",1),e(),c("res.on('data', function (chunk) {",1),c("chunks.push(chunk);",2),c("});",1),e(),c("res.on('end', function () {",1),c("const body = Buffer.concat(chunks);",2),c("console.log(body.toString());",2),c("});",1),c("});"),e(),r.mimeType){case"application/x-www-form-urlencoded":r.paramsObj&&(u("const qs = require('querystring');"),c(`req.write(qs.stringify(${H(r.paramsObj,{indent:"  ",inlineCharacterLimit:80})}));`));break;case"application/json":r.jsonObj&&c(`req.write(JSON.stringify(${H(r.jsonObj,{indent:"  ",inlineCharacterLimit:80})}));`);break;default:r.text&&c(`req.write(${H(r.text,{indent:o})});`)}return c("req.end();"),i()}},jn={info:{key:"request",title:"Request",link:"https://github.com/request/request",description:"Simplified HTTP request client"},convert:({method:t,url:n,fullUrl:s,postData:r,headersObj:a,cookies:o},e)=>{const i={indent:"  ",...e};let c=!1;const{push:u,blank:d,join:p,unshift:m,addPostProcessor:T}=new R({indent:i.indent});u("const request = require('request');"),d();const $={method:t,url:s};switch(Object.keys(a).length&&($.headers=a),r.mimeType){case"application/x-www-form-urlencoded":$.form=r.paramsObj;break;case"application/json":r.jsonObj&&($.body=r.jsonObj,$.json=!0);break;case"multipart/form-data":if(!r.params)break;$.formData={},r.params.forEach(j=>{if(!j.fileName&&!j.fileName&&!j.contentType){$.formData[j.name]=j.value;return}let l={};j.fileName?(c=!0,l={value:`fs.createReadStream(${j.fileName})`,options:{filename:j.fileName,contentType:j.contentType?j.contentType:null}}):j.value&&(l.value=j.value),$.formData[j.name]=l}),T(j=>j.replace(/'fs\.createReadStream\((.*)\)'/,"fs.createReadStream('$1')"));break;default:r.text&&($.body=r.text)}return o.length&&($.jar="JAR",u("const jar = request.jar();"),o.forEach(({name:j,value:l})=>{u(`jar.setCookie(request.cookie('${encodeURIComponent(j)}=${encodeURIComponent(l)}'), '${n}');`)}),d(),T(j=>j.replace(/'JAR'/,"jar"))),c&&m("const fs = require('fs');"),u(`const options = ${H($,{indent:"  ",inlineCharacterLimit:80})};`),d(),u("request(options, function (error, response, body) {"),u("if (error) throw new Error(error);",1),d(),u("console.log(body);",1),u("});"),p()}},Tn={info:{key:"unirest",title:"Unirest",link:"http://unirest.io/nodejs.html",description:"Lightweight HTTP Request Client Library"},convert:({method:t,url:n,cookies:s,queryObj:r,postData:a,headersObj:o},e)=>{const i={indent:"  ",...e};let c=!1;const{addPostProcessor:u,blank:d,join:p,push:m,unshift:T}=new R({indent:i.indent});switch(m("const unirest = require('unirest');"),d(),m(`const req = unirest('${t}', '${n}');`),d(),s.length&&(m("const CookieJar = unirest.jar();"),s.forEach($=>{m(`CookieJar.add('${encodeURIComponent($.name)}=${encodeURIComponent($.value)}', '${n}');`)}),m("req.jar(CookieJar);"),d()),Object.keys(r).length&&(m(`req.query(${H(r,{indent:i.indent})});`),d()),Object.keys(o).length&&(m(`req.headers(${H(o,{indent:i.indent})});`),d()),a.mimeType){case"application/x-www-form-urlencoded":a.paramsObj&&(m(`req.form(${H(a.paramsObj,{indent:i.indent})});`),d());break;case"application/json":a.jsonObj&&(m("req.type('json');"),m(`req.send(${H(a.jsonObj,{indent:i.indent})});`),d());break;case"multipart/form-data":{if(!a.params)break;const $=[];a.params.forEach(j=>{const l={};j.fileName&&!j.value?(c=!0,l.body=`fs.createReadStream('${j.fileName}')`,u(b=>b.replace(/'fs\.createReadStream\(\\'(.+)\\'\)'/,"fs.createReadStream('$1')"))):j.value&&(l.body=j.value),l.body&&(j.contentType&&(l["content-type"]=j.contentType),$.push(l))}),m(`req.multipart(${H($,{indent:i.indent})});`),d();break}default:a.text&&(m(`req.send(${H(a.text,{indent:i.indent})});`),d())}return c&&T("const fs = require('fs');"),m("req.end(function (res) {"),m("if (res.error) throw new Error(res.error);",1),d(),m("console.log(res.body);",1),m("});"),p()}},wn={info:{key:"node",title:"Node.js",extname:".js",default:"native",cli:"node %s"},clientsById:{native:$n,request:jn,unirest:Tn,axios:bn,fetch:gn}},$e=(t,n,s,r)=>{const a=`${t} *${n} = `,o=Ce(s,r?a.length:void 0);return`${a}${o};`},Ce=(t,n)=>{const s=n===void 0?", ":`,
   ${" ".repeat(n)}`;switch(Object.prototype.toString.call(t)){case"[object Number]":return`@${t}`;case"[object Array]":return`@[ ${t.map(a=>Ce(a)).join(s)} ]`;case"[object Object]":{const r=[];return Object.keys(t).forEach(a=>{r.push(`@"${a}": ${Ce(t[a])}`)}),`@{ ${r.join(s)} }`}case"[object Boolean]":return t?"@YES":"@NO";default:return t==null?"":`@"${t.toString().replace(/"/g,'\\"')}"`}},On={info:{key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"},convert:({allHeaders:t,postData:n,method:s,fullUrl:r},a)=>{var d;const o={indent:"    ",pretty:!0,timeout:10,...a},{push:e,join:i,blank:c}=new R({indent:o.indent}),u={hasHeaders:!1,hasBody:!1};if(e("#import <Foundation/Foundation.h>"),Object.keys(t).length&&(u.hasHeaders=!0,c(),e($e("NSDictionary","headers",t,o.pretty))),n.text||n.jsonObj||n.params)switch(u.hasBody=!0,n.mimeType){case"application/x-www-form-urlencoded":if((d=n.params)!=null&&d.length){c();const[p,...m]=n.params;e(`NSMutableData *postData = [[NSMutableData alloc] initWithData:[@"${p.name}=${p.value}" dataUsingEncoding:NSUTF8StringEncoding]];`),m.forEach(({name:T,value:$})=>{e(`[postData appendData:[@"&${T}=${$}" dataUsingEncoding:NSUTF8StringEncoding]];`)})}else u.hasBody=!1;break;case"application/json":n.jsonObj&&(e($e("NSDictionary","parameters",n.jsonObj,o.pretty)),c(),e("NSData *postData = [NSJSONSerialization dataWithJSONObject:parameters options:0 error:nil];"));break;case"multipart/form-data":e($e("NSArray","parameters",n.params||[],o.pretty)),e(`NSString *boundary = @"${n.boundary}";`),c(),e("NSError *error;"),e("NSMutableString *body = [NSMutableString string];"),e("for (NSDictionary *param in parameters) {"),e('[body appendFormat:@"--%@\\r\\n", boundary];',1),e('if (param[@"fileName"]) {',1),e('[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"; filename=\\"%@\\"\\r\\n", param[@"name"], param[@"fileName"]];',2),e('[body appendFormat:@"Content-Type: %@\\r\\n\\r\\n", param[@"contentType"]];',2),e('[body appendFormat:@"%@", [NSString stringWithContentsOfFile:param[@"fileName"] encoding:NSUTF8StringEncoding error:&error]];',2),e("if (error) {",2),e('NSLog(@"%@", error);',3),e("}",2),e("} else {",1),e('[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"\\r\\n\\r\\n", param[@"name"]];',2),e('[body appendFormat:@"%@", param[@"value"]];',2),e("}",1),e("}"),e('[body appendFormat:@"\\r\\n--%@--\\r\\n", boundary];'),e("NSData *postData = [body dataUsingEncoding:NSUTF8StringEncoding];");break;default:c(),e(`NSData *postData = [[NSData alloc] initWithData:[@"${n.text}" dataUsingEncoding:NSUTF8StringEncoding]];`)}return c(),e(`NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"${r}"]`),e("                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy"),e(`                                                   timeoutInterval:${o.timeout.toFixed(1)}];`),e(`[request setHTTPMethod:@"${s}"];`),u.hasHeaders&&e("[request setAllHTTPHeaderFields:headers];"),u.hasBody&&e("[request setHTTPBody:postData];"),c(),e("NSURLSession *session = [NSURLSession sharedSession];"),e("NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request"),e("                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {"),e("                                            if (error) {",1),e('                                            NSLog(@"%@", error);',2),e("                                            } else {",1),e("                                            NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;",2),e('                                            NSLog(@"%@", httpResponse);',2),e("                                            }",1),e("                                            }];"),e("[dataTask resume];"),i()}},Sn={info:{key:"objc",title:"Objective-C",extname:".m",default:"nsurlsession"},clientsById:{nsurlsession:On}},kn={info:{key:"cohttp",title:"CoHTTP",link:"https://github.com/mirage/ocaml-cohttp",description:"Cohttp is a very lightweight HTTP server using Lwt or Async for OCaml"},convert:({fullUrl:t,allHeaders:n,postData:s,method:r},a)=>{const o={indent:"  ",...a},e=["get","post","head","delete","patch","put","options"],{push:i,blank:c,join:u}=new R({indent:o.indent});i("open Cohttp_lwt_unix"),i("open Cohttp"),i("open Lwt"),c(),i(`let uri = Uri.of_string "${t}" in`);const d=Object.keys(n);d.length===1?i(`let headers = Header.add (Header.init ()) "${d[0]}" "${U(n[d[0]])}" in`):d.length>1&&(i("let headers = Header.add_list (Header.init ()) ["),d.forEach($=>{i(`("${$}", "${U(n[$])}");`,1)}),i("] in")),s.text&&i(`let body = Cohttp_lwt_body.of_string ${JSON.stringify(s.text)} in`),c();const p=d.length?"~headers ":"",m=s.text?"~body ":"",T=e.includes(r.toLowerCase())?`\`${r.toUpperCase()}`:`(Code.method_of_string "${r}")`;return i(`Client.call ${p}${m}${T} uri`),i(">>= fun (res, body_stream) ->"),i("(* Do stuff with the result *)",1),u()}},En={info:{key:"ocaml",title:"OCaml",extname:".ml",default:"cohttp"},clientsById:{cohttp:kn}},P=(t,n,s)=>{switch(s=s||"",n=n||"",Object.prototype.toString.call(t)){case"[object Boolean]":return t;case"[object Null]":return"null";case"[object Undefined]":return"null";case"[object String]":return`'${oe(t,{delimiter:"'",escapeNewlines:!1})}'`;case"[object Number]":return t.toString();case"[object Array]":{const r=t.map(a=>P(a,`${n}${n}`,n)).join(`,
${n}`);return`[
${n}${r}
${s}]`}case"[object Object]":{const r=[];for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.push(`${P(a,n)} => ${P(t[a],`${n}${n}`,n)}`);return`[
${n}${r.join(`,
${n}`)}
${s}]`}default:return"null"}},Ge=["ACL","BASELINE_CONTROL","CHECKIN","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LABEL","LOCK","MERGE","MKACTIVITY","MKCOL","MKWORKSPACE","MOVE","OPTIONS","POST","PROPFIND","PROPPATCH","PUT","REPORT","TRACE","UNCHECKOUT","UNLOCK","UPDATE","VERSION_CONTROL"],Cn={info:{key:"curl",title:"cURL",link:"http://php.net/manual/en/book.curl.php",description:"PHP with ext-curl"},convert:({uriObj:t,postData:n,fullUrl:s,method:r,httpVersion:a,cookies:o,headersObj:e},i={})=>{const{closingTag:c=!1,indent:u="  ",maxRedirects:d=10,namedErrors:p=!1,noTags:m=!1,shortTags:T=!1,timeout:$=30}=i,{push:j,blank:l,join:b}=new R({indent:u});m||(j(T?"<?":"<?php"),l()),j("$curl = curl_init();"),l();const w=[{escape:!0,name:"CURLOPT_PORT",value:t.port},{escape:!0,name:"CURLOPT_URL",value:s},{escape:!1,name:"CURLOPT_RETURNTRANSFER",value:"true"},{escape:!0,name:"CURLOPT_ENCODING",value:""},{escape:!1,name:"CURLOPT_MAXREDIRS",value:d},{escape:!1,name:"CURLOPT_TIMEOUT",value:$},{escape:!1,name:"CURLOPT_HTTP_VERSION",value:a==="HTTP/1.0"?"CURL_HTTP_VERSION_1_0":"CURL_HTTP_VERSION_1_1"},{escape:!0,name:"CURLOPT_CUSTOMREQUEST",value:r},{escape:!n.jsonObj,name:"CURLOPT_POSTFIELDS",value:n?n.jsonObj?`json_encode(${P(n.jsonObj,u.repeat(2),u)})`:n.text:void 0}];j("curl_setopt_array($curl, [");const E=new R({indent:u,join:`
${u}`});w.forEach(({value:N,name:F,escape:G})=>{N!=null&&E.push(`${F} => ${G?JSON.stringify(N):N},`)});const q=o.map(N=>`${encodeURIComponent(N.name)}=${encodeURIComponent(N.value)}`);q.length&&E.push(`CURLOPT_COOKIE => "${q.join("; ")}",`);const v=Object.keys(e).sort().map(N=>`"${N}: ${U(e[N])}"`);return v.length&&(E.push("CURLOPT_HTTPHEADER => ["),E.push(v.join(`,
${u}${u}`),1),E.push("],")),j(E.join(),1),j("]);"),l(),j("$response = curl_exec($curl);"),j("$err = curl_error($curl);"),l(),j("curl_close($curl);"),l(),j("if ($err) {"),j(p?'echo array_flip(get_defined_constants(true)["curl"])[$err];':'echo "cURL Error #:" . $err;',1),j("} else {"),j("echo $response;",1),j("}"),!m&&c&&(l(),j("?>")),b()}},vn={info:{key:"guzzle",title:"Guzzle",link:"http://docs.guzzlephp.org/en/stable/",description:"PHP with Guzzle"},convert:({postData:t,fullUrl:n,method:s,cookies:r,headersObj:a},o)=>{var j;const e={closingTag:!1,indent:"  ",noTags:!1,shortTags:!1,...o},{push:i,blank:c,join:u}=new R({indent:e.indent}),{code:d,push:p,join:m}=new R({indent:e.indent});switch(e.noTags||i(e.shortTags?"<?":"<?php"),i("require_once('vendor/autoload.php');"),c(),t.mimeType){case"application/x-www-form-urlencoded":p(`'form_params' => ${P(t.paramsObj,e.indent+e.indent,e.indent)},`,1);break;case"multipart/form-data":{const l=[];if(t.params&&t.params.forEach(b=>{if(b.fileName){const w={name:b.name,filename:b.fileName,contents:b.value};b.contentType&&(w.headers={"Content-Type":b.contentType}),l.push(w)}else b.value&&l.push({name:b.name,contents:b.value})}),l.length&&(p(`'multipart' => ${P(l,e.indent+e.indent,e.indent)}`,1),de(a,"content-type")&&(j=W(a,"content-type"))!=null&&j.indexOf("boundary"))){const b=I(a,"content-type");b&&delete a[b]}break}default:t.text&&p(`'body' => ${P(t.text)},`,1)}const T=Object.keys(a).sort().map(function(l){return`${e.indent}${e.indent}'${l}' => '${ie(a[l])}',`}),$=r.map(l=>`${encodeURIComponent(l.name)}=${encodeURIComponent(l.value)}`).join("; ");return $.length&&T.push(`${e.indent}${e.indent}'cookie' => '${ie($)}',`),T.length&&(p("'headers' => [",1),p(T.join(`
`)),p("],",1)),i("$client = new \\GuzzleHttp\\Client();"),c(),d.length?(i(`$response = $client->request('${s}', '${n}', [`),i(m()),i("]);")):i(`$response = $client->request('${s}', '${n}');`),c(),i("echo $response->getBody();"),!e.noTags&&e.closingTag&&(c(),i("?>")),u()}},xn={info:{key:"http1",title:"HTTP v1",link:"http://php.net/manual/en/book.http.php",description:"PHP with pecl/http v1"},convert:({method:t,url:n,postData:s,queryObj:r,headersObj:a,cookiesObj:o},e={})=>{const{closingTag:i=!1,indent:c="  ",noTags:u=!1,shortTags:d=!1}=e,{push:p,blank:m,join:T}=new R({indent:c});switch(u||(p(d?"<?":"<?php"),m()),Ge.includes(t.toUpperCase())||p(`HttpRequest::methodRegister('${t}');`),p("$request = new HttpRequest();"),p(`$request->setUrl(${P(n)});`),Ge.includes(t.toUpperCase())?p(`$request->setMethod(HTTP_METH_${t.toUpperCase()});`):p(`$request->setMethod(HttpRequest::HTTP_METH_${t.toUpperCase()});`),m(),Object.keys(r).length&&(p(`$request->setQueryData(${P(r,c)});`),m()),Object.keys(a).length&&(p(`$request->setHeaders(${P(a,c)});`),m()),Object.keys(o).length&&(p(`$request->setCookies(${P(o,c)});`),m()),s.mimeType){case"application/x-www-form-urlencoded":p(`$request->setContentType(${P(s.mimeType)});`),p(`$request->setPostFields(${P(s.paramsObj,c)});`),m();break;case"application/json":p(`$request->setContentType(${P(s.mimeType)});`),p(`$request->setBody(json_encode(${P(s.jsonObj,c)}));`),m();break;default:s.text&&(p(`$request->setBody(${P(s.text)});`),m())}return p("try {"),p("$response = $request->send();",1),m(),p("echo $response->getBody();",1),p("} catch (HttpException $ex) {"),p("echo $ex;",1),p("}"),!u&&i&&(m(),p("?>")),T()}},Rn={info:{key:"http2",title:"HTTP v2",link:"http://devel-m6w6.rhcloud.com/mdref/http",description:"PHP with pecl/http v2"},convert:({postData:t,headersObj:n,method:s,queryObj:r,cookiesObj:a,url:o},e={})=>{var j;const{closingTag:i=!1,indent:c="  ",noTags:u=!1,shortTags:d=!1}=e,{push:p,blank:m,join:T}=new R({indent:c});let $=!1;switch(u||(p(d?"<?":"<?php"),m()),p("$client = new http\\Client;"),p("$request = new http\\Client\\Request;"),m(),t.mimeType){case"application/x-www-form-urlencoded":p("$body = new http\\Message\\Body;"),p(`$body->append(new http\\QueryString(${P(t.paramsObj,c)}));`),m(),$=!0;break;case"multipart/form-data":{if(!t.params)break;const l=[],b={};t.params.forEach(({name:q,fileName:v,value:N,contentType:F})=>{if(v){l.push({name:q,type:F,file:v,data:N});return}N&&(b[q]=N)});const w=Object.keys(b).length?P(b,c):"null",E=l.length?P(l,c):"null";if(p("$body = new http\\Message\\Body;"),p(`$body->addForm(${w}, ${E});`),de(n,"content-type")&&(j=W(n,"content-type"))!=null&&j.indexOf("boundary")){const q=I(n,"content-type");q&&delete n[q]}m(),$=!0;break}case"application/json":p("$body = new http\\Message\\Body;"),p(`$body->append(json_encode(${P(t.jsonObj,c)}));`),$=!0;break;default:t.text&&(p("$body = new http\\Message\\Body;"),p(`$body->append(${P(t.text)});`),m(),$=!0)}return p(`$request->setRequestUrl(${P(o)});`),p(`$request->setRequestMethod(${P(s)});`),$&&(p("$request->setBody($body);"),m()),Object.keys(r).length&&(p(`$request->setQuery(new http\\QueryString(${P(r,c)}));`),m()),Object.keys(n).length&&(p(`$request->setHeaders(${P(n,c)});`),m()),Object.keys(a).length&&(m(),p(`$client->setCookies(${P(a,c)});`),m()),p("$client->enqueue($request)->send();"),p("$response = $client->getResponse();"),m(),p("echo $response->getBody();"),!u&&i&&(m(),p("?>")),T()}},Nn={info:{key:"php",title:"PHP",extname:".php",default:"curl",cli:"php %s"},clientsById:{curl:Cn,guzzle:vn,http1:xn,http2:Rn}},rt=t=>({method:s,headersObj:r,cookies:a,uriObj:o,fullUrl:e,postData:i,allHeaders:c})=>{const{push:u,join:d}=new R;if(!["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].includes(s.toUpperCase()))return"Method not supported";const m=[],T=Object.keys(r);return T.length&&(u("$headers=@{}"),T.forEach($=>{$!=="connection"&&u(`$headers.Add("${$}", "${oe(r[$],{escapeChar:"`"})}")`)}),m.push("-Headers $headers")),a.length&&(u("$session = New-Object Microsoft.PowerShell.Commands.WebRequestSession"),a.forEach($=>{u("$cookie = New-Object System.Net.Cookie"),u(`$cookie.Name = '${$.name}'`),u(`$cookie.Value = '${$.value}'`),u(`$cookie.Domain = '${o.host}'`),u("$session.Cookies.Add($cookie)")}),m.push("-WebSession $session")),i.text&&(m.push(`-ContentType '${oe(W(c,"content-type"),{delimiter:"'",escapeChar:"`"})}'`),m.push(`-Body '${i.text}'`)),u(`$response = ${t} -Uri '${e}' -Method ${s} ${m.join(" ")}`.trim()),d()},Pn={info:{key:"restmethod",title:"Invoke-RestMethod",link:"https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-RestMethod",description:"Powershell Invoke-RestMethod client"},convert:rt("Invoke-RestMethod")},qn={info:{key:"webrequest",title:"Invoke-WebRequest",link:"https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-WebRequest",description:"Powershell Invoke-WebRequest client"},convert:rt("Invoke-WebRequest")},An={info:{key:"powershell",title:"Powershell",extname:".ps1",default:"webrequest"},clientsById:{webrequest:qn,restmethod:Pn}};function Ke(t,n,s,r,a){const o=r.repeat(a),e=r.repeat(a-1),i=s?`,
${o}`:", ",c=t==="object"?"{":"[",u=t==="object"?"}":"]";return s?`${c}
${o}${n.join(i)}
${e}${u}`:t==="object"&&n.length>0?`${c} ${n.join(i)} ${u}`:`${c}${n.join(i)}${u}`}var D=(t,n,s)=>{switch(s=s===void 0?1:s+1,Object.prototype.toString.call(t)){case"[object Number]":return t;case"[object Array]":{let r=!1;const a=t.map(o=>(Object.prototype.toString.call(o)==="[object Object]"&&(r=Object.keys(o).length>1),D(o,n,s)));return Ke("array",a,r,n.indent,s)}case"[object Object]":{const r=[];for(const a in t)r.push(`"${a}": ${D(t[a],n,s)}`);return Ke("object",r,n.pretty&&r.length>1,n.indent,s)}case"[object Null]":return"None";case"[object Boolean]":return t?"True":"False";default:return t==null?"":`"${t.toString().replace(/"/g,'\\"')}"`}},_n=["HEAD","GET","POST","PUT","PATCH","DELETE","OPTIONS"],Un={info:{key:"requests",title:"Requests",link:"http://docs.python-requests.org/en/latest/api/#requests.request",description:"Requests HTTP library"},convert:({fullUrl:t,postData:n,allHeaders:s,method:r},a)=>{const o={indent:"    ",pretty:!0,...a},{push:e,blank:i,join:c,addPostProcessor:u}=new R({indent:o.indent});e("import requests"),i(),e(`url = "${t}"`),i();const d=s;let p={};const m={};let T=!1,$=!1,j=!1;switch(n.mimeType){case"application/json":n.jsonObj&&(e(`payload = ${D(n.jsonObj,o)}`),j=!0,$=!0);break;case"multipart/form-data":if(!n.params)break;if(p={},n.params.forEach(w=>{w.fileName?(w.contentType?m[w.name]=`('${w.fileName}', open('${w.fileName}', 'rb'), '${w.contentType}')`:m[w.name]=`('${w.fileName}', open('${w.fileName}', 'rb'))`,T=!0):(p[w.name]=w.value,$=!0)}),T){e(`files = ${D(m,o)}`),$&&e(`payload = ${D(p,o)}`);const w=I(d,"content-type");w&&delete d[w]}else{const w=JSON.stringify(n.text);w&&(e(`payload = ${w}`),$=!0)}u(w=>w.replace(/"\('(.+)', open\('(.+)', 'rb'\)\)"/g,'("$1", open("$2", "rb"))').replace(/"\('(.+)', open\('(.+)', 'rb'\), '(.+)'\)"/g,'("$1", open("$2", "rb"), "$3")'));break;default:{if(n.mimeType==="application/x-www-form-urlencoded"&&n.paramsObj){e(`payload = ${D(n.paramsObj,o)}`),$=!0;break}const w=JSON.stringify(n.text);w&&(e(`payload = ${w}`),$=!0)}}const l=Object.keys(d).length;if(l===0&&($||T))i();else if(l===1)Object.keys(d).forEach(w=>{e(`headers = {"${w}": "${U(d[w])}"}`),i()});else if(l>1){let w=1;e("headers = {"),Object.keys(d).forEach(E=>{e(w!==l?`"${E}": "${U(d[E])}",`:`"${E}": "${U(d[E])}"`,1),w+=1}),e("}"),i()}let b=_n.includes(r)?`response = requests.${r.toLowerCase()}(url`:`response = requests.request("${r}", url`;return $&&(j?b+=", json=payload":b+=", data=payload"),T&&(b+=", files=files"),l>0&&(b+=", headers=headers"),b+=")",e(b),i(),e("print(response.text)"),c()}},Ln={info:{key:"python",title:"Python",extname:".py",default:"requests",cli:"python3 %s"},clientsById:{requests:Un}},Hn={info:{key:"httr",title:"httr",link:"https://cran.r-project.org/web/packages/httr/vignettes/quickstart.html",description:"httr: Tools for Working with URLs and HTTP"},convert:({url:t,queryObj:n,queryString:s,postData:r,allHeaders:a,method:o})=>{const{push:e,blank:i,join:c}=new R;e("library(httr)"),i(),e(`url <- "${t}"`),i();const u=n;delete n.key;const d=Object.keys(u).length;s.length===1?(e(`queryString <- list(${Object.keys(u)} = "${Object.values(u).toString()}")`),i()):s.length>1&&(e("queryString <- list("),Object.keys(u).forEach((v,N)=>{N!==d-1?e(`  ${v} = "${u[v].toString()}",`):e(`  ${v} = "${u[v].toString()}"`)}),e(")"),i());const p=JSON.stringify(r.text);if(p&&(e(`payload <- ${p}`),i()),r.text||r.jsonObj||r.params)switch(r.mimeType){case"application/x-www-form-urlencoded":e('encode <- "form"'),i();break;case"application/json":e('encode <- "json"'),i();break;case"multipart/form-data":e('encode <- "multipart"'),i();break;default:e('encode <- "raw"'),i();break}const m=W(a,"cookie"),T=W(a,"accept"),$=m?`set_cookies(\`${String(m).replace(/;/g,'", `').replace(/` /g,"`").replace(/[=]/g,'` = "')}")`:void 0,j=T?`accept("${U(T)}")`:void 0,l=`content_type("${U(r.mimeType)}")`,b=Object.entries(a).filter(([v])=>!["cookie","accept","content-type"].includes(v.toLowerCase())).map(([v,N])=>`'${v}' = '${ie(N)}'`).join(", "),w=b?`add_headers(${b})`:void 0;let E=`response <- VERB("${o}", url`;p&&(E+=", body = payload"),s.length&&(E+=", query = queryString");const q=[w,l,j,$].filter(v=>!!v).join(", ");return q&&(E+=`, ${q}`),(r.text||r.jsonObj||r.params)&&(E+=", encode = encode"),E+=")",e(E),i(),e('content(response, "text")'),c()}},In={info:{key:"r",title:"R",extname:".r",default:"httr"},clientsById:{httr:Hn}},Bn={info:{key:"native",title:"net::http",link:"http://ruby-doc.org/stdlib-2.2.1/libdoc/net/http/rdoc/Net/HTTP.html",description:"Ruby HTTP client"},convert:({uriObj:t,method:n,fullUrl:s,postData:r,allHeaders:a})=>{const{push:o,blank:e,join:i}=new R;o("require 'uri'"),o("require 'net/http'"),e();const c=n.toUpperCase(),u=["GET","POST","HEAD","DELETE","PATCH","PUT","OPTIONS","COPY","LOCK","UNLOCK","MOVE","TRACE"],d=c.charAt(0)+c.substring(1).toLowerCase();u.includes(c)||(o(`class Net::HTTP::${d} < Net::HTTPRequest`),o(`  METHOD = '${c.toUpperCase()}'`),o(`  REQUEST_HAS_BODY = '${r.text?"true":"false"}'`),o("  RESPONSE_HAS_BODY = true"),o("end"),e()),o(`url = URI("${s}")`),e(),o("http = Net::HTTP.new(url.host, url.port)"),t.protocol==="https:"&&o("http.use_ssl = true"),e(),o(`request = Net::HTTP::${d}.new(url)`);const p=Object.keys(a);return p.length&&p.forEach(m=>{o(`request["${m}"] = '${ie(a[m])}'`)}),r.text&&o(`request.body = ${JSON.stringify(r.text)}`),e(),o("response = http.request(request)"),o("puts response.read_body"),i()}},Fn={info:{key:"ruby",title:"Ruby",extname:".rb",default:"native"},clientsById:{native:Bn}},L=(t="")=>/^[a-z0-9-_/.@%^=:]+$/i.test(t)?t:`'${t.replace(/'/g,"'\\''")}'`,Mn=t=>t.replace(/\r/g,"\\r").replace(/\n/g,"\\n"),Jn={"http1.0":"0","url ":"",cookie:"b",data:"d",form:"F",globoff:"g",header:"H",insecure:"k",request:"X"},Vn=t=>n=>{if(t){const s=Jn[n];return s?`-${s}`:""}return`--${n}`},zn={info:{key:"curl",title:"cURL",link:"http://curl.haxx.se/",description:"cURL is a command line tool and library for transferring data with URL syntax"},convert:({fullUrl:t,method:n,httpVersion:s,headersObj:r,allHeaders:a,postData:o},e={})=>{var l;const{indent:i="  ",short:c=!1,binary:u=!1,globOff:d=!1}=e,p="  ",{push:m,join:T}=new R({...typeof i=="string"?{indent:i}:{},join:i!==!1?` \\
${i}`:" "}),$=Vn(c);let j=L(t);if(m(`curl ${$("request")} ${n}`),d&&(j=unescape(j),m($("globoff"))),m(`${$("url ")}${j}`),s==="HTTP/1.0"&&m($("http1.0")),W(a,"accept-encoding")&&m("--compressed"),o.mimeType==="multipart/form-data"){const b=I(r,"content-type");if(b){const w=r[b];if(b&&w){const E=String(w).replace(/; boundary.+?(?=(;|$))/,"");r[b]=E,a[b]=E}}}switch(Object.keys(r).sort().forEach(b=>{const w=`${b}: ${r[b]}`;m(`${$("header")} ${L(w)}`)}),a.cookie&&m(`${$("cookie")} ${L(a.cookie)}`),o.mimeType){case"multipart/form-data":(l=o.params)==null||l.forEach(w=>{let E="";w.fileName?E=`${w.name}=@${w.fileName}`:E=`${w.name}=${w.value}`,m(`${$("form")} ${L(E)}`)});break;case"application/x-www-form-urlencoded":o.params?o.params.forEach(w=>{const E=w.name,q=encodeURIComponent(w.name),v=q!==E;m(`${u?"--data-binary":`--data${v?"-urlencode":""}`} ${L(`${v?q:E}=${w.value}`)}`)}):m(`${u?"--data-binary":$("data")} ${L(o.text)}`);break;default:if(!o.text)break;let b=!1;if(Jt(o.mimeType)&&o.text.length>20)try{const w=JSON.parse(o.text);b=!0,o.text.indexOf("'")>0?m(`${u?"--data-binary":$("data")} @- <<EOF
${JSON.stringify(w,null,p)}
EOF`):m(`${u?"--data-binary":$("data")} '
${JSON.stringify(w,null,p)}
'`)}catch{}b||m(`${u?"--data-binary":$("data")} ${L(o.text)}`)}return T()}},Wn={info:{key:"httpie",title:"HTTPie",link:"http://httpie.org/",description:"a CLI, cURL-like tool for humans"},convert:({allHeaders:t,postData:n,queryObj:s,fullUrl:r,method:a,url:o},e)=>{const i={body:!1,cert:!1,headers:!1,indent:"  ",pretty:!1,print:!1,queryParams:!1,short:!1,style:!1,timeout:!1,verbose:!1,verify:!1,...e},{push:c,join:u,unshift:d}=new R({indent:i.indent,join:i.indent!==!1?` \\
${i.indent}`:" "});let p=!1;const m=[];i.headers&&m.push(i.short?"-h":"--headers"),i.body&&m.push(i.short?"-b":"--body"),i.verbose&&m.push(i.short?"-v":"--verbose"),i.print&&m.push(`${i.short?"-p":"--print"}=${i.print}`),i.verify&&m.push(`--verify=${i.verify}`),i.cert&&m.push(`--cert=${i.cert}`),i.pretty&&m.push(`--pretty=${i.pretty}`),i.style&&m.push(`--style=${i.style}`),i.timeout&&m.push(`--timeout=${i.timeout}`),i.queryParams&&Object.keys(s).forEach($=>{const j=s[$];Array.isArray(j)?j.forEach(l=>{c(`${$}==${L(l)}`)}):c(`${$}==${L(j)}`)}),Object.keys(t).sort().forEach($=>{c(`${$}:${L(t[$])}`)}),n.mimeType==="application/x-www-form-urlencoded"?n.params&&n.params.length&&(m.push(i.short?"-f":"--form"),n.params.forEach($=>{c(`${$.name}=${L($.value)}`)})):p=!0;const T=m.length?`${m.join(" ")} `:"";if(o=L(i.queryParams?o:r),d(`http ${T}${a} ${o}`),p&&n.text){const $=L(n.text);d(`echo ${$} | `)}return u()}},Gn={info:{key:"wget",title:"Wget",link:"https://www.gnu.org/software/wget/",description:"a free software package for retrieving files using HTTP, HTTPS"},convert:({method:t,postData:n,allHeaders:s,fullUrl:r},a)=>{const o={indent:"  ",short:!1,verbose:!1,...a},{push:e,join:i}=new R({...typeof o.indent=="string"?{indent:o.indent}:{},join:o.indent!==!1?` \\
${o.indent}`:" "});return o.verbose?e(`wget ${o.short?"-v":"--verbose"}`):e(`wget ${o.short?"-q":"--quiet"}`),e(`--method ${L(t)}`),Object.keys(s).forEach(c=>{const u=`${c}: ${s[c]}`;e(`--header ${L(u)}`)}),n.text&&e(`--body-data ${Mn(L(n.text))}`),e(o.short?"-O":"--output-document"),e(`- ${L(r)}`),i()}},Kn={info:{key:"shell",title:"Shell",extname:".sh",default:"curl",cli:"%s"},clientsById:{curl:zn,httpie:Wn,wget:Gn}},Qe=(t,n)=>n.repeat(t),Ye=(t,n,s,r)=>{const a=Qe(r,s),o=Qe(r-1,s),e=n?`,
${a}`:", ";return n?`[
${a}${t.join(e)}
${o}]`:`[${t.join(e)}]`},je=(t,n,s)=>`let ${t} = ${ve(n,s)}`,ve=(t,n,s)=>{switch(s=s===void 0?1:s+1,Object.prototype.toString.call(t)){case"[object Number]":return t;case"[object Array]":{let r=!1;const a=t.map(o=>(Object.prototype.toString.call(o)==="[object Object]"&&(r=Object.keys(o).length>1),ve(o,n,s)));return Ye(a,r,n.indent,s)}case"[object Object]":{const r=[];for(const a in t)r.push(`"${a}": ${ve(t[a],n,s)}`);return Ye(r,n.pretty&&r.length>1,n.indent,s)}case"[object Boolean]":return t.toString();default:return t==null?"":`"${t.toString().replace(/"/g,'\\"')}"`}},Qn={info:{key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"},convert:({allHeaders:t,postData:n,fullUrl:s,method:r},a)=>{var d;const o={indent:"  ",pretty:!0,timeout:"10",...a},{push:e,blank:i,join:c}=new R({indent:o.indent}),u={hasHeaders:!1,hasBody:!1};if(e("import Foundation"),Object.keys(t).length&&(u.hasHeaders=!0,i(),e(je("headers",t,o))),n.text||n.jsonObj||n.params)switch(u.hasBody=!0,n.mimeType){case"application/x-www-form-urlencoded":if(i(),(d=n.params)!=null&&d.length){const[p,...m]=n.params;e(`let postData = NSMutableData(data: "${p.name}=${p.value}".data(using: String.Encoding.utf8)!)`),m.forEach(({name:T,value:$})=>{e(`postData.append("&${T}=${$}".data(using: String.Encoding.utf8)!)`)})}else u.hasBody=!1;break;case"application/json":n.jsonObj&&(e(`${je("parameters",n.jsonObj,o)} as [String : Any]`),i(),e("let postData = JSONSerialization.data(withJSONObject: parameters, options: [])"));break;case"multipart/form-data":e(je("parameters",n.params,o)),i(),e(`let boundary = "${n.boundary}"`),i(),e('var body = ""'),e("var error: NSError? = nil"),e("for param in parameters {"),e('let paramName = param["name"]!',1),e('body += "--\\(boundary)\\r\\n"',1),e('body += "Content-Disposition:form-data; name=\\"\\(paramName)\\""',1),e('if let filename = param["fileName"] {',1),e('let contentType = param["content-type"]!',2),e("let fileContent = String(contentsOfFile: filename, encoding: String.Encoding.utf8)",2),e("if (error != nil) {",2),e("print(error as Any)",3),e("}",2),e('body += "; filename=\\"\\(filename)\\"\\r\\n"',2),e('body += "Content-Type: \\(contentType)\\r\\n\\r\\n"',2),e("body += fileContent",2),e('} else if let paramValue = param["value"] {',1),e('body += "\\r\\n\\r\\n\\(paramValue)"',2),e("}",1),e("}");break;default:i(),e(`let postData = NSData(data: "${n.text}".data(using: String.Encoding.utf8)!)`)}return i(),e(`let request = NSMutableURLRequest(url: NSURL(string: "${s}")! as URL,`),e("                                        cachePolicy: .useProtocolCachePolicy,"),e(`                                    timeoutInterval: ${parseInt(o.timeout,10).toFixed(1)})`),e(`request.httpMethod = "${r}"`),u.hasHeaders&&e("request.allHTTPHeaderFields = headers"),u.hasBody&&e("request.httpBody = postData as Data"),i(),e("let session = URLSession.shared"),e("let dataTask = session.dataTask(with: request as URLRequest, completionHandler: { (data, response, error) -> Void in"),e("if (error != nil) {",1),e("print(error as Any)",2),e("} else {",1),e("let httpResponse = response as? HTTPURLResponse",2),e("print(httpResponse)",2),e("}",1),e("})"),i(),e("dataTask.resume()"),c()}},Yn={info:{key:"swift",title:"Swift",extname:".swift",default:"nsurlsession"},clientsById:{nsurlsession:Qn}},st={c:Mt,clojure:Wt,csharp:Xt,go:Dt,http:tn,java:an,javascript:dn,json:hn,kotlin:yn,node:wn,objc:Sn,ocaml:En,php:Nn,powershell:An,python:Ln,r:In,ruby:Fn,shell:Kn,swift:Yn},Xn=typeof self=="object"?self.FormData:window.FormData;const Zn=Re(Xn);var Dn=Rt.Stream,er=function(t,n){var s=new Dn,r=0,a=0,o=!1,e=!1,i=!1,c=0,u=!1;n=n||{};var d=n.failures?"failure":"error",p={};s.writable=!0,s.readable=!0;function m(l,b){var w=c+1;if(b===w?(l!==void 0&&s.emit.apply(s,["data",l]),c++,w++):p[b]=l,p.hasOwnProperty(w)){var E=p[w];return delete p[w],m(E,w)}a++,r===a&&(e&&(e=!1,s.emit("drain")),o&&j())}function T(l,b,w){i||(u=!0,(!l||n.failures)&&m(b,w),l&&s.emit.apply(s,[d,l]),u=!1)}function $(l,b,w){return t.call(null,l,function(E,q){w(E,q,b)})}s.write=function(l){if(o)throw new Error("map stream is not writable");u=!1,r++;try{var b=$(l,r,T);return e=b===!1,!e}catch(w){if(u)throw w;return T(w),!e}};function j(l){if(o=!0,s.writable=!1,l!==void 0)return m(l,r);r==a&&(s.readable=!1,s.emit("end"),s.destroy())}return s.end=function(l){o||j(l)},s.destroy=function(){o=i=!0,s.writable=s.readable=e=!1,z.nextTick(function(){s.emit("close")})},s.pause=function(){e=!0},s.resume=function(){e=!1},s};const tr=Re(er);var se=`\r
`,xe="-".repeat(2),nr=Symbol.toStringTag,qe=t=>typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[nr]),rr=t=>`${xe}${t}${xe}${se.repeat(2)}`,sr=(t,n,s)=>{let r="";return r+=`${xe}${t}${se}`,r+=`Content-Disposition: form-data; name="${n}"`,qe(s)&&(r+=`; filename="${s.name}"${se}`,r+=`Content-Type: ${s.type||"application/octet-stream"}`),`${r}${se.repeat(2)}`},or=function*(t,n){for(const[s,r]of t)yield sr(n,s,r),qe(r)?yield*r.stream():yield r,yield se;yield rr(n)},ir=t=>typeof t=="object"&&"log"in t&&typeof t.log=="object"&&"entries"in t.log&&Array.isArray(t.log.entries),ar=class{constructor(t,n={}){this.requests=[],this.prepare=(a,o)=>{var $,j,l;const e={...a,fullUrl:"",uriObj:{},queryObj:{},headersObj:{},cookiesObj:{},allHeaders:{}};if(e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(Fe,{})),e.headers&&e.headers.length){const b=/^HTTP\/2/;e.headersObj=e.headers.reduce((w,{name:E,value:q})=>{const v=b.exec(e.httpVersion)?E.toLocaleLowerCase():E;return{...w,[v]:q}},{})}e.cookies&&e.cookies.length&&(e.cookiesObj=e.cookies.reduceRight((b,{name:w,value:E})=>({...b,[w]:E}),{}));const i=($=e.cookies)==null?void 0:$.map(({name:b,value:w})=>o.harIsAlreadyEncoded?`${b}=${w}`:`${encodeURIComponent(b)}=${encodeURIComponent(w)}`);switch(i!=null&&i.length&&(e.allHeaders.cookie=i.join("; ")),e.postData.mimeType){case"multipart/mixed":case"multipart/related":case"multipart/form-data":case"multipart/alternative":if(e.postData.text="",e.postData.mimeType="multipart/form-data",(j=e.postData)!=null&&j.params){const b=new Zn,w=typeof b[Symbol.iterator]=="function",E="---011000010111000001101001";if(w||(b._boundary=E),(l=e.postData)==null||l.params.forEach(v=>{const N=v.name,F=v.value||"",G=v.fileName||null;w?qe(F)?b.append(N,F,G):b.append(N,F):b.append(N,F,{filename:G,contentType:v.contentType||null})}),w)for(const v of or(b,E))e.postData.text+=v;else b.pipe(tr(v=>{e.postData.text+=v}));e.postData.boundary=E;const q=I(e.headersObj,"content-type")||"content-type";e.headersObj[q]=`multipart/form-data; boundary=${E}`}break;case"application/x-www-form-urlencoded":e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(Fe,{}),e.postData.text=me.stringify(e.postData.paramsObj)):e.postData.text="";break;case"text/json":case"text/x-json":case"application/json":case"application/x-json":if(e.postData.mimeType="application/json",e.postData.text)try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch{e.postData.mimeType="text/plain"}break}const c={...e.allHeaders,...e.headersObj},u=ge.parse(e.url,!0,!0);e.queryObj={...e.queryObj,...u.query};let d;o.harIsAlreadyEncoded?d=me.stringify(e.queryObj,{encode:!1,indices:!1}):d=me.stringify(e.queryObj,{indices:!1});const p={...u,query:e.queryObj,search:d,path:d?`${u.pathname}?${d}`:u.pathname},m=ge.format({...u,query:null,search:null}),T=ge.format({...u,...p});return{...e,allHeaders:c,fullUrl:T,url:m,uriObj:p}},this.convert=(a,o,e)=>{!e&&o&&(e=o);const i=st[a];if(!i)return!1;const{convert:c}=i.clientsById[o||i.info.default],u=this.requests.map(d=>c(d,e));return u.length===1?u[0]:u};let s=[];const r={harIsAlreadyEncoded:!1,...n};this.requests=[],ir(t)?s=t.log.entries:s=[{request:t}],s.forEach(({request:a})=>{var e;const o={bodySize:0,headersSize:0,headers:[],cookies:[],httpVersion:"HTTP/1.1",queryString:[],postData:{mimeType:((e=a.postData)==null?void 0:e.mimeType)||"application/octet-stream"},...a};o.postData&&!o.postData.mimeType&&(o.postData.mimeType="application/octet-stream"),this.requests.push(this.prepare(o,r))})}};/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */function re(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let s="",r=!1;const a=t.match(/^-+/);for(let o=a?a[0].length:0;o<t.length;o++){let e=t.charAt(o);r&&(r=!1,e=e.toUpperCase()),o!==0&&(e==="-"||e==="_")?r=!0:e!=="-"&&e!=="_"&&(s+=e)}return s}}function ot(t,n){const s=t.toLowerCase();n=n||"-";let r="";for(let a=0;a<t.length;a++){const o=s.charAt(a),e=t.charAt(a);o!==e&&a>0?r+=`${n}${s.charAt(a)}`:r+=e}return r}function it(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */function cr(t){if(Array.isArray(t))return t.map(e=>typeof e!="string"?e+"":e);t=t.trim();let n=0,s=null,r=null,a=null;const o=[];for(let e=0;e<t.length;e++){if(s=r,r=t.charAt(e),r===" "&&!a){s!==" "&&n++;continue}r===a?a=null:(r==="'"||r==='"')&&!a&&(a=r),o[n]||(o[n]=""),o[n]+=r}return o}/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */var J;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(J||(J={}));/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */let Y;class lr{constructor(n){Y=n}parse(n,s){const r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},s),a=cr(n),o=typeof n=="string",e=ur(Object.assign(Object.create(null),r.alias)),i=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),c=Object.assign(Object.create(null),r.default),u=r.configObjects||[],d=r.envPrefix,p=i["populate--"],m=p?"--":"_",T=Object.create(null),$=Object.create(null),j=r.__||Y.format,l={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},b=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,w=new RegExp("^--"+i["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(f){const y=typeof f=="object"?f.key:f,O=Object.keys(f).map(function(g){return{boolean:"bools",string:"strings",number:"numbers"}[g]}).filter(Boolean).pop();O&&(l[O][y]=!0),l.arrays[y]=!0,l.keys.push(y)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(f){l.bools[f]=!0,l.keys.push(f)}),[].concat(r.string||[]).filter(Boolean).forEach(function(f){l.strings[f]=!0,l.keys.push(f)}),[].concat(r.number||[]).filter(Boolean).forEach(function(f){l.numbers[f]=!0,l.keys.push(f)}),[].concat(r.count||[]).filter(Boolean).forEach(function(f){l.counts[f]=!0,l.keys.push(f)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(f){l.normalize[f]=!0,l.keys.push(f)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([f,y])=>{typeof y=="number"&&(l.nargs[f]=y,l.keys.push(f))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([f,y])=>{typeof y=="function"&&(l.coercions[f]=y,l.keys.push(f))}),typeof r.config<"u"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(f){l.configs[f]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([f,y])=>{(typeof y=="boolean"||typeof y=="function")&&(l.configs[f]=y)})),ht(r.key,e,r.default,l.arrays),Object.keys(c).forEach(function(f){(l.aliases[f]||[]).forEach(function(y){c[y]=c[f]})});let E=null;jt();let q=[];const v=Object.assign(Object.create(null),{_:[]}),N={};for(let f=0;f<a.length;f++){const y=a[f],O=y.replace(/^-{3,}/,"---");let g,h,k,S,C,_;if(y!=="--"&&/^-/.test(y)&&le(y))F(y);else if(O.match(/^---+(=|$)/)){F(y);continue}else if(y.match(/^--.+=/)||!i["short-option-groups"]&&y.match(/^-.+=/))S=y.match(/^--?([^=]+)=([\s\S]*)$/),S!==null&&Array.isArray(S)&&S.length>=3&&(x(S[1],l.arrays)?f=ae(f,S[1],a,S[2]):x(S[1],l.nargs)!==!1?f=G(f,S[1],a,S[2]):A(S[1],S[2],!0));else if(y.match(w)&&i["boolean-negation"])S=y.match(w),S!==null&&Array.isArray(S)&&S.length>=2&&(h=S[1],A(h,x(h,l.arrays)?[!1]:!1));else if(y.match(/^--.+/)||!i["short-option-groups"]&&y.match(/^-[^-]+/))S=y.match(/^--?(.+)/),S!==null&&Array.isArray(S)&&S.length>=2&&(h=S[1],x(h,l.arrays)?f=ae(f,h,a):x(h,l.nargs)!==!1?f=G(f,h,a):(C=a[f+1],C!==void 0&&(!C.match(/^-/)||C.match(b))&&!x(h,l.bools)&&!x(h,l.counts)||/^(true|false)$/.test(C)?(A(h,C),f++):A(h,X(h))));else if(y.match(/^-.\..+=/))S=y.match(/^-([^=]+)=([\s\S]*)$/),S!==null&&Array.isArray(S)&&S.length>=3&&A(S[1],S[2]);else if(y.match(/^-.\..+/)&&!y.match(b))C=a[f+1],S=y.match(/^-(.\..+)/),S!==null&&Array.isArray(S)&&S.length>=2&&(h=S[1],C!==void 0&&!C.match(/^-/)&&!x(h,l.bools)&&!x(h,l.counts)?(A(h,C),f++):A(h,X(h)));else if(y.match(/^-[^-]+/)&&!y.match(b)){k=y.slice(1,-1).split(""),g=!1;for(let B=0;B<k.length;B++){if(C=y.slice(B+2),k[B+1]&&k[B+1]==="="){_=y.slice(B+3),h=k[B],x(h,l.arrays)?f=ae(f,h,a,_):x(h,l.nargs)!==!1?f=G(f,h,a,_):A(h,_),g=!0;break}if(C==="-"){A(k[B],C);continue}if(/[A-Za-z]/.test(k[B])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(C)&&x(C,l.bools)===!1){A(k[B],C),g=!0;break}if(k[B+1]&&k[B+1].match(/\W/)){A(k[B],C),g=!0;break}else A(k[B],X(k[B]))}h=y.slice(-1)[0],!g&&h!=="-"&&(x(h,l.arrays)?f=ae(f,h,a):x(h,l.nargs)!==!1?f=G(f,h,a):(C=a[f+1],C!==void 0&&(!/^(-|--)[^-]/.test(C)||C.match(b))&&!x(h,l.bools)&&!x(h,l.counts)||/^(true|false)$/.test(C)?(A(h,C),f++):A(h,X(h))))}else if(y.match(/^-[0-9]$/)&&y.match(b)&&x(y.slice(1),l.bools))h=y.slice(1),A(h,X(h));else if(y==="--"){q=a.slice(f+1);break}else if(i["halt-at-non-option"]){q=a.slice(f);break}else F(y)}_e(v,!0),_e(v,!1),ut(v),ft(),Ue(v,l.aliases,c,!0),dt(v),i["set-placeholder-key"]&&pt(v),Object.keys(l.counts).forEach(function(f){te(v,f.split("."))||A(f,0)}),p&&q.length&&(v[m]=[]),q.forEach(function(f){v[m].push(f)}),i["camel-case-expansion"]&&i["strip-dashed"]&&Object.keys(v).filter(f=>f!=="--"&&f.includes("-")).forEach(f=>{delete v[f]}),i["strip-aliased"]&&[].concat(...Object.keys(e).map(f=>e[f])).forEach(f=>{i["camel-case-expansion"]&&f.includes("-")&&delete v[f.split(".").map(y=>re(y)).join(".")],delete v[f]});function F(f){const y=ce("_",f);(typeof y=="string"||typeof y=="number")&&v._.push(y)}function G(f,y,O,g){let h,k=x(y,l.nargs);if(k=typeof k!="number"||isNaN(k)?1:k,k===0)return K(g)||(E=Error(j("Argument unexpected for: %s",y))),A(y,X(y)),f;let S=K(g)?0:1;if(i["nargs-eats-options"])O.length-(f+1)+S<k&&(E=Error(j("Not enough arguments following: %s",y))),S=k;else{for(h=f+1;h<O.length&&(!O[h].match(/^-[^0-9]/)||O[h].match(b)||le(O[h]));h++)S++;S<k&&(E=Error(j("Not enough arguments following: %s",y)))}let C=Math.min(S,k);for(!K(g)&&C>0&&(A(y,g),C--),h=f+1;h<C+f+1;h++)A(y,O[h]);return f+C}function ae(f,y,O,g){let h=[],k=g||O[f+1];const S=x(y,l.nargs);if(x(y,l.bools)&&!/^(true|false)$/.test(k))h.push(!0);else if(K(k)||K(g)&&/^-/.test(k)&&!b.test(k)&&!le(k)){if(c[y]!==void 0){const C=c[y];h=Array.isArray(C)?C:[C]}}else{K(g)||h.push(pe(y,g,!0));for(let C=f+1;C<O.length&&!(!i["greedy-arrays"]&&h.length>0||S&&typeof S=="number"&&h.length>=S||(k=O[C],/^-/.test(k)&&!b.test(k)&&!le(k)));C++)f=C,h.push(pe(y,k,o))}return typeof S=="number"&&(S&&h.length<S||isNaN(S)&&h.length===0)&&(E=Error(j("Not enough arguments following: %s",y))),A(y,h),f}function A(f,y,O=o){if(/-/.test(f)&&i["camel-case-expansion"]){const k=f.split(".").map(function(S){return re(S)}).join(".");Ae(f,k)}const g=pe(f,y,O),h=f.split(".");ne(v,h,g),l.aliases[f]&&l.aliases[f].forEach(function(k){const S=k.split(".");ne(v,S,g)}),h.length>1&&i["dot-notation"]&&(l.aliases[h[0]]||[]).forEach(function(k){let S=k.split(".");const C=[].concat(h);C.shift(),S=S.concat(C),(l.aliases[f]||[]).includes(S.join("."))||ne(v,S,g)}),x(f,l.normalize)&&!x(f,l.arrays)&&[f].concat(l.aliases[f]||[]).forEach(function(S){Object.defineProperty(N,S,{enumerable:!0,get(){return y},set(C){y=typeof C=="string"?Y.normalize(C):C}})})}function Ae(f,y){l.aliases[f]&&l.aliases[f].length||(l.aliases[f]=[y],T[y]=!0),l.aliases[y]&&l.aliases[y].length||Ae(y,f)}function pe(f,y,O){O&&(y=fr(y)),(x(f,l.bools)||x(f,l.counts))&&typeof y=="string"&&(y=y==="true");let g=Array.isArray(y)?y.map(function(h){return ce(f,h)}):ce(f,y);return x(f,l.counts)&&(K(g)||typeof g=="boolean")&&(g=Te()),x(f,l.normalize)&&x(f,l.arrays)&&(Array.isArray(y)?g=y.map(h=>Y.normalize(h)):g=Y.normalize(y)),g}function ce(f,y){return!i["parse-positional-numbers"]&&f==="_"||!x(f,l.strings)&&!x(f,l.bools)&&!Array.isArray(y)&&(it(y)&&i["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${y}`)))||!K(y)&&x(f,l.numbers))&&(y=Number(y)),y}function ut(f){const y=Object.create(null);Ue(y,l.aliases,c),Object.keys(l.configs).forEach(function(O){const g=f[O]||y[O];if(g)try{let h=null;const k=Y.resolve(Y.cwd(),g),S=l.configs[O];if(typeof S=="function"){try{h=S(k)}catch(C){h=C}if(h instanceof Error){E=h;return}}else h=Y.require(k);he(h)}catch(h){h.name==="PermissionDenied"?E=h:f[O]&&(E=Error(j("Invalid JSON config file: %s",g)))}})}function he(f,y){Object.keys(f).forEach(function(O){const g=f[O],h=y?y+"."+O:O;typeof g=="object"&&g!==null&&!Array.isArray(g)&&i["dot-notation"]?he(g,h):(!te(v,h.split("."))||x(h,l.arrays)&&i["combine-arrays"])&&A(h,g)})}function ft(){typeof u<"u"&&u.forEach(function(f){he(f)})}function _e(f,y){if(typeof d>"u")return;const O=typeof d=="string"?d:"",g=Y.env();Object.keys(g).forEach(function(h){if(O===""||h.lastIndexOf(O,0)===0){const k=h.split("__").map(function(S,C){return C===0&&(S=S.substring(O.length)),re(S)});(y&&l.configs[k.join(".")]||!y)&&!te(f,k)&&A(k.join("."),g[h])}})}function dt(f){let y;const O=new Set;Object.keys(f).forEach(function(g){if(!O.has(g)&&(y=x(g,l.coercions),typeof y=="function"))try{const h=ce(g,y(f[g]));[].concat(l.aliases[g]||[],g).forEach(k=>{O.add(k),f[k]=h})}catch(h){E=h}})}function pt(f){return l.keys.forEach(y=>{~y.indexOf(".")||typeof f[y]>"u"&&(f[y]=void 0)}),f}function Ue(f,y,O,g=!1){Object.keys(O).forEach(function(h){te(f,h.split("."))||(ne(f,h.split("."),O[h]),g&&($[h]=!0),(y[h]||[]).forEach(function(k){te(f,k.split("."))||ne(f,k.split("."),O[h])}))})}function te(f,y){let O=f;i["dot-notation"]||(y=[y.join(".")]),y.slice(0,-1).forEach(function(h){O=O[h]||{}});const g=y[y.length-1];return typeof O!="object"?!1:g in O}function ne(f,y,O){let g=f;i["dot-notation"]||(y=[y.join(".")]),y.slice(0,-1).forEach(function(_){_=Xe(_),typeof g=="object"&&g[_]===void 0&&(g[_]={}),typeof g[_]!="object"||Array.isArray(g[_])?(Array.isArray(g[_])?g[_].push({}):g[_]=[g[_],{}],g=g[_][g[_].length-1]):g=g[_]});const h=Xe(y[y.length-1]),k=x(y.join("."),l.arrays),S=Array.isArray(O);let C=i["duplicate-arguments-array"];!C&&x(h,l.nargs)&&(C=!0,(!K(g[h])&&l.nargs[h]===1||Array.isArray(g[h])&&g[h].length===l.nargs[h])&&(g[h]=void 0)),O===Te()?g[h]=Te(g[h]):Array.isArray(g[h])?C&&k&&S?g[h]=i["flatten-duplicate-arrays"]?g[h].concat(O):(Array.isArray(g[h][0])?g[h]:[g[h]]).concat([O]):!C&&!!k==!!S?g[h]=O:g[h]=g[h].concat([O]):g[h]===void 0&&k?g[h]=S?O:[O]:C&&!(g[h]===void 0||x(h,l.counts)||x(h,l.bools))?g[h]=[g[h],O]:g[h]=O}function ht(...f){f.forEach(function(y){Object.keys(y||{}).forEach(function(O){l.aliases[O]||(l.aliases[O]=[].concat(e[O]||[]),l.aliases[O].concat(O).forEach(function(g){if(/-/.test(g)&&i["camel-case-expansion"]){const h=re(g);h!==O&&l.aliases[O].indexOf(h)===-1&&(l.aliases[O].push(h),T[h]=!0)}}),l.aliases[O].concat(O).forEach(function(g){if(g.length>1&&/[A-Z]/.test(g)&&i["camel-case-expansion"]){const h=ot(g,"-");h!==O&&l.aliases[O].indexOf(h)===-1&&(l.aliases[O].push(h),T[h]=!0)}}),l.aliases[O].forEach(function(g){l.aliases[g]=[O].concat(l.aliases[O].filter(function(h){return g!==h}))}))})})}function x(f,y){const O=[].concat(l.aliases[f]||[],f),g=Object.keys(y),h=O.find(k=>g.includes(k));return h?y[h]:!1}function Le(f){const y=Object.keys(l);return[].concat(y.map(g=>l[g])).some(function(g){return Array.isArray(g)?g.includes(f):g[f]})}function mt(f,...y){return[].concat(...y).some(function(g){const h=f.match(g);return h&&Le(h[1])})}function yt(f){if(f.match(b)||!f.match(/^-[^-]+/))return!1;let y=!0,O;const g=f.slice(1).split("");for(let h=0;h<g.length;h++){if(O=f.slice(h+2),!Le(g[h])){y=!1;break}if(g[h+1]&&g[h+1]==="="||O==="-"||/[A-Za-z]/.test(g[h])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(O)||g[h+1]&&g[h+1].match(/\W/))break}return y}function le(f){return i["unknown-options-as-args"]&&bt(f)}function bt(f){return f=f.replace(/^-{3,}/,"--"),f.match(b)||yt(f)?!1:!mt(f,/^-+([^=]+?)=[\s\S]*$/,w,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function X(f){return!x(f,l.bools)&&!x(f,l.counts)&&`${f}`in c?c[f]:gt($t(f))}function gt(f){return{[J.BOOLEAN]:!0,[J.STRING]:"",[J.NUMBER]:void 0,[J.ARRAY]:[]}[f]}function $t(f){let y=J.BOOLEAN;return x(f,l.strings)?y=J.STRING:x(f,l.numbers)?y=J.NUMBER:x(f,l.bools)?y=J.BOOLEAN:x(f,l.arrays)&&(y=J.ARRAY),y}function K(f){return f===void 0}function jt(){Object.keys(l.counts).find(f=>x(f,l.arrays)?(E=Error(j("Invalid configuration: %s, opts.count excludes opts.array.",f)),!0):x(f,l.nargs)?(E=Error(j("Invalid configuration: %s, opts.count excludes opts.narg.",f)),!0):!1)}return{aliases:Object.assign({},l.aliases),argv:Object.assign(N,v),configuration:i,defaulted:Object.assign({},$),error:E,newAliases:Object.assign({},T)}}}function ur(t){const n=[],s=Object.create(null);let r=!0;for(Object.keys(t).forEach(function(a){n.push([].concat(t[a],a))});r;){r=!1;for(let a=0;a<n.length;a++)for(let o=a+1;o<n.length;o++)if(n[a].filter(function(i){return n[o].indexOf(i)!==-1}).length){n[a]=n[a].concat(n[o]),n.splice(o,1),r=!0;break}}return n.forEach(function(a){a=a.filter(function(e,i,c){return c.indexOf(e)===i});const o=a.pop();o!==void 0&&typeof o=="string"&&(s[o]=a)}),s}function Te(t){return t!==void 0?t+1:1}function Xe(t){return t==="__proto__"?"___proto___":t}function fr(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var dr=Pt(),fe={};/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */var we,Oe,Se;const Ze=z&&fe&&fe.YARGS_MIN_NODE_VERSION?Number(fe.YARGS_MIN_NODE_VERSION):12,De=(Oe=(we=z===null||z===void 0?void 0:z.versions)===null||we===void 0?void 0:we.node)!==null&&Oe!==void 0?Oe:(Se=z===null||z===void 0?void 0:z.version)===null||Se===void 0?void 0:Se.slice(1);if(De&&Number(De.match(/^([^.]+)/)[1])<Ze)throw Error(`yargs parser supports a minimum Node.js version of ${Ze}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);const pr=z?fe:{},at=new lr({cwd:z.cwd,env:()=>pr,format:Nt.format,normalize:He.normalize,resolve:He.resolve,require:t=>{if(typeof require<"u")return require(t);if(t.match(/\.json$/))return JSON.parse(dr.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),ee=function(n,s){return at.parse(n.slice(),s).argv};ee.detailed=function(t,n){return at.parse(t.slice(),n)};ee.camelCase=re;ee.decamelize=ot;ee.looksLikeNumber=it;const et=t=>{const n=[];for(const[s,r]of t.entries())n.push({name:s,value:r});return n},ke=(t,n)=>{const s=[];return Ne.isString(t)&&(t=t.split(";").map(r=>r.trim())),t.forEach(r=>{const a=r.split(n).map(o=>o.trim());a.length>1&&s.push({name:a[0],value:a[1]})}),s},hr=t=>{const n=[],s=t.split("Content-Disposition");return s.shift(),s.forEach(r=>{const a=r.match(/name="(.*?)"([\s\S]+)\r\n------/i);if(a!==null){const o=a[2].replace(`\r
\r
`,"");n.push({name:a[1],value:o.includes('filename="')?"":o})}}),n},mr=t=>{var c,u;let n="GET",s="";const r="HTTP/1.1",a=[],o=[],e=[],i={};for(let d of Object.keys(t)){if(["_","__"].includes(d))continue;const p=t[d];switch(d){case"url":s=p;const m=new URL(p);a.push(...et(m.searchParams));break;case"A":case"user-agent":o.push({name:"User-Agent",value:p});break;case"H":case"header":ke(p,":").forEach(({name:j,value:l})=>{j.toLowerCase()==="content-type"&&(l=l.includes("multipart/form-data")?"multipart/form-data":l,i.mimeType=l),j.toLowerCase()==="cookie"?e.push(...ke(l,"=")):o.push({name:j,value:l})});break;case"b":case"cookie":e.push(...ke(p,"="));break;case"d":case"data":case"data-raw":n="POST";const $=(c=p.match(/\$'(.*?)'/))==null?void 0:c[1];i.text=($||p).replaceAll("\\n",`
`).replaceAll("\\r","\r");break;case"json":n="POST",i.mimeType="text/plain",i.text=p,o.push({name:"Content-Type",value:"application/json"}),o.push({name:"Accept",value:"application/json"});break;case"data-urlencode":n="POST",i.mimeType="application/x-www-form-urlencoded",i.text=p;break;case"X":case"request":n=p;break;default:console.log("ignore",d,t[d]);break}}return n==="POST"&&i.mimeType&&(i.mimeType==="application/x-www-form-urlencoded"&&(i.params=et(new URLSearchParams(i.text)),delete i.text),(u=i.mimeType)!=null&&u.includes("multipart/form-data")&&(i.params=hr(i.text),delete i.text)),{method:n,url:s,httpVersion:r,queryString:a,headers:o,cookies:e,postData:i}},yr=t=>{let n=ee(t);if(t=t.replace(/\\\n\r?/g," "),!("url"in n)){if(!n._[1].includes("http"))throw new Error("Invalid curl command");t=t.replace(n._[1],`--url ${n._[1]}`),n=ee(t)}if(!n._.includes("curl"))throw new Error("Invalid curl command");return{entries:[{request:mr(n)}]}},br=(t,n)=>{const s=lt(n);if(s.clientId==="custom-define-data-schema")return t.log.entries.map(a=>{var d,p,m,T,$,j;const o=Object.fromEntries(((d=a.request.headers)==null?void 0:d.map(({name:l,value:b})=>[l,b]))||[]),e=Object.fromEntries(((p=a.request.cookies)==null?void 0:p.map(({name:l,value:b})=>[l,b]))||[]),i=Object.fromEntries(((m=a.request.queryString)==null?void 0:m.map(({name:l,value:b})=>[l,b]))||[]),c=((T=a.request.postData)!=null&&T.params?Object.fromEntries(a.request.postData.params.map(({name:l,value:b})=>[l,b])||[]):($=a.request.postData)==null?void 0:$.text)||{},u={url:a.request.url,method:a.request.method,httpVersion:a.request.httpVersion};return[`const request = ${JSON.stringify(u,null,4)};`,`const queryString = ${JSON.stringify(i,null,4)};`,...((j=a.request.method)==null?void 0:j.toLowerCase())==="post"&&c?[`const postData = ${JSON.stringify(c,null,4)};`]:[],`const headers = ${JSON.stringify(o,null,4)};`,`const cookies = ${JSON.stringify(e,null,4)};`].join(`

`)});const r=new ar(t).convert(s.targetId,s.clientId);return r===!1?[""]:Ne.isArray(r)?r:[r]},ct=(()=>{const t=[];for(let n of Object.values(st)){const s=Object.values(n.clientsById).length<2;for(let r of Object.values(n.clientsById))t.push({value:`${n.info.key}-|-${r.info.key}`,label:s?n.info.title:`${n.info.title} - ${r.info.title}`,url:r.info.link,description:r.info.description,clientId:r.info.key,targetId:n.info.key})}return t.push({value:"javascript-|-custom-define-data-schema",label:"Data Schema",url:"",description:"",clientId:"custom-define-data-schema",targetId:"javascript"}),t.sort((n,s)=>n.label.localeCompare(s.label))})(),lt=t=>{for(let n of ct)if(t===n.value)return n;throw new Error("Error Target")},gr=(t,n,s)=>{t=t.trim();const r=n==="cURL"?yr(t):wt.parse(t,{JSON_REPAIR:!0});let a={log:{version:"",creator:{name:"",version:""},entries:[]}};return r.entries?a.log=r:r.url?a.log.entries.push(r):a=r,br(a,s).map((o,e)=>{var i,c,u;return{value:o,url:((u=(c=(i=a.log.entries)==null?void 0:i[e])==null?void 0:c.request.url)==null?void 0:u.substring(0,50))||""}})},vr=Ot({__name:"HttpSnippet",async setup(t){let n,s;const r=qt(([n,s]=St(()=>At({input:"",source:"cURL",target:"javascript-|-axios"},{paste:!1})),n=await n,s(),n)),a=Ie(()=>lt(r.current.target));let o=kt(0);const e=Ie(()=>{if(r.current.input==="")return[{value:"",url:""}];try{const i=gr(r.current.input,r.current.source,r.current.target);return r.save(),i}catch(i){return console.log(i),[{value:$error(i),url:""}]}});return Et(()=>({output:e.value}),()=>{o.value=0},{immediate:!0,deep:!0}),(i,c)=>{const u=Z("Editor"),d=Z("HelpTip"),p=Z("Select"),m=Z("Align"),T=Z("Display"),$=Z("HeightResize"),j=vt("row");return Ct((be(),ye($,null,{default:Q(({height:l})=>[V(T,{position:"bottom-right"},{extra:Q(()=>[V(m,null,{default:Q(()=>[V(d,{link:M(r).current.source==="cURL"?"https://everything.curl.dev/usingcurl/copyas":"http://www.softwareishard.com/blog/har-12-spec/#request"},null,8,["link"]),V(p,{size:"small",options:["cURL","HAR"],modelValue:M(r).current.source,"onUpdate:modelValue":c[1]||(c[1]=b=>M(r).current.source=b)},null,8,["modelValue"])]),_:1})]),default:Q(()=>[V(u,{lang:M(r).current.source==="cURL"?"shell":"json",modelValue:M(r).current.input,"onUpdate:modelValue":c[0]||(c[0]=b=>M(r).current.input=b),height:l,placeholder:i.$t("main_ui_output")},null,8,["lang","modelValue","height","placeholder"])]),_:2},1024),V(T,{position:"bottom-right"},{extra:Q(()=>[V(m,null,{default:Q(()=>[a.value.url!==""?(be(),ye(d,{key:0,link:a.value.url},null,8,["link"])):Be("",!0),V(p,{dialog:"",size:"small",options:M(ct),modelValue:M(r).current.target,"onUpdate:modelValue":c[3]||(c[3]=b=>M(r).current.target=b)},null,8,["options","modelValue"])]),_:1})]),default:Q(()=>[V(T,{position:"top-right"},{extra:Q(()=>[e.value.length>1?(be(),ye(p,{key:0,size:"small",options:M(Ne.range)(0,e.value.length).map(b=>({value:b,label:`Entry ${b+1}`,description:e.value[b].url})),modelValue:M(o),"onUpdate:modelValue":c[2]||(c[2]=b=>xt(o)?o.value=b:o=b)},null,8,["options","modelValue"])):Be("",!0)]),default:Q(()=>[V(u,{lang:a.value.targetId,"model-value":e.value[M(o)].value,height:l,placeholder:i.$t("main_ui_output")},null,8,["lang","model-value","height","placeholder"])]),_:2},1024)]),_:2},1024)]),_:1})),[[j,"1-1"]])}}});export{vr as default};
