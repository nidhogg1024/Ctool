import{u as b,i as C}from"./action-BZ3Nddn_.js";import{d as U,L as w,A as g,M as V,D as k,c as z,w as n,r as _,a as A,x as s,v as a,l as m,az as B}from"./tool-BLEDneDs.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-mathjs-__1x7LJv.js";import"./vendor-monaco-DSX5bDTJ.js";import"./vendor-lodash-rhkwYG98.js";const N={class:"chmod-matrix"},S={class:"chmod-cell chmod-col-header"},D={class:"chmod-cell chmod-col-header"},J={class:"chmod-cell chmod-col-header"},L={class:"chmod-cell chmod-row-header"},O={class:"chmod-cell"},I={class:"chmod-cell"},M={class:"chmod-cell"},j={class:"chmod-cell chmod-row-header"},q={class:"chmod-cell"},x={class:"chmod-cell"},E={class:"chmod-cell"},F={class:"chmod-cell chmod-row-header"},G={class:"chmod-cell"},H={class:"chmod-cell"},K={class:"chmod-cell"},P={class:"chmod-big-text"},Q={class:"chmod-display-label"},R={class:"chmod-big-text"},T={class:"chmod-display-label"},W={class:"chmod-display-label"},X={class:"chmod-command-text"},Y=U({__name:"Chmod",async setup(Z){let r,$;const c=b(([r,$]=w(()=>C({matrix:[[!0,!0,!0],[!0,!1,!0],[!0,!1,!0]],special:[!1,!1,!1]})),r=await r,$(),r)),l=g(c.current.matrix),u=g(c.current.special),h=V(()=>{const d=(u.value[0]?4:0)+(u.value[1]?2:0)+(u.value[2]?1:0),e=(l.value[0][0]?4:0)+(l.value[0][1]?2:0)+(l.value[0][2]?1:0),t=(l.value[1][0]?4:0)+(l.value[1][1]?2:0)+(l.value[1][2]?1:0),i=(l.value[2][0]?4:0)+(l.value[2][1]?2:0)+(l.value[2][2]?1:0);return d>0?`${d}${e}${t}${i}`:`${e}${t}${i}`}),f=V(()=>{const d=(e,t,i,v,o)=>{let p=e?"r":"-";return p+=t?"w":"-",u.value[o]?p+=i?v.toLowerCase():v.toUpperCase():p+=i?"x":"-",p};return d(l.value[0][0],l.value[0][1],l.value[0][2],"s",0)+d(l.value[1][0],l.value[1][1],l.value[1][2],"s",1)+d(l.value[2][0],l.value[2][1],l.value[2][2],"t",2)}),y=V(()=>`chmod ${h.value} path`);return k(()=>({m:JSON.stringify(l.value),s:JSON.stringify(u.value)}),()=>{c.current.matrix=l.value,c.current.special=u.value,c.save()}),(d,e)=>{const t=_("Bool"),i=_("Card"),v=_("Align");return A(),z(v,{direction:"vertical"},{default:n(()=>[s(i,{padding:"0"},{default:n(()=>[a("div",N,[e[15]||(e[15]=a("div",{class:"chmod-cell chmod-corner"},null,-1)),a("div",S,m(d.$t("chmod_owner"))+" (u)",1),a("div",D,m(d.$t("chmod_group"))+" (g)",1),a("div",J,m(d.$t("chmod_others"))+" (o)",1),a("div",L,m(d.$t("chmod_read"))+" (4)",1),a("div",O,[s(t,{modelValue:l.value[0][0],"onUpdate:modelValue":e[0]||(e[0]=o=>l.value[0][0]=o)},null,8,["modelValue"])]),a("div",I,[s(t,{modelValue:l.value[1][0],"onUpdate:modelValue":e[1]||(e[1]=o=>l.value[1][0]=o)},null,8,["modelValue"])]),a("div",M,[s(t,{modelValue:l.value[2][0],"onUpdate:modelValue":e[2]||(e[2]=o=>l.value[2][0]=o)},null,8,["modelValue"])]),a("div",j,m(d.$t("chmod_write"))+" (2)",1),a("div",q,[s(t,{modelValue:l.value[0][1],"onUpdate:modelValue":e[3]||(e[3]=o=>l.value[0][1]=o)},null,8,["modelValue"])]),a("div",x,[s(t,{modelValue:l.value[1][1],"onUpdate:modelValue":e[4]||(e[4]=o=>l.value[1][1]=o)},null,8,["modelValue"])]),a("div",E,[s(t,{modelValue:l.value[2][1],"onUpdate:modelValue":e[5]||(e[5]=o=>l.value[2][1]=o)},null,8,["modelValue"])]),a("div",F,m(d.$t("chmod_execute"))+" (1)",1),a("div",G,[s(t,{modelValue:l.value[0][2],"onUpdate:modelValue":e[6]||(e[6]=o=>l.value[0][2]=o)},null,8,["modelValue"])]),a("div",H,[s(t,{modelValue:l.value[1][2],"onUpdate:modelValue":e[7]||(e[7]=o=>l.value[1][2]=o)},null,8,["modelValue"])]),a("div",K,[s(t,{modelValue:l.value[2][2],"onUpdate:modelValue":e[8]||(e[8]=o=>l.value[2][2]=o)},null,8,["modelValue"])])])]),_:1}),s(i,{title:d.$t("chmod_special"),padding:"0"},{default:n(()=>[s(v,{horizontal:"center",style:{padding:"10px 0"}},{default:n(()=>[s(t,{modelValue:u.value[0],"onUpdate:modelValue":e[9]||(e[9]=o=>u.value[0]=o),label:`${d.$t("chmod_suid")} (4)`,size:"small",border:""},null,8,["modelValue","label"]),s(t,{modelValue:u.value[1],"onUpdate:modelValue":e[10]||(e[10]=o=>u.value[1]=o),label:`${d.$t("chmod_sgid")} (2)`,size:"small",border:""},null,8,["modelValue","label"]),s(t,{modelValue:u.value[2],"onUpdate:modelValue":e[11]||(e[11]=o=>u.value[2]=o),label:`${d.$t("chmod_sticky")} (1)`,size:"small",border:""},null,8,["modelValue","label"])]),_:1})]),_:1},8,["title"]),s(i,{padding:"0"},{default:n(()=>[a("div",{class:"chmod-display",onClick:e[12]||(e[12]=o=>d.$copy(h.value))},[a("div",P,m(h.value),1),a("div",Q,m(d.$t("chmod_octal")),1)])]),_:1}),s(i,{padding:"0"},{default:n(()=>[a("div",{class:"chmod-display",onClick:e[13]||(e[13]=o=>d.$copy(f.value))},[a("div",R,m(f.value),1),a("div",T,m(d.$t("chmod_symbolic")),1)])]),_:1}),s(i,{padding:"0"},{default:n(()=>[a("div",{class:"chmod-display",onClick:e[14]||(e[14]=o=>d.$copy(y.value))},[a("div",W,m(d.$t("chmod_command")),1),a("div",X,m(y.value),1)])]),_:1})]),_:1})}}}),tl=B(Y,[["__scopeId","data-v-762aee9a"]]);export{tl as default};
