import{u as B,i as E}from"./action-YmMChBHQ.js";import{g as C,a as A}from"./util-CsO1Ws7h.js";import{d as y,M as H,c as R,w as r,x as n,j as o,r as s,a as b,L as T,A as h,D as F,k as w,N as z,F as P,P as L}from"./tool-B4oZh9Hj.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-mathjs-__1x7LJv.js";import"./vendor-monaco-DSX5bDTJ.js";import"./vendor-lodash-rhkwYG98.js";const N=y({__name:"Reference",setup(D){const p=H(()=>[{title:$t("regex_reference_name"),key:"name",width:150},{title:$t("regex_reference_text"),key:"text",html:!0}]);return(x,t)=>{const u=s("Table"),_=s("HeightResize");return b(),R(_,null,{default:r(({height:e})=>[n(u,{columns:p.value,lists:o(C)(),height:e},null,8,["columns","lists","height"])]),_:1})}}}),j={class:"ctool-page-option",style:{"margin-bottom":"5px"}},I=y({__name:"Regex",async setup(D){let p,x;const t=B(([p,x]=T(()=>E({input:"[\\dheo]",content:new Date().getFullYear()+" hello WORLD 你好世界",replace:"",is_global:!0,is_ignore_case:!0,is_multiline:!1,is_dotall:!1,is_delete:!1},{paste:!1})),p=await p,x(),p));let u=h("");const _=h(!1);return F(()=>t.current,e=>{u.value="";try{if(!e.input||!e.content)return u.value;const l=!e.is_delete&&e.replace===""?!1:e.is_delete?"":e.replace,f=(e.is_ignore_case?"i":"")+(e.is_global?"g":"")+(e.is_multiline?"m":"")+(e.is_dotall?"s":""),V=new RegExp(e.input,f);if(l!==!1)u.value=e.content.replace(V,l);else{const c=e.content.match(V);let d="";if(c){d+=`${$t("regex_output_count",[c.length])}`;for(let m=0;m<c.length;m++)d+=`
${c[m]}`}else d=$t("regex_output_empty");u.value=d}t.save()}catch(l){u.value=$error(l)}},{immediate:!0,deep:!0}),(e,l)=>{const f=s("Textarea"),V=s("Dropdown"),c=s("Button"),d=s("Align"),m=s("Display"),g=s("Bool"),v=s("Editor"),U=s("HeightResize"),k=s("ExtendPage"),$=L("row");return b(),w(P,null,[z((b(),w("div",j,[n(m,null,{extra:r(()=>[n(d,null,{default:r(()=>[n(V,{size:"small",options:o(A)(),placeholder:e.$t("regex_common"),onSelect:l[1]||(l[1]=a=>o(t).current.input+=a)},null,8,["options","placeholder"]),n(c,{size:"small",type:"primary",onClick:l[2]||(l[2]=a=>_.value=!_.value),text:e.$t("main_ui_reference")},null,8,["text"])]),_:1})]),default:r(()=>[n(f,{height:80,modelValue:o(t).current.input,"onUpdate:modelValue":l[0]||(l[0]=a=>o(t).current.input=a),placeholder:e.$t("regex_expression")},null,8,["modelValue","placeholder"])]),_:1}),n(m,null,{extra:r(()=>[n(g,{border:"",size:"small",modelValue:o(t).current.is_delete,"onUpdate:modelValue":l[4]||(l[4]=a=>o(t).current.is_delete=a),label:e.$t("regex_delete")},null,8,["modelValue","label"])]),default:r(()=>[n(f,{disabled:o(t).current.is_delete,height:80,modelValue:o(t).current.replace,"onUpdate:modelValue":l[3]||(l[3]=a=>o(t).current.replace=a),placeholder:e.$t("regex_replace_content")},null,8,["disabled","modelValue","placeholder"])]),_:1})])),[[$,"1-1"]]),z((b(),R(U,{append:[".ctool-page-option"]},{default:r(({height:a})=>[n(m,null,{extra:r(()=>[n(d,null,{default:r(()=>[n(g,{border:"",size:"small",modelValue:o(t).current.is_global,"onUpdate:modelValue":l[6]||(l[6]=i=>o(t).current.is_global=i),label:e.$t("regex_global")},null,8,["modelValue","label"]),n(g,{border:"",size:"small",modelValue:o(t).current.is_ignore_case,"onUpdate:modelValue":l[7]||(l[7]=i=>o(t).current.is_ignore_case=i),label:e.$t("regex_ignore_case")},null,8,["modelValue","label"]),n(g,{border:"",size:"small",modelValue:o(t).current.is_multiline,"onUpdate:modelValue":l[8]||(l[8]=i=>o(t).current.is_multiline=i),label:e.$t("regex_multiline")},null,8,["modelValue","label"]),n(g,{border:"",size:"small",modelValue:o(t).current.is_dotall,"onUpdate:modelValue":l[9]||(l[9]=i=>o(t).current.is_dotall=i),label:e.$t("regex_dotall")},null,8,["modelValue","label"])]),_:1})]),default:r(()=>[n(v,{height:a,modelValue:o(t).current.content,"onUpdate:modelValue":l[5]||(l[5]=i=>o(t).current.content=i),placeholder:e.$t("regex_input")},null,8,["height","modelValue","placeholder"])]),_:2},1024),n(v,{height:a,"model-value":o(u),placeholder:e.$t("main_ui_output")},null,8,["height","model-value","placeholder"])]),_:1})),[[$,"1-1"]]),n(k,{modelValue:_.value,"onUpdate:modelValue":l[10]||(l[10]=a=>_.value=a)},{default:r(()=>[n(N)]),_:1},8,["modelValue"])],64)}}});export{I as default};
