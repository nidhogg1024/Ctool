import{u as E,i as M}from"./action-ZIOlVMDR.js";import{d as A,y as O,z,o as B,D as y,c as D,w as d,aM as R,r as s,f as S,v as f,j as u,V as L,S as v}from"./tool-B6I8EH92.js";import"./modulepreload-polyfill-B5Qt9EMX.js";const $=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function k(n){return typeof n=="string"&&$.test(n)}function G(n){if(!k(n))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(n.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(n.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(n.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(n.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function m(n){var e=new Error(n);return e.source="ulid",e}var _="0123456789ABCDEFGHJKMNPQRSTVWXYZ",c=_.length,g=Math.pow(2,48)-1,j=10,H=16;function T(n){var e=Math.floor(n()*c);return e===c&&(e=c-1),_.charAt(e)}function X(n,e){if(isNaN(n))throw new Error(n+" must be a number");if(n>g)throw m("cannot encode time greater than "+g);if(n<0)throw m("time must be positive");if(Number.isInteger(n)===!1)throw m("time must be an integer");for(var r=void 0,t="";e>0;e--)r=n%c,t=_.charAt(r)+t,n=(n-r)/c;return t}function q(n,e){for(var r="";n>0;n--)r=T(e)+r;return r}function F(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var r=e&&(e.crypto||e.msCrypto);if(r)return function(){var i=new Uint8Array(1);return r.getRandomValues(i),i[0]/255};try{var t=require("crypto");return function(){return t.randomBytes(1).readUInt8()/255}}catch{}if(n){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw m("secure crypto unusable, insecure Math.random not allowed")}function J(n){return n||(n=F()),function(r){return isNaN(r)&&(r=Date.now()),X(r,j)+q(H,n)}}var K=J();const Q=()=>K().toLowerCase(),P=A({__name:"Uuid",async setup(n){let e,r;const t=E(([e,r]=O(()=>M({amount:10,hyphens:!0,is_add_quote:!1,isUpper:!1,uint8_array:!1,ulid:!1,outputOption:L("text"),result:[]})),e=await e,r(),e)),i=()=>{let a=[];for(let o=0,h=t.current.amount;o<h;o++)a.push(t.current.ulid?Q():R());t.current.result=a},V=z(()=>t.current.result.length<1?v.empty():v.formObject(t.current.result.map(a=>(t.current.ulid||(t.current.uint8_array&&(a="["+G(a).toString()+"]"),t.current.hyphens||(a=a.replace(/-/g,""))),t.current.isUpper?a.toUpperCase():a.toLowerCase()))));return B(()=>{t.current.result.length<1&&i()}),y(()=>({amount:t.current.amount,ulid:t.current.ulid}),()=>{i()}),y(()=>t.current,a=>{a.result.length<1||t.save()},{deep:!0,immediate:!0}),(a,o)=>{const h=s("SerializeOutput"),w=s("HeightResize"),x=s("InputNumber"),p=s("Bool"),I=s("Icon"),U=s("Button"),b=s("Align"),N=s("Card");return S(),D(b,{direction:"vertical"},{default:d(()=>[f(w,{reduce:5,append:[".ctool-page-option"]},{default:d(({height:l})=>[f(h,{modelValue:u(t).current.outputOption,"onUpdate:modelValue":o[0]||(o[0]=C=>u(t).current.outputOption=C),allow:["json","xml","yaml","toml","properties","php_array","text"],height:l,content:V.value},null,8,["modelValue","height","content"])]),_:1}),f(N,{class:"ctool-page-option"},{default:d(()=>[f(b,{horizontal:"center"},{default:d(()=>[f(x,{modelValue:u(t).current.amount,"onUpdate:modelValue":o[1]||(o[1]=l=>u(t).current.amount=l),label:a.$t("uuid_amount"),width:110},null,8,["modelValue","label"]),f(p,{border:"",label:"ULID",modelValue:u(t).current.ulid,"onUpdate:modelValue":o[2]||(o[2]=l=>u(t).current.ulid=l)},null,8,["modelValue"]),f(p,{border:"",label:a.$t("uuid_is_upper"),modelValue:u(t).current.isUpper,"onUpdate:modelValue":o[3]||(o[3]=l=>u(t).current.isUpper=l)},null,8,["label","modelValue"]),f(p,{border:"",label:a.$t("uuid_hyphens"),disabled:u(t).current.ulid,modelValue:u(t).current.hyphens,"onUpdate:modelValue":o[4]||(o[4]=l=>u(t).current.hyphens=l)},null,8,["label","disabled","modelValue"]),f(p,{border:"",label:a.$t("uuid_uint8_array"),disabled:u(t).current.ulid,modelValue:u(t).current.uint8_array,"onUpdate:modelValue":o[5]||(o[5]=l=>u(t).current.uint8_array=l)},null,8,["label","disabled","modelValue"]),f(U,{onClick:i},{default:d(()=>[f(I,{name:"refresh"})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{P as default};
