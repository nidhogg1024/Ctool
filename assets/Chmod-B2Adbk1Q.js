import{u as C,i as U}from"./action-ZIOlVMDR.js";import{d as w,y as k,I as b,z as _,D as z,c as B,w as c,r as $,f as A,v as t,s as d,l as u,j as s,aL as N}from"./tool-B6I8EH92.js";import"./modulepreload-polyfill-B5Qt9EMX.js";const S={class:"chmod-matrix"},D={class:"chmod-cell chmod-col-header"},I={class:"chmod-cell chmod-col-header"},J={class:"chmod-cell chmod-col-header"},L={class:"chmod-cell chmod-row-header"},O={class:"chmod-cell"},j={class:"chmod-cell"},q={class:"chmod-cell"},E={class:"chmod-cell chmod-row-header"},F={class:"chmod-cell"},G={class:"chmod-cell"},H={class:"chmod-cell"},K={class:"chmod-cell chmod-row-header"},M={class:"chmod-cell"},P={class:"chmod-cell"},Q={class:"chmod-cell"},R={class:"chmod-big-text"},T={class:"chmod-display-label"},W={class:"chmod-big-text"},X={class:"chmod-display-label"},Y={class:"chmod-display-label"},Z={class:"chmod-command-text"},x=w({__name:"Chmod",async setup(ll){let p,f;const r=C(([p,f]=k(()=>U({matrix:[[!0,!0,!0],[!0,!1,!0],[!0,!1,!0]],special:[!1,!1,!1]})),p=await p,f(),p));let l=b(r.current.matrix),n=b(r.current.special);const V=_(()=>{const a=(n.value[0]?4:0)+(n.value[1]?2:0)+(n.value[2]?1:0),e=(l.value[0][0]?4:0)+(l.value[0][1]?2:0)+(l.value[0][2]?1:0),m=(l.value[1][0]?4:0)+(l.value[1][1]?2:0)+(l.value[1][2]?1:0),i=(l.value[2][0]?4:0)+(l.value[2][1]?2:0)+(l.value[2][2]?1:0);return a>0?`${a}${e}${m}${i}`:`${e}${m}${i}`}),y=_(()=>{const a=(e,m,i,v,o)=>{let h=e?"r":"-";return h+=m?"w":"-",n.value[o]?h+=i?v.toLowerCase():v.toUpperCase():h+=i?"x":"-",h};return a(l.value[0][0],l.value[0][1],l.value[0][2],"s",0)+a(l.value[1][0],l.value[1][1],l.value[1][2],"s",1)+a(l.value[2][0],l.value[2][1],l.value[2][2],"t",2)}),g=_(()=>`chmod ${V.value} path`);return z(()=>({m:JSON.stringify(l.value),s:JSON.stringify(n.value)}),()=>{r.current.matrix=l.value,r.current.special=n.value,r.save()}),(a,e)=>{const m=$("Bool"),i=$("Card"),v=$("Align");return A(),B(v,{direction:"vertical"},{default:c(()=>[t(i,{padding:"0"},{default:c(()=>[d("div",S,[e[15]||(e[15]=d("div",{class:"chmod-cell chmod-corner"},null,-1)),d("div",D,u(a.$t("chmod_owner"))+" (u)",1),d("div",I,u(a.$t("chmod_group"))+" (g)",1),d("div",J,u(a.$t("chmod_others"))+" (o)",1),d("div",L,u(a.$t("chmod_read"))+" (4)",1),d("div",O,[t(m,{modelValue:s(l)[0][0],"onUpdate:modelValue":e[0]||(e[0]=o=>s(l)[0][0]=o)},null,8,["modelValue"])]),d("div",j,[t(m,{modelValue:s(l)[1][0],"onUpdate:modelValue":e[1]||(e[1]=o=>s(l)[1][0]=o)},null,8,["modelValue"])]),d("div",q,[t(m,{modelValue:s(l)[2][0],"onUpdate:modelValue":e[2]||(e[2]=o=>s(l)[2][0]=o)},null,8,["modelValue"])]),d("div",E,u(a.$t("chmod_write"))+" (2)",1),d("div",F,[t(m,{modelValue:s(l)[0][1],"onUpdate:modelValue":e[3]||(e[3]=o=>s(l)[0][1]=o)},null,8,["modelValue"])]),d("div",G,[t(m,{modelValue:s(l)[1][1],"onUpdate:modelValue":e[4]||(e[4]=o=>s(l)[1][1]=o)},null,8,["modelValue"])]),d("div",H,[t(m,{modelValue:s(l)[2][1],"onUpdate:modelValue":e[5]||(e[5]=o=>s(l)[2][1]=o)},null,8,["modelValue"])]),d("div",K,u(a.$t("chmod_execute"))+" (1)",1),d("div",M,[t(m,{modelValue:s(l)[0][2],"onUpdate:modelValue":e[6]||(e[6]=o=>s(l)[0][2]=o)},null,8,["modelValue"])]),d("div",P,[t(m,{modelValue:s(l)[1][2],"onUpdate:modelValue":e[7]||(e[7]=o=>s(l)[1][2]=o)},null,8,["modelValue"])]),d("div",Q,[t(m,{modelValue:s(l)[2][2],"onUpdate:modelValue":e[8]||(e[8]=o=>s(l)[2][2]=o)},null,8,["modelValue"])])])]),_:1}),t(i,{title:a.$t("chmod_special"),padding:"0"},{default:c(()=>[t(v,{horizontal:"center",style:{padding:"10px 0"}},{default:c(()=>[t(m,{modelValue:s(n)[0],"onUpdate:modelValue":e[9]||(e[9]=o=>s(n)[0]=o),label:a.$t("chmod_suid")+" (4)",size:"small",border:""},null,8,["modelValue","label"]),t(m,{modelValue:s(n)[1],"onUpdate:modelValue":e[10]||(e[10]=o=>s(n)[1]=o),label:a.$t("chmod_sgid")+" (2)",size:"small",border:""},null,8,["modelValue","label"]),t(m,{modelValue:s(n)[2],"onUpdate:modelValue":e[11]||(e[11]=o=>s(n)[2]=o),label:a.$t("chmod_sticky")+" (1)",size:"small",border:""},null,8,["modelValue","label"])]),_:1})]),_:1},8,["title"]),t(i,{padding:"0"},{default:c(()=>[d("div",{class:"chmod-display",onClick:e[12]||(e[12]=o=>a.$copy(V.value))},[d("div",R,u(V.value),1),d("div",T,u(a.$t("chmod_octal")),1)])]),_:1}),t(i,{padding:"0"},{default:c(()=>[d("div",{class:"chmod-display",onClick:e[13]||(e[13]=o=>a.$copy(y.value))},[d("div",W,u(y.value),1),d("div",X,u(a.$t("chmod_symbolic")),1)])]),_:1}),t(i,{padding:"0"},{default:c(()=>[d("div",{class:"chmod-display",onClick:e[14]||(e[14]=o=>a.$copy(g.value))},[d("div",Y,u(a.$t("chmod_command")),1),d("div",Z,u(g.value),1)])]),_:1})]),_:1})}}}),sl=N(x,[["__scopeId","data-v-8a93c31e"]]);export{sl as default};
