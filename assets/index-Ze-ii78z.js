import{e as p}from"./string_decoder-CsjAcY2A.js";import{a as v,b as d,c as _,d as h,e as L,f as b,g as E,i as q}from"./pipeline-BcG7jJj_.js";var S=n,s=p.EventEmitter,w=q;w(n,s);n.Readable=v();n.Writable=d();n.Duplex=_();n.Transform=h();n.PassThrough=L();n.finished=b();n.pipeline=E();n.Stream=n;function n(){s.call(this)}n.prototype.pipe=function(r,u){var e=this;function f(t){r.writable&&r.write(t)===!1&&e.pause&&e.pause()}e.on("data",f);function m(){e.readable&&e.resume&&e.resume()}r.on("drain",m),!r._isStdio&&(!u||u.end!==!1)&&(e.on("end",l),e.on("close",c));var i=!1;function l(){i||(i=!0,r.end())}function c(){i||(i=!0,typeof r.destroy=="function"&&r.destroy())}function a(t){if(o(),s.listenerCount(this,"error")===0)throw t}e.on("error",a),r.on("error",a);function o(){e.removeListener("data",f),r.removeListener("drain",m),e.removeListener("end",l),e.removeListener("close",c),e.removeListener("error",a),r.removeListener("error",a),e.removeListener("end",o),e.removeListener("close",o),r.removeListener("close",o)}return e.on("end",o),e.on("close",o),r.on("close",o),r.emit("pipe",e),r};export{S as s};
