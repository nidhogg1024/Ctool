import{r as Wt}from"./punycode-B_vV74DR.js";import{aE as Mt}from"./tool-COZZpXVR.js";var x={exports:{}},st;function Gt(){return st||(st=1,(function(ht,c){Object.defineProperty(c,"__esModule",{value:!0});var ot=Wt(),at=Mt();function M(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var nt=M(ot),it=M(at),ft=nt.default;function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ut=/^([a-z0-9.+-]+:)/i,lt=/:[0-9]*$/,ct=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,mt=["<",">",'"',"`"," ","\r",`
`,"	"],pt=["{","}","|","\\","^","`"].concat(mt),F=["'"].concat(pt),Z=["%","/","?",";","#"].concat(F),B=["/","?","#"],vt=255,G=/^[+a-z0-9A-Z_-]{0,63}$/,gt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,dt={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=it.default;function w(e,r,t){if(e&&typeof e=="object"&&e instanceof g)return e;var h=new g;return h.parse(e,r,t),h}g.prototype.parse=function(e,r,t){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var h=e.indexOf("?"),a=h!==-1&&h<e.indexOf("#")?"?":"#",p=e.split(a),u=/\\/g;p[0]=p[0].replace(u,"/"),e=p.join(a);var s=e;if(s=s.trim(),!t&&e.split("#").length===1){var b=ct.exec(s);if(b)return this.path=s,this.href=s,this.pathname=b[1],b[2]?(this.search=b[2],r?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var f=ut.exec(s);if(f){f=f[0];var v=f.toLowerCase();this.protocol=v,s=s.substr(f.length)}if(t||f||s.match(/^\/\/[^@/]+@[^@/]+/)){var P=s.substr(0,2)==="//";P&&!(f&&S[f])&&(s=s.substr(2),this.slashes=!0)}if(!S[f]&&(P||f&&!L[f])){for(var l=-1,n=0;n<B.length;n++){var T=s.indexOf(B[n]);T!==-1&&(l===-1||T<l)&&(l=T)}var I,m;l===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",l),m!==-1&&(I=s.slice(0,m),s=s.slice(m+1),this.auth=decodeURIComponent(I)),l=-1;for(var n=0;n<Z.length;n++){var T=s.indexOf(Z[n]);T!==-1&&(l===-1||T<l)&&(l=T)}l===-1&&(l=s.length),this.host=s.slice(0,l),s=s.slice(l),this.parseHost(),this.hostname=this.hostname||"";var O=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!O)for(var o=this.hostname.split(/\./),n=0,i=o.length;n<i;n++){var R=o[n];if(R&&!R.match(G)){for(var d="",y=0,z=R.length;y<z;y++)R.charCodeAt(y)>127?d+="x":d+=R[y];if(!d.match(G)){var A=o.slice(0,n),U=o.slice(n+1),_=R.match(gt);_&&(A.push(_[1]),U.unshift(_[2])),U.length&&(s="/"+U.join(".")+s),this.hostname=A.join(".");break}}}this.hostname.length>vt?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=ft.toASCII(this.hostname));var $=this.port?":"+this.port:"",$t=this.hostname||"";this.host=$t+$,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!dt[v])for(var n=0,i=F.length;n<i;n++){var j=F[n];if(s.indexOf(j)!==-1){var D=encodeURIComponent(j);D===j&&(D=escape(j)),s=s.split(j).join(D)}}var W=s.indexOf("#");W!==-1&&(this.hash=s.substr(W),s=s.slice(0,W));var C=s.indexOf("?");if(C!==-1?(this.search=s.substr(C),this.query=s.substr(C+1),r&&(this.query=E.parse(this.query)),s=s.slice(0,C)):r&&(this.search="",this.query={}),s&&(this.pathname=s),L[v]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",Dt=this.search||"";this.path=$+Dt}return this.href=this.format(),this};function yt(e){return typeof e=="string"&&(e=w(e)),e instanceof g?e.format():g.prototype.format.call(e)}g.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var r=this.protocol||"",t=this.pathname||"",h=this.hash||"",a=!1,p="";this.host?a=e+this.host:this.hostname&&(a=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(p=E.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var u=this.search||p&&"?"+p||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||L[r])&&a!==!1?(a="//"+(a||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):a||(a=""),h&&h.charAt(0)!=="#"&&(h="#"+h),u&&u.charAt(0)!=="?"&&(u="?"+u),t=t.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),u=u.replace("#","%23"),r+a+t+u+h};function bt(e,r){return w(e,!1,!0).resolve(r)}g.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()};function Rt(e,r){return e?w(e,!1,!0).resolveObject(r):r}g.prototype.resolveObject=function(e){if(typeof e=="string"){var r=new g;r.parse(e,!1,!0),e=r}for(var t=new g,h=Object.keys(this),a=0;a<h.length;a++){var p=h[a];t[p]=this[p]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var b=u[s];b!=="protocol"&&(t[b]=e[b])}return L[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!L[e.protocol]){for(var f=Object.keys(e),v=0;v<f.length;v++){var P=f[v];t[P]=e[P]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!S[e.protocol]){for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),i[0]!==""&&i.unshift(""),i.length<2&&i.unshift(""),t.pathname=i.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var l=t.pathname||"",n=t.search||"";t.path=l+n}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var T=t.pathname&&t.pathname.charAt(0)==="/",I=e.host||e.pathname&&e.pathname.charAt(0)==="/",m=I||T||t.host&&e.pathname,O=m,o=t.pathname&&t.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],R=t.protocol&&!L[t.protocol];if(R&&(t.hostname="",t.port=null,t.host&&(o[0]===""?o[0]=t.host:o.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(i[0]===""?i[0]=e.host:i.unshift(e.host)),e.host=null),m=m&&(i[0]===""||o[0]==="")),I)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,o=i;else if(i.length)o||(o=[]),o.pop(),o=o.concat(i),t.search=e.search,t.query=e.query;else if(e.search!=null){if(R){t.host=o.shift(),t.hostname=t.host;var d=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;d&&(t.auth=d.shift(),t.hostname=d.shift(),t.host=t.hostname)}return t.search=e.search,t.query=e.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!o.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var y=o.slice(-1)[0],z=(t.host||e.host||o.length>1)&&(y==="."||y==="..")||y==="",A=0,U=o.length;U>=0;U--)y=o[U],y==="."?o.splice(U,1):y===".."?(o.splice(U,1),A++):A&&(o.splice(U,1),A--);if(!m&&!O)for(;A--;A)o.unshift("..");m&&o[0]!==""&&(!o[0]||o[0].charAt(0)!=="/")&&o.unshift(""),z&&o.join("/").substr(-1)!=="/"&&o.push("");var _=o[0]===""||o[0]&&o[0].charAt(0)==="/";if(R){t.hostname=_?"":o.length?o.shift():"",t.host=t.hostname;var d=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;d&&(t.auth=d.shift(),t.hostname=d.shift(),t.host=t.hostname)}return m=m||t.host&&o.length,m&&!_&&o.unshift(""),o.length>0?t.pathname=o.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},g.prototype.parseHost=function(){var e=this.host,r=lt.exec(e);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)};var Ut=w,Tt=bt,J=Rt,qt=yt,At=g;function Lt(e,r){for(var t=0,h=e.length-1;h>=0;h--){var a=e[h];a==="."?e.splice(h,1):a===".."?(e.splice(h,1),t++):t&&(e.splice(h,1),t--)}if(r)for(;t--;t)e.unshift("..");return e}function _t(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var h=t>=0?arguments[t]:"/";if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!h)continue;e=h+"/"+e,r=h.charAt(0)==="/"}return e=Lt(wt(e.split("/"),function(a){return!!a}),!r).join("/"),(r?"/":"")+e||"."}function wt(e,r){if(e.filter)return e.filter(r);for(var t=[],h=0;h<e.length;h++)r(e[h],h,e)&&t.push(e[h]);return t}var K=(function(e){function r(){var h=this||self;return delete e.prototype.__magic__,h}if(typeof globalThis=="object")return globalThis;if(this)return r();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:r});var t=__magic__;return t})(Object),Pt=qt,N=Ut,V=Tt,X=At,q=K.URL,Y=K.URLSearchParams,It=/%/g,Ot=/\\/g,jt=/\n/g,Ct=/\r/g,xt=/\t/g,Ft=47;function St(e){var r=e??null;return!!(r!==null&&(r!=null&&r.href)&&(r!=null&&r.origin))}function Et(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var r=e.pathname,t=0;t<r.length;t++)if(r[t]==="%"){var h=r.codePointAt(t+2)|32;if(r[t+1]==="2"&&h===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(r)}function zt(e){return e.includes("%")&&(e=e.replace(It,"%25")),e.includes("\\")&&(e=e.replace(Ot,"%5C")),e.includes(`
`)&&(e=e.replace(jt,"%0A")),e.includes("\r")&&(e=e.replace(Ct,"%0D")),e.includes("	")&&(e=e.replace(xt,"%09")),e}var H=function(r){if(typeof r>"u")throw new TypeError('The "domain" argument must be specified');return new q("http://"+r).hostname},Q=function(r){if(typeof r>"u")throw new TypeError('The "domain" argument must be specified');return new q("http://"+r).hostname},k=function(r){var t=new q("file://"),h=_t(r),a=r.charCodeAt(r.length-1);return a===Ft&&h[h.length-1]!=="/"&&(h+="/"),t.pathname=zt(h),t},tt=function(r){if(!St(r)&&typeof r!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof r+" ("+r+")");var t=new q(r);if(t.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return Et(t)},et=function(r,t){var h,a,p,u;if(t===void 0&&(t={}),!(r instanceof q))return Pt(r);if(typeof t!="object"||t===null)throw new TypeError('The "options" argument must be of type object.');var s=(h=t.auth)!=null?h:!0,b=(a=t.fragment)!=null?a:!0,f=(p=t.search)!=null?p:!0;(u=t.unicode)!=null;var v=new q(r.toString());return s||(v.username="",v.password=""),b||(v.hash=""),f||(v.search=""),v.toString()},rt={format:et,parse:N,resolve:V,resolveObject:J,Url:X,URL:q,URLSearchParams:Y,domainToASCII:H,domainToUnicode:Q,pathToFileURL:k,fileURLToPath:tt};c.URL=q,c.URLSearchParams=Y,c.Url=X,c.default=rt,c.domainToASCII=H,c.domainToUnicode=Q,c.fileURLToPath=tt,c.format=et,c.parse=N,c.pathToFileURL=k,c.resolve=V,c.resolveObject=J,c=ht.exports=rt})(x,x.exports)),x.exports}export{Gt as r};
