import{g}from"./vendor-prettier-BXZwVK2D.js";import{L as u,$ as h}from"./estree-n8gxiqa0.js";import{B as x}from"./base-C4lZah3o.js";const d=c=>{const o=/["\n\r]|(\/\*)|(\*\/)|(\/\/)/g;let n=!1,e=!1,t=!1,s,i;const l=[];let a=0,r=0,f,m,p;for(o.lastIndex=0;s=o.exec(c);)f=RegExp.leftContext,m=RegExp.rightContext,!e&&!t&&(i=f.substring(r),n||(i=i.replace(/(\s)+/g,"")),l[a++]=i),p=r,r=o.lastIndex,s[0]=='"'&&!e&&!t?(i=f.substring(p).match(/\\+$/),(!n||!i||i[0].length%2==0)&&(n=!n),r--,m=c.substring(r)):s[0]=="/*"&&!n&&!e&&!t?e=!0:s[0]=="*/"&&!n&&e&&!t?e=!1:s[0]=="//"&&!n&&!e&&!t?t=!0:(s[0]==`
`||s[0]=="\r")&&!n&&!e&&t?t=!1:!e&&!t&&!/\s/.test(s[0])&&(l[a++]=s[0]);return l[a++]=(m||"").replace(/(\s)+/g,""),l.join("").trim()},w=new class extends x{async beautify(){return g(this.code,{parser:"json",plugins:[u,h],quoteProps:"preserve",trailingComma:"none",tabWidth:this.getOptionValue("tab",4),printWidth:1})}async compress(){return d(this.code)}};export{w as formatter};
