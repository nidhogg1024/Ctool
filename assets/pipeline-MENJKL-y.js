import{ae as Dr,af as _r,N as ne,ag as Lr,ah as Br,O as U}from"./tool-Ct-LHwIw.js";import{e as vr,r as Ye,a as er}from"./string_decoder-BTj07PUn.js";var We={exports:{}};typeof Object.create=="function"?We.exports=function(i,u){u&&(i.super_=u,i.prototype=Object.create(u.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:We.exports=function(i,u){if(u){i.super_=u;var b=function(){};b.prototype=u.prototype,i.prototype=new b,i.prototype.constructor=i}};var oe=We.exports,Se,rr;function wr(){return rr||(rr=1,Se=vr.EventEmitter),Se}var Ke={},Sr={},Nr=Dr,Je=function(){return Nr()&&!!Symbol.toStringTag},Ir=Je(),Cr=_r,He=Cr("Object.prototype.toString"),ge=function(i){return Ir&&i&&typeof i=="object"&&Symbol.toStringTag in i?!1:He(i)==="[object Arguments]"},mr=function(i){return ge(i)?!0:i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&He(i)!=="[object Array]"&&He(i.callee)==="[object Function]"},kr=function(){return ge(arguments)}();ge.isLegacyArguments=mr;var Fr=kr?ge:mr,Ur=Object.prototype.toString,qr=Function.prototype.toString,Wr=/^\s*(?:function)?\*/,Er=Je(),me=Object.getPrototypeOf,Hr=function(){if(!Er)return!1;try{return Function("return function*() {}")()}catch{}},Ee,$r=function(i){if(typeof i!="function")return!1;if(Wr.test(qr.call(i)))return!0;if(!Er){var u=Ur.call(i);return u==="[object GeneratorFunction]"}if(!me)return!1;if(typeof Ee>"u"){var b=Hr();Ee=b?me(b):!1}return me(i)===Ee},Rr=Function.prototype.toString,fe=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,$e,de;if(typeof fe=="function"&&typeof Object.defineProperty=="function")try{$e=Object.defineProperty({},"length",{get:function(){throw de}}),de={},fe(function(){throw 42},null,$e)}catch(a){a!==de&&(fe=null)}else fe=null;var Gr=/^\s*class\b/,Ge=function(i){try{var u=Rr.call(i);return Gr.test(u)}catch{return!1}},Re=function(i){try{return Ge(i)?!1:(Rr.call(i),!0)}catch{return!1}},he=Object.prototype.toString,Vr="[object Object]",zr="[object Function]",Yr="[object GeneratorFunction]",Kr="[object HTMLAllCollection]",Jr="[object HTML document.all class]",Zr="[object HTMLCollection]",Xr=typeof Symbol=="function"&&!!Symbol.toStringTag,Qr=!(0 in[,]),Ve=function(){return!1};if(typeof document=="object"){var xr=document.all;he.call(xr)===he.call(document.all)&&(Ve=function(i){if((Qr||!i)&&(typeof i>"u"||typeof i=="object"))try{var u=he.call(i);return(u===Kr||u===Jr||u===Zr||u===Vr)&&i("")==null}catch{}return!1})}var et=fe?function(i){if(Ve(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;try{fe(i,null,$e)}catch(u){if(u!==de)return!1}return!Ge(i)&&Re(i)}:function(i){if(Ve(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(Xr)return Re(i);if(Ge(i))return!1;var u=he.call(i);return u!==zr&&u!==Yr&&!/^\[object HTML/.test(u)?!1:Re(i)},rt=et,tt=Object.prototype.toString,Ar=Object.prototype.hasOwnProperty,nt=function(i,u,b){for(var w=0,y=i.length;w<y;w++)Ar.call(i,w)&&(b==null?u(i[w],w,i):u.call(b,i[w],w,i))},it=function(i,u,b){for(var w=0,y=i.length;w<y;w++)b==null?u(i.charAt(w),w,i):u.call(b,i.charAt(w),w,i)},at=function(i,u,b){for(var w in i)Ar.call(i,w)&&(b==null?u(i[w],w,i):u.call(b,i[w],w,i))},ft=function(i,u,b){if(!rt(u))throw new TypeError("iterator must be a function");var w;arguments.length>=3&&(w=b),tt.call(i)==="[object Array]"?nt(i,u,w):typeof i=="string"?it(i,u,w):at(i,u,w)},ot=ft,ut=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Ae=ut,lt=typeof globalThis>"u"?ne:globalThis,st=function(){for(var i=[],u=0;u<Ae.length;u++)typeof lt[Ae[u]]=="function"&&(i[i.length]=Ae[u]);return i},pe=ot,ct=st,tr=Br,Ze=_r,ye=Lr,dt=Ze("Object.prototype.toString"),Tr=Je(),nr=typeof globalThis>"u"?ne:globalThis,ze=ct(),Xe=Ze("String.prototype.slice"),Te=Object.getPrototypeOf,ht=Ze("Array.prototype.indexOf",!0)||function(i,u){for(var b=0;b<i.length;b+=1)if(i[b]===u)return b;return-1},be={__proto__:null};Tr&&ye&&Te?pe(ze,function(a){var i=new nr[a];if(Symbol.toStringTag in i){var u=Te(i),b=ye(u,Symbol.toStringTag);if(!b){var w=Te(u);b=ye(w,Symbol.toStringTag)}be["$"+a]=tr(b.get)}}):pe(ze,function(a){var i=new nr[a],u=i.slice||i.set;u&&(be["$"+a]=tr(u))});var yt=function(i){var u=!1;return pe(be,function(b,w){if(!u)try{"$"+b(i)===w&&(u=Xe(w,1))}catch{}}),u},pt=function(i){var u=!1;return pe(be,function(b,w){if(!u)try{b(i),u=Xe(w,1)}catch{}}),u},Or=function(i){if(!i||typeof i!="object")return!1;if(!Tr){var u=Xe(dt(i),8,-1);return ht(ze,u)>-1?u:u!=="Object"?!1:pt(i)}return ye?yt(i):null},bt=Or,gt=function(i){return!!bt(i)};(function(a){var i=Fr,u=$r,b=Or,w=gt;function y(d){return d.call.bind(d)}var S=typeof BigInt<"u",s=typeof Symbol<"u",o=y(Object.prototype.toString),_=y(Number.prototype.valueOf),j=y(String.prototype.valueOf),A=y(Boolean.prototype.valueOf);if(S)var m=y(BigInt.prototype.valueOf);if(s)var B=y(Symbol.prototype.valueOf);function E(d,ce){if(typeof d!="object")return!1;try{return ce(d),!0}catch{return!1}}a.isArgumentsObject=i,a.isGeneratorFunction=u,a.isTypedArray=w;function M(d){return typeof Promise<"u"&&d instanceof Promise||d!==null&&typeof d=="object"&&typeof d.then=="function"&&typeof d.catch=="function"}a.isPromise=M;function v(d){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(d):w(d)||f(d)}a.isArrayBufferView=v;function R(d){return b(d)==="Uint8Array"}a.isUint8Array=R;function L(d){return b(d)==="Uint8ClampedArray"}a.isUint8ClampedArray=L;function P(d){return b(d)==="Uint16Array"}a.isUint16Array=P;function D(d){return b(d)==="Uint32Array"}a.isUint32Array=D;function N(d){return b(d)==="Int8Array"}a.isInt8Array=N;function I(d){return b(d)==="Int16Array"}a.isInt16Array=I;function H(d){return b(d)==="Int32Array"}a.isInt32Array=H;function k(d){return b(d)==="Float32Array"}a.isFloat32Array=k;function C(d){return b(d)==="Float64Array"}a.isFloat64Array=C;function $(d){return b(d)==="BigInt64Array"}a.isBigInt64Array=$;function Y(d){return b(d)==="BigUint64Array"}a.isBigUint64Array=Y;function V(d){return o(d)==="[object Map]"}V.working=typeof Map<"u"&&V(new Map);function z(d){return typeof Map>"u"?!1:V.working?V(d):d instanceof Map}a.isMap=z;function Q(d){return o(d)==="[object Set]"}Q.working=typeof Set<"u"&&Q(new Set);function x(d){return typeof Set>"u"?!1:Q.working?Q(d):d instanceof Set}a.isSet=x;function K(d){return o(d)==="[object WeakMap]"}K.working=typeof WeakMap<"u"&&K(new WeakMap);function J(d){return typeof WeakMap>"u"?!1:K.working?K(d):d instanceof WeakMap}a.isWeakMap=J;function ee(d){return o(d)==="[object WeakSet]"}ee.working=typeof WeakSet<"u"&&ee(new WeakSet);function Z(d){return ee(d)}a.isWeakSet=Z;function G(d){return o(d)==="[object ArrayBuffer]"}G.working=typeof ArrayBuffer<"u"&&G(new ArrayBuffer);function re(d){return typeof ArrayBuffer>"u"?!1:G.working?G(d):d instanceof ArrayBuffer}a.isArrayBuffer=re;function X(d){return o(d)==="[object DataView]"}X.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&X(new DataView(new ArrayBuffer(1),0,1));function f(d){return typeof DataView>"u"?!1:X.working?X(d):d instanceof DataView}a.isDataView=f;var c=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function p(d){return o(d)==="[object SharedArrayBuffer]"}function t(d){return typeof c>"u"?!1:(typeof p.working>"u"&&(p.working=p(new c)),p.working?p(d):d instanceof c)}a.isSharedArrayBuffer=t;function n(d){return o(d)==="[object AsyncFunction]"}a.isAsyncFunction=n;function l(d){return o(d)==="[object Map Iterator]"}a.isMapIterator=l;function g(d){return o(d)==="[object Set Iterator]"}a.isSetIterator=g;function T(d){return o(d)==="[object Generator]"}a.isGeneratorObject=T;function e(d){return o(d)==="[object WebAssembly.Module]"}a.isWebAssemblyCompiledModule=e;function r(d){return E(d,_)}a.isNumberObject=r;function h(d){return E(d,j)}a.isStringObject=h;function O(d){return E(d,A)}a.isBooleanObject=O;function q(d){return S&&E(d,m)}a.isBigIntObject=q;function F(d){return s&&E(d,B)}a.isSymbolObject=F;function W(d){return r(d)||h(d)||O(d)||q(d)||F(d)}a.isBoxedPrimitive=W;function te(d){return typeof Uint8Array<"u"&&(re(d)||t(d))}a.isAnyArrayBuffer=te,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(d){Object.defineProperty(a,d,{enumerable:!1,value:function(){throw new Error(d+" is not supported in userland")}})})})(Sr);var _t=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"};(function(a){var i={},u=Object.getOwnPropertyDescriptors||function(c){for(var p=Object.keys(c),t={},n=0;n<p.length;n++)t[p[n]]=Object.getOwnPropertyDescriptor(c,p[n]);return t},b=/%[sdj%]/g;a.format=function(f){if(!I(f)){for(var c=[],p=0;p<arguments.length;p++)c.push(s(arguments[p]));return c.join(" ")}for(var p=1,t=arguments,n=t.length,l=String(f).replace(b,function(T){if(T==="%%")return"%";if(p>=n)return T;switch(T){case"%s":return String(t[p++]);case"%d":return Number(t[p++]);case"%j":try{return JSON.stringify(t[p++])}catch{return"[Circular]"}default:return T}}),g=t[p];p<n;g=t[++p])P(g)||!$(g)?l+=" "+g:l+=" "+s(g);return l},a.deprecate=function(f,c){if(typeof U<"u"&&U.noDeprecation===!0)return f;if(typeof U>"u")return function(){return a.deprecate(f,c).apply(this,arguments)};var p=!1;function t(){if(!p){if(U.throwDeprecation)throw new Error(c);U.traceDeprecation?console.trace(c):console.error(c),p=!0}return f.apply(this,arguments)}return t};var w={},y=/^$/;if(i.NODE_DEBUG){var S=i.NODE_DEBUG;S=S.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),y=new RegExp("^"+S+"$","i")}a.debuglog=function(f){if(f=f.toUpperCase(),!w[f])if(y.test(f)){var c=U.pid;w[f]=function(){var p=a.format.apply(a,arguments);console.error("%s %d: %s",f,c,p)}}else w[f]=function(){};return w[f]};function s(f,c){var p={seen:[],stylize:_};return arguments.length>=3&&(p.depth=arguments[2]),arguments.length>=4&&(p.colors=arguments[3]),L(c)?p.showHidden=c:c&&a._extend(p,c),k(p.showHidden)&&(p.showHidden=!1),k(p.depth)&&(p.depth=2),k(p.colors)&&(p.colors=!1),k(p.customInspect)&&(p.customInspect=!0),p.colors&&(p.stylize=o),A(p,f,p.depth)}a.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(f,c){var p=s.styles[c];return p?"\x1B["+s.colors[p][0]+"m"+f+"\x1B["+s.colors[p][1]+"m":f}function _(f,c){return f}function j(f){var c={};return f.forEach(function(p,t){c[p]=!0}),c}function A(f,c,p){if(f.customInspect&&c&&z(c.inspect)&&c.inspect!==a.inspect&&!(c.constructor&&c.constructor.prototype===c)){var t=c.inspect(p,f);return I(t)||(t=A(f,t,p)),t}var n=m(f,c);if(n)return n;var l=Object.keys(c),g=j(l);if(f.showHidden&&(l=Object.getOwnPropertyNames(c)),V(c)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return B(c);if(l.length===0){if(z(c)){var T=c.name?": "+c.name:"";return f.stylize("[Function"+T+"]","special")}if(C(c))return f.stylize(RegExp.prototype.toString.call(c),"regexp");if(Y(c))return f.stylize(Date.prototype.toString.call(c),"date");if(V(c))return B(c)}var e="",r=!1,h=["{","}"];if(R(c)&&(r=!0,h=["[","]"]),z(c)){var O=c.name?": "+c.name:"";e=" [Function"+O+"]"}if(C(c)&&(e=" "+RegExp.prototype.toString.call(c)),Y(c)&&(e=" "+Date.prototype.toUTCString.call(c)),V(c)&&(e=" "+B(c)),l.length===0&&(!r||c.length==0))return h[0]+e+h[1];if(p<0)return C(c)?f.stylize(RegExp.prototype.toString.call(c),"regexp"):f.stylize("[Object]","special");f.seen.push(c);var q;return r?q=E(f,c,p,g,l):q=l.map(function(F){return M(f,c,p,g,F,r)}),f.seen.pop(),v(q,e,h)}function m(f,c){if(k(c))return f.stylize("undefined","undefined");if(I(c)){var p="'"+JSON.stringify(c).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(p,"string")}if(N(c))return f.stylize(""+c,"number");if(L(c))return f.stylize(""+c,"boolean");if(P(c))return f.stylize("null","null")}function B(f){return"["+Error.prototype.toString.call(f)+"]"}function E(f,c,p,t,n){for(var l=[],g=0,T=c.length;g<T;++g)Z(c,String(g))?l.push(M(f,c,p,t,String(g),!0)):l.push("");return n.forEach(function(e){e.match(/^\d+$/)||l.push(M(f,c,p,t,e,!0))}),l}function M(f,c,p,t,n,l){var g,T,e;if(e=Object.getOwnPropertyDescriptor(c,n)||{value:c[n]},e.get?e.set?T=f.stylize("[Getter/Setter]","special"):T=f.stylize("[Getter]","special"):e.set&&(T=f.stylize("[Setter]","special")),Z(t,n)||(g="["+n+"]"),T||(f.seen.indexOf(e.value)<0?(P(p)?T=A(f,e.value,null):T=A(f,e.value,p-1),T.indexOf(`
`)>-1&&(l?T=T.split(`
`).map(function(r){return"  "+r}).join(`
`).slice(2):T=`
`+T.split(`
`).map(function(r){return"   "+r}).join(`
`))):T=f.stylize("[Circular]","special")),k(g)){if(l&&n.match(/^\d+$/))return T;g=JSON.stringify(""+n),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.slice(1,-1),g=f.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=f.stylize(g,"string"))}return g+": "+T}function v(f,c,p){var t=f.reduce(function(n,l){return l.indexOf(`
`)>=0,n+l.replace(/\u001b\[\d\d?m/g,"").length+1},0);return t>60?p[0]+(c===""?"":c+`
 `)+" "+f.join(`,
  `)+" "+p[1]:p[0]+c+" "+f.join(", ")+" "+p[1]}a.types=Sr;function R(f){return Array.isArray(f)}a.isArray=R;function L(f){return typeof f=="boolean"}a.isBoolean=L;function P(f){return f===null}a.isNull=P;function D(f){return f==null}a.isNullOrUndefined=D;function N(f){return typeof f=="number"}a.isNumber=N;function I(f){return typeof f=="string"}a.isString=I;function H(f){return typeof f=="symbol"}a.isSymbol=H;function k(f){return f===void 0}a.isUndefined=k;function C(f){return $(f)&&x(f)==="[object RegExp]"}a.isRegExp=C,a.types.isRegExp=C;function $(f){return typeof f=="object"&&f!==null}a.isObject=$;function Y(f){return $(f)&&x(f)==="[object Date]"}a.isDate=Y,a.types.isDate=Y;function V(f){return $(f)&&(x(f)==="[object Error]"||f instanceof Error)}a.isError=V,a.types.isNativeError=V;function z(f){return typeof f=="function"}a.isFunction=z;function Q(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||typeof f>"u"}a.isPrimitive=Q,a.isBuffer=_t;function x(f){return Object.prototype.toString.call(f)}function K(f){return f<10?"0"+f.toString(10):f.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(){var f=new Date,c=[K(f.getHours()),K(f.getMinutes()),K(f.getSeconds())].join(":");return[f.getDate(),J[f.getMonth()],c].join(" ")}a.log=function(){console.log("%s - %s",ee(),a.format.apply(a,arguments))},a.inherits=oe,a._extend=function(f,c){if(!c||!$(c))return f;for(var p=Object.keys(c),t=p.length;t--;)f[p[t]]=c[p[t]];return f};function Z(f,c){return Object.prototype.hasOwnProperty.call(f,c)}var G=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;a.promisify=function(c){if(typeof c!="function")throw new TypeError('The "original" argument must be of type Function');if(G&&c[G]){var p=c[G];if(typeof p!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(p,G,{value:p,enumerable:!1,writable:!1,configurable:!0}),p}function p(){for(var t,n,l=new Promise(function(e,r){t=e,n=r}),g=[],T=0;T<arguments.length;T++)g.push(arguments[T]);g.push(function(e,r){e?n(e):t(r)});try{c.apply(this,g)}catch(e){n(e)}return l}return Object.setPrototypeOf(p,Object.getPrototypeOf(c)),G&&Object.defineProperty(p,G,{value:p,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(p,u(c))},a.promisify.custom=G;function re(f,c){if(!f){var p=new Error("Promise was rejected with a falsy value");p.reason=f,f=p}return c(f)}function X(f){if(typeof f!="function")throw new TypeError('The "original" argument must be of type Function');function c(){for(var p=[],t=0;t<arguments.length;t++)p.push(arguments[t]);var n=p.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var l=this,g=function(){return n.apply(l,arguments)};f.apply(this,p).then(function(T){U.nextTick(g.bind(null,null,T))},function(T){U.nextTick(re.bind(null,T,g))})}return Object.setPrototypeOf(c,Object.getPrototypeOf(f)),Object.defineProperties(c,u(f)),c}a.callbackify=X})(Ke);var Oe,ir;function vt(){if(ir)return Oe;ir=1;function a(E,M){var v=Object.keys(E);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);M&&(R=R.filter(function(L){return Object.getOwnPropertyDescriptor(E,L).enumerable})),v.push.apply(v,R)}return v}function i(E){for(var M=1;M<arguments.length;M++){var v=arguments[M]!=null?arguments[M]:{};M%2?a(Object(v),!0).forEach(function(R){u(E,R,v[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(v)):a(Object(v)).forEach(function(R){Object.defineProperty(E,R,Object.getOwnPropertyDescriptor(v,R))})}return E}function u(E,M,v){return M=S(M),M in E?Object.defineProperty(E,M,{value:v,enumerable:!0,configurable:!0,writable:!0}):E[M]=v,E}function b(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")}function w(E,M){for(var v=0;v<M.length;v++){var R=M[v];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,S(R.key),R)}}function y(E,M,v){return M&&w(E.prototype,M),Object.defineProperty(E,"prototype",{writable:!1}),E}function S(E){var M=s(E,"string");return typeof M=="symbol"?M:String(M)}function s(E,M){if(typeof E!="object"||E===null)return E;var v=E[Symbol.toPrimitive];if(v!==void 0){var R=v.call(E,M||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(E)}var o=Ye,_=o.Buffer,j=Ke,A=j.inspect,m=A&&A.custom||"inspect";function B(E,M,v){_.prototype.copy.call(E,M,v)}return Oe=function(){function E(){b(this,E),this.head=null,this.tail=null,this.length=0}return y(E,[{key:"push",value:function(v){var R={data:v,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(v){var R={data:v,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var R=this.head,L=""+R.data;R=R.next;)L+=v+R.data;return L}},{key:"concat",value:function(v){if(this.length===0)return _.alloc(0);for(var R=_.allocUnsafe(v>>>0),L=this.head,P=0;L;)B(L.data,R,P),P+=L.data.length,L=L.next;return R}},{key:"consume",value:function(v,R){var L;return v<this.head.data.length?(L=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?L=this.shift():L=R?this._getString(v):this._getBuffer(v),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var R=this.head,L=1,P=R.data;for(v-=P.length;R=R.next;){var D=R.data,N=v>D.length?D.length:v;if(N===D.length?P+=D:P+=D.slice(0,v),v-=N,v===0){N===D.length?(++L,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=D.slice(N));break}++L}return this.length-=L,P}},{key:"_getBuffer",value:function(v){var R=_.allocUnsafe(v),L=this.head,P=1;for(L.data.copy(R),v-=L.data.length;L=L.next;){var D=L.data,N=v>D.length?D.length:v;if(D.copy(R,R.length-v,0,N),v-=N,v===0){N===D.length?(++P,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=D.slice(N));break}++P}return this.length-=P,R}},{key:m,value:function(v,R){return A(this,i(i({},R),{},{depth:0,customInspect:!1}))}}]),E}(),Oe}var Me,ar;function Mr(){if(ar)return Me;ar=1;function a(S,s){var o=this,_=this._readableState&&this._readableState.destroyed,j=this._writableState&&this._writableState.destroyed;return _||j?(s?s(S):S&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,U.nextTick(w,this,S)):U.nextTick(w,this,S)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(S||null,function(A){!s&&A?o._writableState?o._writableState.errorEmitted?U.nextTick(u,o):(o._writableState.errorEmitted=!0,U.nextTick(i,o,A)):U.nextTick(i,o,A):s?(U.nextTick(u,o),s(A)):U.nextTick(u,o)}),this)}function i(S,s){w(S,s),u(S)}function u(S){S._writableState&&!S._writableState.emitClose||S._readableState&&!S._readableState.emitClose||S.emit("close")}function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function w(S,s){S.emit("error",s)}function y(S,s){var o=S._readableState,_=S._writableState;o&&o.autoDestroy||_&&_.autoDestroy?S.destroy(s):S.emit("error",s)}return Me={destroy:a,undestroy:b,errorOrDestroy:y},Me}var je={},fr;function ue(){if(fr)return je;fr=1;function a(s,o){s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o}var i={};function u(s,o,_){_||(_=Error);function j(m,B,E){return typeof o=="string"?o:o(m,B,E)}var A=function(m){a(B,m);function B(E,M,v){return m.call(this,j(E,M,v))||this}return B}(_);A.prototype.name=_.name,A.prototype.code=s,i[s]=A}function b(s,o){if(Array.isArray(s)){var _=s.length;return s=s.map(function(j){return String(j)}),_>2?"one of ".concat(o," ").concat(s.slice(0,_-1).join(", "),", or ")+s[_-1]:_===2?"one of ".concat(o," ").concat(s[0]," or ").concat(s[1]):"of ".concat(o," ").concat(s[0])}else return"of ".concat(o," ").concat(String(s))}function w(s,o,_){return s.substr(0,o.length)===o}function y(s,o,_){return(_===void 0||_>s.length)&&(_=s.length),s.substring(_-o.length,_)===o}function S(s,o,_){return typeof _!="number"&&(_=0),_+o.length>s.length?!1:s.indexOf(o,_)!==-1}return u("ERR_INVALID_OPT_VALUE",function(s,o){return'The value "'+o+'" is invalid for option "'+s+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(s,o,_){var j;typeof o=="string"&&w(o,"not ")?(j="must not be",o=o.replace(/^not /,"")):j="must be";var A;if(y(s," argument"))A="The ".concat(s," ").concat(j," ").concat(b(o,"type"));else{var m=S(s,".")?"property":"argument";A='The "'.concat(s,'" ').concat(m," ").concat(j," ").concat(b(o,"type"))}return A+=". Received type ".concat(typeof _),A},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),je.codes=i,je}var Pe,or;function jr(){if(or)return Pe;or=1;var a=ue().codes.ERR_INVALID_OPT_VALUE;function i(b,w,y){return b.highWaterMark!=null?b.highWaterMark:w?b[y]:null}function u(b,w,y,S){var s=i(w,S,y);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var o=S?y:"highWaterMark";throw new a(o,s)}return Math.floor(s)}return b.objectMode?16:16*1024}return Pe={getHighWaterMark:u},Pe}var De,ur;function wt(){if(ur)return De;ur=1,De=a;function a(u,b){if(i("noDeprecation"))return u;var w=!1;function y(){if(!w){if(i("throwDeprecation"))throw new Error(b);i("traceDeprecation")?console.trace(b):console.warn(b),w=!0}return u.apply(this,arguments)}return y}function i(u){try{if(!ne.localStorage)return!1}catch{return!1}var b=ne.localStorage[u];return b==null?!1:String(b).toLowerCase()==="true"}return De}var Le,lr;function St(){if(lr)return Le;lr=1,Le=k;function a(t){var n=this;this.next=null,this.entry=null,this.finish=function(){p(n,t)}}var i;k.WritableState=I;var u={deprecate:wt()},b=wr(),w=Ye.Buffer,y=(typeof ne<"u"?ne:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function S(t){return w.from(t)}function s(t){return w.isBuffer(t)||t instanceof y}var o=Mr(),_=jr(),j=_.getHighWaterMark,A=ue().codes,m=A.ERR_INVALID_ARG_TYPE,B=A.ERR_METHOD_NOT_IMPLEMENTED,E=A.ERR_MULTIPLE_CALLBACK,M=A.ERR_STREAM_CANNOT_PIPE,v=A.ERR_STREAM_DESTROYED,R=A.ERR_STREAM_NULL_VALUES,L=A.ERR_STREAM_WRITE_AFTER_END,P=A.ERR_UNKNOWN_ENCODING,D=o.errorOrDestroy;oe(k,b);function N(){}function I(t,n,l){i=i||se(),t=t||{},typeof l!="boolean"&&(l=n instanceof i),this.objectMode=!!t.objectMode,l&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=j(this,t,"writableHighWaterMark",l),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g=t.decodeStrings===!1;this.decodeStrings=!g,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){K(n,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}I.prototype.getBuffer=function(){for(var n=this.bufferedRequest,l=[];n;)l.push(n),n=n.next;return l},function(){try{Object.defineProperty(I.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var H;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(H=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(n){return H.call(this,n)?!0:this!==k?!1:n&&n._writableState instanceof I}})):H=function(n){return n instanceof this};function k(t){i=i||se();var n=this instanceof i;if(!n&&!H.call(k,this))return new k(t);this._writableState=new I(t,this,n),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),b.call(this)}k.prototype.pipe=function(){D(this,new M)};function C(t,n){var l=new L;D(t,l),U.nextTick(n,l)}function $(t,n,l,g){var T;return l===null?T=new R:typeof l!="string"&&!n.objectMode&&(T=new m("chunk",["string","Buffer"],l)),T?(D(t,T),U.nextTick(g,T),!1):!0}k.prototype.write=function(t,n,l){var g=this._writableState,T=!1,e=!g.objectMode&&s(t);return e&&!w.isBuffer(t)&&(t=S(t)),typeof n=="function"&&(l=n,n=null),e?n="buffer":n||(n=g.defaultEncoding),typeof l!="function"&&(l=N),g.ending?C(this,l):(e||$(this,g,t,l))&&(g.pendingcb++,T=V(this,g,e,t,n,l)),T},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Z(this,t))},k.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new P(n);return this._writableState.defaultEncoding=n,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Y(t,n,l){return!t.objectMode&&t.decodeStrings!==!1&&typeof n=="string"&&(n=w.from(n,l)),n}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(t,n,l,g,T,e){if(!l){var r=Y(n,g,T);g!==r&&(l=!0,T="buffer",g=r)}var h=n.objectMode?1:g.length;n.length+=h;var O=n.length<n.highWaterMark;if(O||(n.needDrain=!0),n.writing||n.corked){var q=n.lastBufferedRequest;n.lastBufferedRequest={chunk:g,encoding:T,isBuf:l,callback:e,next:null},q?q.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else z(t,n,!1,h,g,T,e);return O}function z(t,n,l,g,T,e,r){n.writelen=g,n.writecb=r,n.writing=!0,n.sync=!0,n.destroyed?n.onwrite(new v("write")):l?t._writev(T,n.onwrite):t._write(T,e,n.onwrite),n.sync=!1}function Q(t,n,l,g,T){--n.pendingcb,l?(U.nextTick(T,g),U.nextTick(f,t,n),t._writableState.errorEmitted=!0,D(t,g)):(T(g),t._writableState.errorEmitted=!0,D(t,g),f(t,n))}function x(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function K(t,n){var l=t._writableState,g=l.sync,T=l.writecb;if(typeof T!="function")throw new E;if(x(l),n)Q(t,l,g,n,T);else{var e=G(l)||t.destroyed;!e&&!l.corked&&!l.bufferProcessing&&l.bufferedRequest&&Z(t,l),g?U.nextTick(J,t,l,e,T):J(t,l,e,T)}}function J(t,n,l,g){l||ee(t,n),n.pendingcb--,g(),f(t,n)}function ee(t,n){n.length===0&&n.needDrain&&(n.needDrain=!1,t.emit("drain"))}function Z(t,n){n.bufferProcessing=!0;var l=n.bufferedRequest;if(t._writev&&l&&l.next){var g=n.bufferedRequestCount,T=new Array(g),e=n.corkedRequestsFree;e.entry=l;for(var r=0,h=!0;l;)T[r]=l,l.isBuf||(h=!1),l=l.next,r+=1;T.allBuffers=h,z(t,n,!0,n.length,T,"",e.finish),n.pendingcb++,n.lastBufferedRequest=null,e.next?(n.corkedRequestsFree=e.next,e.next=null):n.corkedRequestsFree=new a(n),n.bufferedRequestCount=0}else{for(;l;){var O=l.chunk,q=l.encoding,F=l.callback,W=n.objectMode?1:O.length;if(z(t,n,!1,W,O,q,F),l=l.next,n.bufferedRequestCount--,n.writing)break}l===null&&(n.lastBufferedRequest=null)}n.bufferedRequest=l,n.bufferProcessing=!1}k.prototype._write=function(t,n,l){l(new B("_write()"))},k.prototype._writev=null,k.prototype.end=function(t,n,l){var g=this._writableState;return typeof t=="function"?(l=t,t=null,n=null):typeof n=="function"&&(l=n,n=null),t!=null&&this.write(t,n),g.corked&&(g.corked=1,this.uncork()),g.ending||c(this,g,l),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function G(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function re(t,n){t._final(function(l){n.pendingcb--,l&&D(t,l),n.prefinished=!0,t.emit("prefinish"),f(t,n)})}function X(t,n){!n.prefinished&&!n.finalCalled&&(typeof t._final=="function"&&!n.destroyed?(n.pendingcb++,n.finalCalled=!0,U.nextTick(re,t,n)):(n.prefinished=!0,t.emit("prefinish")))}function f(t,n){var l=G(n);if(l&&(X(t,n),n.pendingcb===0&&(n.finished=!0,t.emit("finish"),n.autoDestroy))){var g=t._readableState;(!g||g.autoDestroy&&g.endEmitted)&&t.destroy()}return l}function c(t,n,l){n.ending=!0,f(t,n),l&&(n.finished?U.nextTick(l):t.once("finish",l)),n.ended=!0,t.writable=!1}function p(t,n,l){var g=t.entry;for(t.entry=null;g;){var T=g.callback;n.pendingcb--,T(l),g=g.next}n.corkedRequestsFree.next=t}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(n){this._writableState&&(this._writableState.destroyed=n)}}),k.prototype.destroy=o.destroy,k.prototype._undestroy=o.undestroy,k.prototype._destroy=function(t,n){n(t)},Le}var Be,sr;function se(){if(sr)return Be;sr=1;var a=Object.keys||function(_){var j=[];for(var A in _)j.push(A);return j};Be=S;var i=Rt(),u=St();oe(S,i);for(var b=a(u.prototype),w=0;w<b.length;w++){var y=b[w];S.prototype[y]||(S.prototype[y]=u.prototype[y])}function S(_){if(!(this instanceof S))return new S(_);i.call(this,_),u.call(this,_),this.allowHalfOpen=!0,_&&(_.readable===!1&&(this.readable=!1),_.writable===!1&&(this.writable=!1),_.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||U.nextTick(o,this)}function o(_){_.end()}return Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(j){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=j,this._writableState.destroyed=j)}}),Be}var Ne,cr;function Pr(){if(cr)return Ne;cr=1;var a=ue().codes.ERR_STREAM_PREMATURE_CLOSE;function i(y){var S=!1;return function(){if(!S){S=!0;for(var s=arguments.length,o=new Array(s),_=0;_<s;_++)o[_]=arguments[_];y.apply(this,o)}}}function u(){}function b(y){return y.setHeader&&typeof y.abort=="function"}function w(y,S,s){if(typeof S=="function")return w(y,null,S);S||(S={}),s=i(s||u);var o=S.readable||S.readable!==!1&&y.readable,_=S.writable||S.writable!==!1&&y.writable,j=function(){y.writable||m()},A=y._writableState&&y._writableState.finished,m=function(){_=!1,A=!0,o||s.call(y)},B=y._readableState&&y._readableState.endEmitted,E=function(){o=!1,B=!0,_||s.call(y)},M=function(P){s.call(y,P)},v=function(){var P;if(o&&!B)return(!y._readableState||!y._readableState.ended)&&(P=new a),s.call(y,P);if(_&&!A)return(!y._writableState||!y._writableState.ended)&&(P=new a),s.call(y,P)},R=function(){y.req.on("finish",m)};return b(y)?(y.on("complete",m),y.on("abort",v),y.req?R():y.on("request",R)):_&&!y._writableState&&(y.on("end",j),y.on("close",j)),y.on("end",E),y.on("finish",m),S.error!==!1&&y.on("error",M),y.on("close",v),function(){y.removeListener("complete",m),y.removeListener("abort",v),y.removeListener("request",R),y.req&&y.req.removeListener("finish",m),y.removeListener("end",j),y.removeListener("close",j),y.removeListener("finish",m),y.removeListener("end",E),y.removeListener("error",M),y.removeListener("close",v)}}return Ne=w,Ne}var Ie,dr;function mt(){if(dr)return Ie;dr=1;var a;function i(P,D,N){return D=u(D),D in P?Object.defineProperty(P,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[D]=N,P}function u(P){var D=b(P,"string");return typeof D=="symbol"?D:String(D)}function b(P,D){if(typeof P!="object"||P===null)return P;var N=P[Symbol.toPrimitive];if(N!==void 0){var I=N.call(P,D||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(P)}var w=Pr(),y=Symbol("lastResolve"),S=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),_=Symbol("lastPromise"),j=Symbol("handlePromise"),A=Symbol("stream");function m(P,D){return{value:P,done:D}}function B(P){var D=P[y];if(D!==null){var N=P[A].read();N!==null&&(P[_]=null,P[y]=null,P[S]=null,D(m(N,!1)))}}function E(P){U.nextTick(B,P)}function M(P,D){return function(N,I){P.then(function(){if(D[o]){N(m(void 0,!0));return}D[j](N,I)},I)}}var v=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((a={get stream(){return this[A]},next:function(){var D=this,N=this[s];if(N!==null)return Promise.reject(N);if(this[o])return Promise.resolve(m(void 0,!0));if(this[A].destroyed)return new Promise(function(C,$){U.nextTick(function(){D[s]?$(D[s]):C(m(void 0,!0))})});var I=this[_],H;if(I)H=new Promise(M(I,this));else{var k=this[A].read();if(k!==null)return Promise.resolve(m(k,!1));H=new Promise(this[j])}return this[_]=H,H}},i(a,Symbol.asyncIterator,function(){return this}),i(a,"return",function(){var D=this;return new Promise(function(N,I){D[A].destroy(null,function(H){if(H){I(H);return}N(m(void 0,!0))})})}),a),v),L=function(D){var N,I=Object.create(R,(N={},i(N,A,{value:D,writable:!0}),i(N,y,{value:null,writable:!0}),i(N,S,{value:null,writable:!0}),i(N,s,{value:null,writable:!0}),i(N,o,{value:D._readableState.endEmitted,writable:!0}),i(N,j,{value:function(k,C){var $=I[A].read();$?(I[_]=null,I[y]=null,I[S]=null,k(m($,!1))):(I[y]=k,I[S]=C)},writable:!0}),N));return I[_]=null,w(D,function(H){if(H&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=I[S];k!==null&&(I[_]=null,I[y]=null,I[S]=null,k(H)),I[s]=H;return}var C=I[y];C!==null&&(I[_]=null,I[y]=null,I[S]=null,C(m(void 0,!0))),I[o]=!0}),D.on("readable",E.bind(null,I)),I};return Ie=L,Ie}var Ce,hr;function Et(){return hr||(hr=1,Ce=function(){throw new Error("Readable.from is not available in the browser")}),Ce}var ke,yr;function Rt(){if(yr)return ke;yr=1,ke=C;var a;C.ReadableState=k,vr.EventEmitter;var i=function(r,h){return r.listeners(h).length},u=wr(),b=Ye.Buffer,w=(typeof ne<"u"?ne:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(e){return b.from(e)}function S(e){return b.isBuffer(e)||e instanceof w}var s=Ke,o;s&&s.debuglog?o=s.debuglog("stream"):o=function(){};var _=vt(),j=Mr(),A=jr(),m=A.getHighWaterMark,B=ue().codes,E=B.ERR_INVALID_ARG_TYPE,M=B.ERR_STREAM_PUSH_AFTER_EOF,v=B.ERR_METHOD_NOT_IMPLEMENTED,R=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,P,D;oe(C,u);var N=j.errorOrDestroy,I=["error","close","destroy","pause","resume"];function H(e,r,h){if(typeof e.prependListener=="function")return e.prependListener(r,h);!e._events||!e._events[r]?e.on(r,h):Array.isArray(e._events[r])?e._events[r].unshift(h):e._events[r]=[h,e._events[r]]}function k(e,r,h){a=a||se(),e=e||{},typeof h!="boolean"&&(h=r instanceof a),this.objectMode=!!e.objectMode,h&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",h),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(L||(L=er().StringDecoder),this.decoder=new L(e.encoding),this.encoding=e.encoding)}function C(e){if(a=a||se(),!(this instanceof C))return new C(e);var r=this instanceof a;this._readableState=new k(e,this,r),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),u.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(r){this._readableState&&(this._readableState.destroyed=r)}}),C.prototype.destroy=j.destroy,C.prototype._undestroy=j.undestroy,C.prototype._destroy=function(e,r){r(e)},C.prototype.push=function(e,r){var h=this._readableState,O;return h.objectMode?O=!0:typeof e=="string"&&(r=r||h.defaultEncoding,r!==h.encoding&&(e=b.from(e,r),r=""),O=!0),$(this,e,r,!1,O)},C.prototype.unshift=function(e){return $(this,e,null,!0,!1)};function $(e,r,h,O,q){o("readableAddChunk",r);var F=e._readableState;if(r===null)F.reading=!1,K(e,F);else{var W;if(q||(W=V(F,r)),W)N(e,W);else if(F.objectMode||r&&r.length>0)if(typeof r!="string"&&!F.objectMode&&Object.getPrototypeOf(r)!==b.prototype&&(r=y(r)),O)F.endEmitted?N(e,new R):Y(e,F,r,!0);else if(F.ended)N(e,new M);else{if(F.destroyed)return!1;F.reading=!1,F.decoder&&!h?(r=F.decoder.write(r),F.objectMode||r.length!==0?Y(e,F,r,!1):Z(e,F)):Y(e,F,r,!1)}else O||(F.reading=!1,Z(e,F))}return!F.ended&&(F.length<F.highWaterMark||F.length===0)}function Y(e,r,h,O){r.flowing&&r.length===0&&!r.sync?(r.awaitDrain=0,e.emit("data",h)):(r.length+=r.objectMode?1:h.length,O?r.buffer.unshift(h):r.buffer.push(h),r.needReadable&&J(e)),Z(e,r)}function V(e,r){var h;return!S(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(h=new E("chunk",["string","Buffer","Uint8Array"],r)),h}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(e){L||(L=er().StringDecoder);var r=new L(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var h=this._readableState.buffer.head,O="";h!==null;)O+=r.write(h.data),h=h.next;return this._readableState.buffer.clear(),O!==""&&this._readableState.buffer.push(O),this._readableState.length=O.length,this};var z=1073741824;function Q(e){return e>=z?e=z:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function x(e,r){return e<=0||r.length===0&&r.ended?0:r.objectMode?1:e!==e?r.flowing&&r.length?r.buffer.head.data.length:r.length:(e>r.highWaterMark&&(r.highWaterMark=Q(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0))}C.prototype.read=function(e){o("read",e),e=parseInt(e,10);var r=this._readableState,h=e;if(e!==0&&(r.emittedReadable=!1),e===0&&r.needReadable&&((r.highWaterMark!==0?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?l(this):J(this),null;if(e=x(e,r),e===0&&r.ended)return r.length===0&&l(this),null;var O=r.needReadable;o("need readable",O),(r.length===0||r.length-e<r.highWaterMark)&&(O=!0,o("length less than watermark",O)),r.ended||r.reading?(O=!1,o("reading or ended",O)):O&&(o("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=x(h,r)));var q;return e>0?q=n(e,r):q=null,q===null?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),r.length===0&&(r.ended||(r.needReadable=!0),h!==e&&r.ended&&l(this)),q!==null&&this.emit("data",q),q};function K(e,r){if(o("onEofChunk"),!r.ended){if(r.decoder){var h=r.decoder.end();h&&h.length&&(r.buffer.push(h),r.length+=r.objectMode?1:h.length)}r.ended=!0,r.sync?J(e):(r.needReadable=!1,r.emittedReadable||(r.emittedReadable=!0,ee(e)))}}function J(e){var r=e._readableState;o("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(o("emitReadable",r.flowing),r.emittedReadable=!0,U.nextTick(ee,e))}function ee(e){var r=e._readableState;o("emitReadable_",r.destroyed,r.length,r.ended),!r.destroyed&&(r.length||r.ended)&&(e.emit("readable"),r.emittedReadable=!1),r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark,t(e)}function Z(e,r){r.readingMore||(r.readingMore=!0,U.nextTick(G,e,r))}function G(e,r){for(;!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&r.length===0);){var h=r.length;if(o("maybeReadMore read 0"),e.read(0),h===r.length)break}r.readingMore=!1}C.prototype._read=function(e){N(this,new v("_read()"))},C.prototype.pipe=function(e,r){var h=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=e;break;case 1:O.pipes=[O.pipes,e];break;default:O.pipes.push(e);break}O.pipesCount+=1,o("pipe count=%d opts=%j",O.pipesCount,r);var q=(!r||r.end!==!1)&&e!==U.stdout&&e!==U.stderr,F=q?te:le;O.endEmitted?U.nextTick(F):h.once("end",F),e.on("unpipe",W);function W(ie,ae){o("onunpipe"),ie===h&&ae&&ae.hasUnpiped===!1&&(ae.hasUnpiped=!0,Qe())}function te(){o("onend"),e.end()}var d=re(h);e.on("drain",d);var ce=!1;function Qe(){o("cleanup"),e.removeListener("close",ve),e.removeListener("finish",we),e.removeListener("drain",d),e.removeListener("error",_e),e.removeListener("unpipe",W),h.removeListener("end",te),h.removeListener("end",le),h.removeListener("data",xe),ce=!0,O.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}h.on("data",xe);function xe(ie){o("ondata");var ae=e.write(ie);o("dest.write",ae),ae===!1&&((O.pipesCount===1&&O.pipes===e||O.pipesCount>1&&T(O.pipes,e)!==-1)&&!ce&&(o("false write response, pause",O.awaitDrain),O.awaitDrain++),h.pause())}function _e(ie){o("onerror",ie),le(),e.removeListener("error",_e),i(e,"error")===0&&N(e,ie)}H(e,"error",_e);function ve(){e.removeListener("finish",we),le()}e.once("close",ve);function we(){o("onfinish"),e.removeListener("close",ve),le()}e.once("finish",we);function le(){o("unpipe"),h.unpipe(e)}return e.emit("pipe",h),O.flowing||(o("pipe resume"),h.resume()),e};function re(e){return function(){var h=e._readableState;o("pipeOnDrain",h.awaitDrain),h.awaitDrain&&h.awaitDrain--,h.awaitDrain===0&&i(e,"data")&&(h.flowing=!0,t(e))}}C.prototype.unpipe=function(e){var r=this._readableState,h={hasUnpiped:!1};if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this,h),this);if(!e){var O=r.pipes,q=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var F=0;F<q;F++)O[F].emit("unpipe",this,{hasUnpiped:!1});return this}var W=T(r.pipes,e);return W===-1?this:(r.pipes.splice(W,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this,h),this)},C.prototype.on=function(e,r){var h=u.prototype.on.call(this,e,r),O=this._readableState;return e==="data"?(O.readableListening=this.listenerCount("readable")>0,O.flowing!==!1&&this.resume()):e==="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,o("on readable",O.length,O.reading),O.length?J(this):O.reading||U.nextTick(f,this)),h},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,r){var h=u.prototype.removeListener.call(this,e,r);return e==="readable"&&U.nextTick(X,this),h},C.prototype.removeAllListeners=function(e){var r=u.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&U.nextTick(X,this),r};function X(e){var r=e._readableState;r.readableListening=e.listenerCount("readable")>0,r.resumeScheduled&&!r.paused?r.flowing=!0:e.listenerCount("data")>0&&e.resume()}function f(e){o("readable nexttick read 0"),e.read(0)}C.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,c(this,e)),e.paused=!1,this};function c(e,r){r.resumeScheduled||(r.resumeScheduled=!0,U.nextTick(p,e,r))}function p(e,r){o("resume",r.reading),r.reading||e.read(0),r.resumeScheduled=!1,e.emit("resume"),t(e),r.flowing&&!r.reading&&e.read(0)}C.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function t(e){var r=e._readableState;for(o("flow",r.flowing);r.flowing&&e.read()!==null;);}C.prototype.wrap=function(e){var r=this,h=this._readableState,O=!1;e.on("end",function(){if(o("wrapped end"),h.decoder&&!h.ended){var W=h.decoder.end();W&&W.length&&r.push(W)}r.push(null)}),e.on("data",function(W){if(o("wrapped data"),h.decoder&&(W=h.decoder.write(W)),!(h.objectMode&&W==null)&&!(!h.objectMode&&(!W||!W.length))){var te=r.push(W);te||(O=!0,e.pause())}});for(var q in e)this[q]===void 0&&typeof e[q]=="function"&&(this[q]=function(te){return function(){return e[te].apply(e,arguments)}}(q));for(var F=0;F<I.length;F++)e.on(I[F],this.emit.bind(this,I[F]));return this._read=function(W){o("wrapped _read",W),O&&(O=!1,e.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=mt()),P(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(r){this._readableState&&(this._readableState.flowing=r)}}),C._fromList=n,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function n(e,r){if(r.length===0)return null;var h;return r.objectMode?h=r.buffer.shift():!e||e>=r.length?(r.decoder?h=r.buffer.join(""):r.buffer.length===1?h=r.buffer.first():h=r.buffer.concat(r.length),r.buffer.clear()):h=r.buffer.consume(e,r.decoder),h}function l(e){var r=e._readableState;o("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,U.nextTick(g,r,e))}function g(e,r){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,r.readable=!1,r.emit("end"),e.autoDestroy)){var h=r._writableState;(!h||h.autoDestroy&&h.finished)&&r.destroy()}}typeof Symbol=="function"&&(C.from=function(e,r){return D===void 0&&(D=Et()),D(C,e,r)});function T(e,r){for(var h=0,O=e.length;h<O;h++)if(e[h]===r)return h;return-1}return ke}var Fe,pr;function At(){if(pr)return Fe;pr=1,Fe=s;var a=ue().codes,i=a.ERR_METHOD_NOT_IMPLEMENTED,u=a.ERR_MULTIPLE_CALLBACK,b=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=a.ERR_TRANSFORM_WITH_LENGTH_0,y=se();oe(s,y);function S(j,A){var m=this._transformState;m.transforming=!1;var B=m.writecb;if(B===null)return this.emit("error",new u);m.writechunk=null,m.writecb=null,A!=null&&this.push(A),B(j);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function s(j){if(!(this instanceof s))return new s(j);y.call(this,j),this._transformState={afterTransform:S.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,j&&(typeof j.transform=="function"&&(this._transform=j.transform),typeof j.flush=="function"&&(this._flush=j.flush)),this.on("prefinish",o)}function o(){var j=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(A,m){_(j,A,m)}):_(this,null,null)}s.prototype.push=function(j,A){return this._transformState.needTransform=!1,y.prototype.push.call(this,j,A)},s.prototype._transform=function(j,A,m){m(new i("_transform()"))},s.prototype._write=function(j,A,m){var B=this._transformState;if(B.writecb=m,B.writechunk=j,B.writeencoding=A,!B.transforming){var E=this._readableState;(B.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},s.prototype._read=function(j){var A=this._transformState;A.writechunk!==null&&!A.transforming?(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform)):A.needTransform=!0},s.prototype._destroy=function(j,A){y.prototype._destroy.call(this,j,function(m){A(m)})};function _(j,A,m){if(A)return j.emit("error",A);if(m!=null&&j.push(m),j._writableState.length)throw new w;if(j._transformState.transforming)throw new b;return j.push(null)}return Fe}var Ue,br;function Mt(){if(br)return Ue;br=1,Ue=i;var a=At();oe(i,a);function i(u){if(!(this instanceof i))return new i(u);a.call(this,u)}return i.prototype._transform=function(u,b,w){w(null,u)},Ue}var qe,gr;function jt(){if(gr)return qe;gr=1;var a;function i(m){var B=!1;return function(){B||(B=!0,m.apply(void 0,arguments))}}var u=ue().codes,b=u.ERR_MISSING_ARGS,w=u.ERR_STREAM_DESTROYED;function y(m){if(m)throw m}function S(m){return m.setHeader&&typeof m.abort=="function"}function s(m,B,E,M){M=i(M);var v=!1;m.on("close",function(){v=!0}),a===void 0&&(a=Pr()),a(m,{readable:B,writable:E},function(L){if(L)return M(L);v=!0,M()});var R=!1;return function(L){if(!v&&!R){if(R=!0,S(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();M(L||new w("pipe"))}}}function o(m){m()}function _(m,B){return m.pipe(B)}function j(m){return!m.length||typeof m[m.length-1]!="function"?y:m.pop()}function A(){for(var m=arguments.length,B=new Array(m),E=0;E<m;E++)B[E]=arguments[E];var M=j(B);if(Array.isArray(B[0])&&(B=B[0]),B.length<2)throw new b("streams");var v,R=B.map(function(L,P){var D=P<B.length-1,N=P>0;return s(L,D,N,function(I){v||(v=I),I&&R.forEach(o),!D&&(R.forEach(o),M(v))})});return B.reduce(_)}return qe=A,qe}export{Rt as a,St as b,se as c,At as d,Mt as e,Pr as f,jt as g,oe as i,wt as r,Ke as u};
