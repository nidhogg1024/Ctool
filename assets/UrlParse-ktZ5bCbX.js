import{u as f,i as S}from"./action-BZ3Nddn_.js";import{d as z,L as x,M as b,S as p,D as w,c as V,w as c,r as n,a as q,x as r,j as u,v as O,G as U,Y as A}from"./tool-BLEDneDs.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-mathjs-__1x7LJv.js";import"./vendor-monaco-DSX5bDTJ.js";import"./vendor-lodash-rhkwYG98.js";const j=z({__name:"UrlParse",async setup(B){let i,m;const t=f(([i,m]=x(()=>S({input:"",querySerializeOption:A("json")},{paste:a=>a.includes("://")})),i=await i,m(),i)),o=b(()=>{if(t.current.input.trim()==="")return{base:"",path:"",query:p.formQueryString(""),hash:""};try{const e=new URL(t.current.input);return{base:e.origin,path:e.pathname,query:p.formQueryString((e.search.startsWith("?")?e.search.substring(1):e.search)||""),hash:e.hash}}catch(e){return{base:$error(e),path:"",query:p.formQueryString(""),hash:""}}});return w(()=>({url:t.current.input}),()=>{try{new URL(t.current.input),t.save()}catch{}},{immediate:!0}),(a,e)=>{const h=n("Textarea"),s=n("Input"),d=n("Align"),_=n("SerializeOutput"),v=n("HeightResize");return q(),V(v,{reduce:5,ignore:""},{default:c(({small:y,large:g})=>[r(d,{direction:"vertical"},{default:c(()=>[r(h,{height:y,placeholder:a.$t("main_ui_input"),modelValue:u(t).current.input,"onUpdate:modelValue":e[0]||(e[0]=l=>u(t).current.input=l)},null,8,["height","placeholder","modelValue"]),O("div",{style:U([{height:`${g}px`},{display:"grid","grid-template-rows":"auto minmax(0,1fr)",gap:"5px"}])},[r(d,{direction:"vertical"},{default:c(()=>[r(s,{label:"Base","model-value":o.value.base},null,8,["model-value"]),r(s,{label:"Path","model-value":o.value.path},null,8,["model-value"]),r(s,{label:"Hash","model-value":o.value.hash},null,8,["model-value"])]),_:1}),r(_,{placeholder:"Query",content:o.value.query,modelValue:u(t).current.querySerializeOption,"onUpdate:modelValue":e[1]||(e[1]=l=>u(t).current.querySerializeOption=l),onSuccess:e[2]||(e[2]=l=>u(t).save())},null,8,["content","modelValue"])],4)]),_:2},1024)]),_:1})}}});export{j as default};
