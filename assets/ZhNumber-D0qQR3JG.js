import{u as le,i as he}from"./action-YmMChBHQ.js";import{g as oe}from"./vendor-mathjs-__1x7LJv.js";import{d as se,L as fe,M as L,c as K,w as q,r as k,a as D,x as z,k as me,q as de,j as V,F as pe}from"./tool-B4oZh9Hj.js";import"./vendor-monaco-DSX5bDTJ.js";import"./modulepreload-polyfill-B5Qt9EMX.js";import"./vendor-lodash-rhkwYG98.js";var y={},Q;function J(){if(Q)return y;Q=1;var n=/^([+-])?0*(\d+)(\.(\d+))?$/,c=/^([+-])?0*(\d+)(\.(\d+))?e(([+-])?(\d+))$/i,f=y.e2ten=function(r){var e=c.exec(r.toString());if(!e)return r;var t=e[2],a=e[4]||"",l=e[5]?+e[5]:0;if(l>0){var s=a.substr(0,l);s=s.length<l?s+new Array(l-s.length+1).join("0"):s,a=a.substr(l),t+=s}else{l=-l;var o=t.length-l;o=o<0?0:o;var d=t.substr(o,l);d=d.length<l?new Array(l-d.length+1).join("0")+d:d,t=t.substring(0,o),a=d+a}return t=t==""?"0":t,(e[1]=="-"?"-":"")+t+(a?"."+a:"")};y.getNumbResult=function(r){var e=n.exec(r.toString());if(!e&&c.test(r.toString())&&(e=n.exec(f(r.toString()))),e)return{int:e[2],decimal:e[4],minus:e[1]=="-",num:e.slice(1,3).join("")}},y.centerArray=function r(e,t){if(e.splice.apply(e,[0,t.length].concat(t.splice(0,t.length))),arguments.length>2){var a=[].slice.call(arguments,2);a.unshift(e),r.apply(null,a)}return e};var i=y.hasAttr=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)};return y.extend=function(r){for(var e,t=arguments[0]||{},a=Array.prototype.slice.call(arguments,1),l=0;l<a.length;l++){var s=a[l];for(e in s)i(s,e)&&(t[e]=s[e])}return t},y.getDigit=function(r){return r>=5?(r-4)*4+4:r},y.unshiftZero=function(r,e){if(e==null&&(e=1),!(e<=0))for(;e--;)r.unshift(0)},y.clearZero=function(r,e,t){if(r==null)return"";var a=~"*.?+$^[](){}|\\/".indexOf(e)?"\\"+e:e,l=new RegExp("^"+a+"+"),s=new RegExp(a+"+$"),o=new RegExp(a+"{2}","g");return r=r.toString(),t=="^"&&(r=r.replace(l,"")),(!t||t=="$")&&(r=r.replace(s,"")),(!t||t=="nto1")&&(r=r.replace(o,e)),r},y}var H,W;function ce(){if(W)return H;W=1;var n=J();function c(r,e){var t=n.getNumbResult(r);if(!t)return r;e=e||{};var a=this.ch,l=this.ch_u,s=this.ch_f||"",o=this.ch_d||".",d=a.charAt(0),b=t.int,u=t.decimal,h=t.minus,m="",p="",g=h?s:"",v=function $(C,$e,xe){C=n.getNumbResult(C).int;var R="",O=arguments.length>1?arguments[1]:e.tenMin,N=C.length;if(N==1)return a.charAt(+C);if(N<=4)for(var S=0,E=N;E--;){var Z=+C.charAt(S);R+=O&&N==2&&S==0&&Z==1?"":a.charAt(Z),R+=Z&&E?l.charAt(E):"",S++}else{for(var j=C.length/4>>0,B=C.length%4;B==0||!l.charAt(3+j);)B+=4,j--;var ie=C.substr(0,B),M=C.substr(B);R=$(ie,O)+l.charAt(3+j)+(M.charAt(0)=="0"?d:"")+$(M,M.length>4?O:!1)}return R=n.clearZero(R,d),R};if(u){u=n.clearZero(u,"0","$");for(var w=0;w<u.length;w++)p+=a.charAt(+u.charAt(w));p=p?o+p:""}if(m=v(b),e.ww&&l.length>5){var _=l.charAt(4),A=l.charAt(5),x=m.lastIndexOf(A);~x&&(m=m.substring(0,x).replace(new RegExp(A,"g"),_+_)+m.substring(x))}return g+m+p}function f(r){r=r.toString();var e=r.split(this.ch_d),t=e[0].replace(this.ch_f,""),a=e[1],l=!!~e[0].indexOf(this.ch_f),s=this.ch_u.charAt(1),o=this.ch_u.charAt(4),d=this.ch_u.charAt(5);t=t.replace(new RegExp(o+"{2}","g"),d);for(var b=t.split(""),u=0,h=0,m=[],p=[],g=[],v=0;v<b.length;v++){var w=b[v],_=0,A=0;if(~(_=this.ch.indexOf(w)))_>0&&g.unshift(_);else if(~(A=this.ch_u.indexOf(w))){var x=n.getDigit(A);u>A?(n.unshiftZero(g,x),n.centerArray(p,g)):A>=h?(v==0&&(g=[1]),n.centerArray(m,p,g),m.length>0&&n.unshiftZero(m,x),h=A):(g.length==0&&s==w&&(g=[1]),n.centerArray(p,g),n.unshiftZero(p,n.getDigit(A)),u=A)}}n.centerArray(m,p,g).reverse(),m.length==0&&m.push(0);var $=0;if(a){m.push("."),$="0.";for(var v=0;v<a.length;v++)$+=this.ch.indexOf(a.charAt(v)),m.push(this.ch.indexOf(a.charAt(v)));$=+$}return l&&m.unshift("-"),parseFloat(m.join(""))}function i(r,e){var t={ww:!0,complete:!1,outSymbol:!0,unOmitYuan:!1,forceZheng:!1},a=n.getNumbResult(r),l=this.ch.charAt(0);if(e=typeof e=="object"?e:{},!a)return r;e=n.extend(t,e);var s=a.int,o=a.decimal||"",d=e.outSymbol?this.m_t:"",b=a.minus?this.ch_f:"",u="";if(e.complete){for(var h=1;h<this.m_u.length;h++)u+=c.call(this,o.charAt(h-1)||"0")+this.m_u.charAt(h);b+=c.call(this,s,e)+this.m_u.charAt(0)}else{var m=e.unOmitYuan||s!=="0";if(o=o.substr(0,this.m_u.length-1),o=n.clearZero(o,"0","$"),o)for(var p,h=0;h<this.m_u.length-1;h++)o.charAt(h)&&o.charAt(h)!="0"&&(u+=c.call(this,o.charAt(h))+this.m_u.charAt(h+1),p=!1),o.charAt(h)==="0"&&!p&&((h!=0||s!=="0")&&(u+=l),p=!0);(m||!u)&&(b+=c.call(this,s,e)+this.m_u.charAt(0)),e.forceZheng?(u==""||u.charAt(u.length-1)!==this.m_u[2])&&(u+=this.m_z):b+=a.decimal?"":this.m_z,e.forceZheng}return d+b+u}return H={CL:c,unCL:f,toMoney:i},H}var I,X;function ve(){if(X)return I;X=1;var n=ce(),c=J();function f(i,r){return{encodeS:function(e,t){return t=c.extend({ww:!0,tenMin:!0},t),n.CL.call(i,e,t)},encodeB:function(e,t){return t=c.extend({ww:!0},t),n.CL.call(r,e,t)},decodeS:function(){return n.unCL.apply(i,arguments)},decodeB:function(){return n.unCL.apply(r,arguments)},toMoney:function(e,t){return t=c.extend({ww:!0},t),n.toMoney.call(r,e,t)}}}return I=f,I}var U,ee;function _e(){return ee||(ee=1,U={ch:"零一二三四五六七八九",ch_u:"个十百千万亿",ch_f:"负",ch_d:"点"}),U}var G,re;function ge(){return re||(re=1,G={ch:"零壹贰叁肆伍陆柒捌玖",ch_u:"个拾佰仟万亿",ch_f:"负",ch_d:"点",m_t:"人民币",m_z:"整",m_u:"元角分"}),G}var F,te;function Ae(){return te||(te=1,F={ch:"零一二三四五六七八九",ch_u:"個十百千萬億",ch_f:"負",ch_d:"點"}),F}var Y,ne;function be(){return ne||(ne=1,Y={ch:"零壹貳參肆伍陸柒捌玖",ch_u:"個拾佰仟萬億",ch_f:"負",ch_d:"點",m_t:"$",m_z:"整",m_u:"圓角分"}),Y}var P,ae;function ye(){if(ae)return P;ae=1;var n=ce();J();var c=ve(),f={s:_e(),b:ge(),hk_s:Ae(),hk_b:be()},i=function(r){this.lang=r,this.encode=function(){return n.CL.apply(r,arguments)},this.decode=function(){return n.unCL.apply(r,arguments)},this.toMoney=function(){return n.toMoney.apply(r,arguments)}};return i.langs=f,i.cn=c(f.s,f.b),i.hk=c(f.hk_s,f.hk_b),P=i,P}var we=ye();const ue=oe(we),Ce=["number","lower","upper","money"],T=(n,c,f,i=!1)=>{if(n===""||c===f)return n;const r=i?ue.hk:ue.cn;if(c==="money")throw new Error("money convert is not support");return c==="number"&&(n=n.replaceAll(",","").replaceAll(" ","")),c==="number"&&f==="lower"?r.encodeS(n):c==="number"&&f==="upper"?r.encodeB(n):c==="number"&&f==="money"?r.toMoney(n):c==="lower"&&f==="number"?r.decodeS(n):c==="upper"&&f==="number"?r.decodeB(n):T(T(n,c,"number",i),"number",f,i)},Le=se({__name:"ZhNumber",async setup(n){let c,f;const i=le(([c,f]=fe(()=>he({type:"",input:"",traditional:!1,map:Ce},{paste:!1})),c=await c,f(),c)),r=u=>{if(i.current.type===""||i.current.input==="")return"";if(i.current.type===u)return i.current.input;try{return`${T(i.current.input,i.current.type,u,i.current.traditional)}`}catch(h){return $error(h)}},e=u=>({get:()=>r(u),set:h=>t(u,h)}),t=(u,h)=>{i.current.input=`${h}`,i.current.type=u,i.current.input!==""&&i.save()},a=L(e("number")),l=L(e("lower")),s=L(e("upper")),o=L(e("money")),d={number:a,lower:l,upper:s,money:o},b=u=>{$copy(d[u].value)};return(u,h)=>{const m=k("Input"),p=k("Button"),g=k("Display"),v=k("Align"),w=k("Bool");return D(),K(v,{direction:"vertical"},{default:q(()=>[z(v,{direction:"vertical"},{default:q(()=>[(D(!0),me(pe,null,de(V(i).current.map,_=>(D(),K(g,{position:"right-center"},{extra:q(()=>[z(p,{text:u.$t(`zhNumber_${_}`),onClick:A=>b(`${_}`),size:"small",type:"primary"},null,8,["text","onClick"])]),default:q(()=>[z(m,{modelValue:d[`${_}`].value,"onUpdate:modelValue":A=>d[`${_}`].value=A,placeholder:u.$t("zhNumber_input_placeholder",[u.$t(`zhNumber_${_}`)]),size:"large"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024))),256))]),_:1}),z(v,{horizontal:"center"},{default:q(()=>[z(w,{border:"",label:u.$t("zhNumber_traditional"),modelValue:V(i).current.traditional,"onUpdate:modelValue":h[0]||(h[0]=_=>V(i).current.traditional=_)},null,8,["label","modelValue"])]),_:1})]),_:1})}}});export{Le as default};
