import{u as E,i as C}from"./action-CSt0YebL.js";import{g as A,a as H}from"./util-CsO1Ws7h.js";import{d as R,z as T,r as i,f as b,c as D,w as s,v as n,j as t,y as F,I as h,D as P,k as w,A as z,R as y,F as j,B as I}from"./tool-Ct-LHwIw.js";import"./modulepreload-polyfill-B5Qt9EMX.js";const L=R({__name:"Reference",setup(U){const _=T(()=>[{title:$t("regex_reference_name"),key:"name",width:150},{title:$t("regex_reference_text"),key:"text",html:!0}]);return(x,o)=>{const d=i("Table"),r=i("HeightResize");return b(),D(r,null,{default:s(({height:e})=>[n(d,{columns:_.value,lists:t(A)(),height:e},null,8,["columns","lists","height"])]),_:1})}}}),N={class:"ctool-page-option",style:{"margin-bottom":"5px"}},q=R({__name:"Regex",async setup(U){let _,x;const o=E(([_,x]=F(()=>C({input:"[\\dheo]",content:new Date().getFullYear()+" hello WORLD 你好世界",replace:"",is_global:!0,is_ignore_case:!0,is_multiline:!1,is_dotall:!1,is_delete:!1},{paste:!1})),_=await _,x(),_));let d=h(""),r=h(!1);return P(()=>o.current,e=>{d.value="";try{if(!e.input||!e.content)return d.value;const l=!e.is_delete&&e.replace===""?!1:e.is_delete?"":e.replace;let f=(e.is_ignore_case?"i":"")+(e.is_global?"g":"")+(e.is_multiline?"m":"")+(e.is_dotall?"s":""),V=new RegExp(e.input,f);if(l!==!1)d.value=e.content.replace(V,l);else{let c=e.content.match(V),m="";if(c){m+=`${$t("regex_output_count",[c.length])}`;for(let p=0;p<c.length;p++)m+=`
${c[p]}`}else m=$t("regex_output_empty");d.value=m}o.save()}catch(l){d.value=$error(l)}},{immediate:!0,deep:!0}),(e,l)=>{const f=i("Textarea"),V=i("Dropdown"),c=i("Button"),m=i("Align"),p=i("Display"),g=i("Bool"),$=i("Editor"),B=i("HeightResize"),k=i("ExtendPage"),v=I("row");return b(),w(j,null,[z((b(),w("div",N,[n(p,null,{extra:s(()=>[n(m,null,{default:s(()=>[n(V,{size:"small",options:t(H)(),placeholder:e.$t("regex_common"),onSelect:l[1]||(l[1]=a=>t(o).current.input+=a)},null,8,["options","placeholder"]),n(c,{size:"small",type:"primary",onClick:l[2]||(l[2]=a=>y(r)?r.value=!t(r):r=!t(r)),text:e.$t("main_ui_reference")},null,8,["text"])]),_:1})]),default:s(()=>[n(f,{height:80,modelValue:t(o).current.input,"onUpdate:modelValue":l[0]||(l[0]=a=>t(o).current.input=a),placeholder:e.$t("regex_expression")},null,8,["modelValue","placeholder"])]),_:1}),n(p,null,{extra:s(()=>[n(g,{border:"",size:"small",modelValue:t(o).current.is_delete,"onUpdate:modelValue":l[4]||(l[4]=a=>t(o).current.is_delete=a),label:e.$t("regex_delete")},null,8,["modelValue","label"])]),default:s(()=>[n(f,{disabled:t(o).current.is_delete,height:80,modelValue:t(o).current.replace,"onUpdate:modelValue":l[3]||(l[3]=a=>t(o).current.replace=a),placeholder:e.$t("regex_replace_content")},null,8,["disabled","modelValue","placeholder"])]),_:1})])),[[v,"1-1"]]),z((b(),D(B,{append:[".ctool-page-option"]},{default:s(({height:a})=>[n(p,null,{extra:s(()=>[n(m,null,{default:s(()=>[n(g,{border:"",size:"small",modelValue:t(o).current.is_global,"onUpdate:modelValue":l[6]||(l[6]=u=>t(o).current.is_global=u),label:e.$t("regex_global")},null,8,["modelValue","label"]),n(g,{border:"",size:"small",modelValue:t(o).current.is_ignore_case,"onUpdate:modelValue":l[7]||(l[7]=u=>t(o).current.is_ignore_case=u),label:e.$t("regex_ignore_case")},null,8,["modelValue","label"]),n(g,{border:"",size:"small",modelValue:t(o).current.is_multiline,"onUpdate:modelValue":l[8]||(l[8]=u=>t(o).current.is_multiline=u),label:e.$t("regex_multiline")},null,8,["modelValue","label"]),n(g,{border:"",size:"small",modelValue:t(o).current.is_dotall,"onUpdate:modelValue":l[9]||(l[9]=u=>t(o).current.is_dotall=u),label:e.$t("regex_dotall")},null,8,["modelValue","label"])]),_:1})]),default:s(()=>[n($,{height:a,modelValue:t(o).current.content,"onUpdate:modelValue":l[5]||(l[5]=u=>t(o).current.content=u),placeholder:e.$t("regex_input")},null,8,["height","modelValue","placeholder"])]),_:2},1024),n($,{height:a,"model-value":t(d),placeholder:e.$t("main_ui_output")},null,8,["height","model-value","placeholder"])]),_:1})),[[v,"1-1"]]),n(k,{modelValue:t(r),"onUpdate:modelValue":l[10]||(l[10]=a=>y(r)?r.value=a:r=a)},{default:s(()=>[n(L)]),_:1},8,["modelValue"])],64)}}});export{q as default};
